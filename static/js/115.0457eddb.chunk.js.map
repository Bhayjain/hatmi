{"version":3,"sources":["../node_modules/rc-tree/es/contextTypes.js","../node_modules/rc-tree/es/Indent.js","../node_modules/rc-tree/es/utils/treeUtil.js","../node_modules/rc-util/es/Children/toArray.js","../node_modules/rc-tree/es/util.js","../node_modules/rc-tree/es/TreeNode.js","../node_modules/rc-virtual-list/es/Filler.js","../node_modules/rc-virtual-list/es/utils/itemUtil.js","../node_modules/rc-virtual-list/es/utils/algorithmUtil.js","../node_modules/rc-virtual-list/es/List.js","../node_modules/rc-virtual-list/es/index.js","../node_modules/rc-tree/es/MotionTreeNode.js","../node_modules/rc-tree/es/utils/diffUtil.js","../node_modules/rc-tree/es/NodeList.js","../node_modules/rc-tree/es/utils/conductUtil.js","../node_modules/rc-tree/es/Tree.js","../node_modules/rc-tree/es/index.js"],"names":["TreeContext","React","Indent","_ref","prefixCls","level","isStart","isEnd","baseClassName","concat","list","i","_classNames","push","key","className","classNames","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","getKey","pos","undefined","convertTreeToData","rootNodes","dig","node","toArray","children","ret","Children","child","Array","isArray","isFragment","props","map","treeNode","type","isTreeNode","warning","_treeNode$props","dataNode","_objectWithoutProperties","parsedChildren","flattenTreeData","treeNodeList","expandedKeys","expandedKeySet","Set","flattenList","parent","index","getPosition","mergedKey","flattenNode","data","_toConsumableArray","has","traverseDataNodes","dataNodes","callback","externalGetKey","syntheticGetKey","processNode","parentPos","subNode","subIndex","getTreeNodeProps","_ref2","selectedKeys","loadedKeys","loadingKeys","checkedKeys","halfCheckedKeys","dragOverNodeKey","dropPosition","entity","keyEntities","eventKey","expanded","indexOf","selected","loaded","loading","checked","halfChecked","String","dragOver","dragOverGapTop","dragOverGapBottom","convertNodePropsToEventData","active","eventData","get","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","constructor","_possibleConstructorReturn","InternalTreeNode","_React$Component","_inherits","_super","_this","_classCallCheck","state","dragNodeHighlight","onSelectorClick","onNodeClick","context","isSelectable","onSelect","onCheck","onSelectorDoubleClick","onNodeDoubleClick","isDisabled","onNodeSelect","preventDefault","_this$props","disableCheckbox","onNodeCheck","isCheckable","targetChecked","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","setState","_assertThisInitialized","dataTransfer","setData","error","onDragEnter","onNodeDragEnter","onDragOver","onNodeDragOver","onDragLeave","onNodeDragLeave","onDragEnd","onNodeDragEnd","onDrop","onNodeDrop","onExpand","onNodeExpand","setSelectHandle","selectHandle","getNodeState","isLeaf","hasChildren","_this$props2","loadData","disabled","checkable","treeCheckable","syncLoadData","_this$props$context","onNodeLoad","renderSwitcher","_this$props3","switcherIconFromProps","switcherIcon","_this$props$context2","switcherIconFromCtx","switcherCls","onClick","renderCheckbox","_this$props4","$custom","renderIcon","renderSelector","$icon","titleNode","_this$props5","title","icon","_this$props$context3","showIcon","treeIcon","draggable","titleRender","wrapClass","currentIcon","$title","ref","onDoubleClick","_createClass","value","selectable","treeSelectable","_this$props6","style","domRef","onMouseMove","otherProps","_this$props$context4","filterTreeNode","dataOrAriaAttributeProps","getDataAndAria","isEndNode","assign","ContextTreeNode","Consumer","displayName","defaultProps","arrDel","clone","slice","splice","arrAdd","posToArr","split","getDragNodesKeys","dragNodeKey","dragNodesKeys","calcDropPosition","event","clientY","_treeNode$selectHandl","getBoundingClientRect","top","bottom","height","des","Math","max","calcSelectedKeys","multiple","parseCheckedKeys","keyProps","_typeof","conductExpandParent","keyList","conductUp","add","omitProps","startsWith","obj","configurable","writable","Filler","offset","outerStyle","innerStyle","display","flexDirection","position","overflow","transform","left","right","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","alignScrollTop","scrollTop","scrollRange","getScrollPercentage","scrollHeight","clientHeight","getElementScrollPercentage","element","getNodeHeight","findDOMNode","offsetHeight","getRangeIndex","scrollPtg","itemCount","visibleCount","_getLocationItem","total","itemIndex","floor","itemTopPtg","offsetPtg","getLocationItem","beforeCount","ceil","afterCount","itemOffsetPtg","startIndex","endIndex","min","getItemRelativeTop","itemElementHeights","locatedItemTop","locatedItemOffset","getItemKey","getCompareItemRelativeTop","_ref4","locatedItemRelativeTop","locatedItemIndex","compareItemIndex","originCompareItemTop","compareItemKey","_index","_key","requireVirtual","itemHeight","count","virtual","getIndexByStartLoc","start","stepIndex","Symbol","iterator","_defineProperties","descriptor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","self","ReferenceError","getPrototypeOf","ScrollStyle","overflowY","overflowAnchor","List","subClass","superClass","TypeError","create","Constructor","protoProps","staticProps","instance","listRef","itemElements","lockScroll","onScroll","_this$listRef$current","current","originScrollTop","_getRangeIndex","status","triggerOnScroll","onRawScroll","getIndexKey","mergedProps","_mergedProps$data","item","console","itemKey","collectItemHeights","range","eleKey","scrollTo","arg0","raf","cancel","rafId","isVirtual","_arg0$align","align","findIndex","_this$state","relativeLocatedItemTop","relativeTop","mergedAlgin","shouldChange","abs","itemTop","_i","_eleKey","_getRangeIndex2","nextIndex","newOffsetPtg","_eleKey2","internalScrollTo","indexItemHeight","itemBottom","renderChildren","renderFunc","eleIndex","visibility","ele","cachedProps","startItemTop","nextProps","_this2","onSkipRender","prevData","changedItemIndex","diff","originList","targetList","shortList","longList","originLen","targetLen","notExistKey","__EMPTY_ITEM__","diffIndex","shortKey","findListDiffIndex","_this$state2","nextStatus","_this$state3","_startIndex","_ref3","_this$state$cacheScro","cacheScroll","_itemIndex","rawTop","requestAnimationFrame","originLocatedItemRelativeTop","originItemIndex","_this$state4","originItemOffsetPtg","originStartIndex","originEndIndex","originCompareItemIndex","relativeScroll","_this3","compareItemRelativeTop","bestSimilarity","Number","MAX_VALUE","bestScrollTop","bestItemIndex","bestItemOffsetPtg","bestStartIndex","bestEndIndex","missSimilarity","maxScrollTop","_getRangeIndex3","compareItemTop","similarity","_this$state5","_this$props5$componen","component","Component","_this$props5$fullHeig","fullHeight","restProps","mergedClassName","shouldVirtual","mergedStyle","_this$state6","contentHeight","MotionTreeNode","motion","motionNodes","motionType","onOriginMotionEnd","onMotionEnd","treeNodeRequiredProps","_React$useState","_React$useState2","_slicedToArray","visible","setVisible","motionedRef","CSSMotion","motionAppear","onAppearEnd","onLeaveEnd","motionRef","motionClassName","motionStyle","_treeNode$data","treeNodeProps","TreeNode","RefMotionTreeNode","getExpandRange","shorter","longer","shorterStartIndex","shorterEndNode","longerStartIndex","longerEndIndex","HIDDEN_STYLE","width","opacity","border","padding","margin","noop","MOTION_KEY","random","MotionNode","MotionEntity","MotionFlattenData","getMinimumRangeTransitionRange","NodeList","dragging","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd","domProps","scroll","disableVirtual","setDisableVirtual","_React$useState3","_React$useState4","prevExpandedKeys","setPrevExpandedKeys","_React$useState5","_React$useState6","setPrevData","_React$useState7","_React$useState8","transitionData","setTransitionData","_React$useState9","_React$useState10","transitionRange","setTransitionRange","_React$useState11","_React$useState12","setMotionType","diffExpanded","prev","next","prevLen","nextLen","find","cache","Map","set","findExpandedKeys","keyIndex","rangeNodes","newTransitionData","_keyIndex","_rangeNodes","_newTransitionData","mergedData","path","getAccessibilityPath","role","onChange","VirtualList","removeFromCheckedKeys","filteredKeys","isCheckDisabled","conductCheck","getCheckDisabled","syntheticGetCheckDisabled","warningMissKeys","hasEntity","levelEntities","maxLevel","levelSet","join","_entity$children","childEntity","visitedKeys","_level","allChecked","partialChecked","from","fillConductCheck","halfKeys","_entity$children2","_level2","cleanConductCheck","Tree","treeData","flattenNodes","activeKey","listChanging","prevProps","dragNode","newExpandedKeys","setExpandedKeys","_node$props","setTimeout","delayedDragEnterLogic","clearTimeout","window","cleanDragState","_this$state3$dragNode","_node$props2","posArr","dropResult","dropToGap","targetSelected","selectedNodes","selectedKey","setUncontrolledState","nativeEvent","checkedObj","oriCheckedKeys","oriHalfCheckedKeys","checkStrictly","eventObj","checkedNodes","checkedKey","_conductCheck","_checkedKeys","_halfCheckedKeys","keySet","_conductCheck2","checkedNodesPositions","Promise","resolve","_ref$loadedKeys","_ref$loadingKeys","onLoad","then","currentLoadedKeys","currentLoadingKeys","newLoadedKeys","newLoadingKeys","onRightClick","getTreeNodeRequiredProps","targetExpanded","loadPromise","newFlattenTreeData","newActiveKey","getActiveItem","_this$state7","offsetActiveKey","_this$state8","_this$state9","which","KeyCode","UP","DOWN","expandable","eventNode","LEFT","includes","RIGHT","ENTER","SPACE","atomic","forceState","needSync","allPassed","newState","name","_this$state10","showLine","_this$props6$tabIndex","Provider","prevState","entitiesMap","initWrapper","processEntity","onProcessFinished","posEntities","wrapper","convertDataToEntities","checkedKeyEntity","autoExpandParent","defaultExpandParent","defaultExpandAll","cloneKeyEntities","defaultExpandedKeys","defaultSelectedKeys","defaultCheckedKeys","_checkedKeyEntity","_checkedKeyEntity$che","_checkedKeyEntity$hal","conductKeys"],"mappings":"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","file":"static/js/115.0457eddb.chunk.js","sourcesContent":["/**\n * Webpack has bug for import loop, which is not the same behavior as ES module.\n * When util.js imports the TreeNode for tree generate will cause treeContextTypes be empty.\n */\nimport * as React from 'react';\nexport var TreeContext = React.createContext(null);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nvar Indent = function Indent(_ref) {\n  var prefixCls = _ref.prefixCls,\n      level = _ref.level,\n      isStart = _ref.isStart,\n      isEnd = _ref.isEnd;\n\n  if (!level) {\n    return null;\n  }\n\n  var baseClassName = \"\".concat(prefixCls, \"-indent-unit\");\n  var list = [];\n\n  for (var i = 0; i < level; i += 1) {\n    var _classNames;\n\n    list.push(React.createElement(\"span\", {\n      key: i,\n      className: classNames(baseClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-start\"), isStart[i + 1]), _defineProperty(_classNames, \"\".concat(baseClassName, \"-end\"), isEnd[i + 1]), _classNames))\n    }));\n  }\n\n  return React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-indent\")\n  }, list);\n};\n\nexport default Indent;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport { getPosition, isTreeNode } from '../util';\nexport function getKey(key, pos) {\n  if (key !== null && key !== undefined) {\n    return key;\n  }\n\n  return pos;\n}\n/**\n * Warning if TreeNode do not provides key\n */\n\nexport function warningWithoutKey() {\n  var treeData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keys = new Map();\n\n  function dig(list) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    (list || []).forEach(function (treeNode) {\n      var key = treeNode.key,\n          children = treeNode.children;\n      warning(key !== null && key !== undefined, \"Tree node must have a certain key: [\".concat(path).concat(key, \"]\"));\n      var recordKey = String(key);\n      warning(!keys.has(recordKey) || key === null || key === undefined, \"Same 'key' exist in the Tree: \".concat(recordKey));\n      keys.set(recordKey, true);\n      dig(children, \"\".concat(path).concat(recordKey, \" > \"));\n    });\n  }\n\n  dig(treeData);\n}\n/**\n * Convert `children` of Tree into `treeData` structure.\n */\n\nexport function convertTreeToData(rootNodes) {\n  function dig(node) {\n    var treeNodes = toArray(node);\n    return treeNodes.map(function (treeNode) {\n      // Filter invalidate node\n      if (!isTreeNode(treeNode)) {\n        warning(!treeNode, 'Tree/TreeNode can only accept TreeNode as children.');\n        return null;\n      }\n\n      var key = treeNode.key;\n\n      var _treeNode$props = treeNode.props,\n          children = _treeNode$props.children,\n          rest = _objectWithoutProperties(_treeNode$props, [\"children\"]);\n\n      var dataNode = _objectSpread({\n        key: key\n      }, rest);\n\n      var parsedChildren = dig(children);\n\n      if (parsedChildren.length) {\n        dataNode.children = parsedChildren;\n      }\n\n      return dataNode;\n    }).filter(function (dataNode) {\n      return dataNode;\n    });\n  }\n\n  return dig(rootNodes);\n}\n/**\n * Flat nest tree data into flatten list. This is used for virtual list render.\n * @param treeNodeList Origin data node list\n * @param expandedKeys\n * need expanded keys, provides `true` means all expanded (used in `rc-tree-select`).\n */\n\nexport function flattenTreeData() {\n  var treeNodeList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var expandedKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var expandedKeySet = new Set(expandedKeys === true ? [] : expandedKeys);\n  var flattenList = [];\n\n  function dig(list) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return list.map(function (treeNode, index) {\n      var pos = getPosition(parent ? parent.pos : '0', index);\n      var mergedKey = getKey(treeNode.key, pos); // Add FlattenDataNode into list\n\n      var flattenNode = _objectSpread(_objectSpread({}, treeNode), {}, {\n        parent: parent,\n        pos: pos,\n        children: null,\n        data: treeNode,\n        isStart: [].concat(_toConsumableArray(parent ? parent.isStart : []), [index === 0]),\n        isEnd: [].concat(_toConsumableArray(parent ? parent.isEnd : []), [index === list.length - 1])\n      });\n\n      flattenList.push(flattenNode); // Loop treeNode children\n\n      if (expandedKeys === true || expandedKeySet.has(mergedKey)) {\n        flattenNode.children = dig(treeNode.children || [], flattenNode);\n      } else {\n        flattenNode.children = [];\n      }\n\n      return flattenNode;\n    });\n  }\n\n  dig(treeNodeList);\n  return flattenList;\n}\n/**\n * Traverse all the data by `treeData`.\n * Please not use it out of the `rc-tree` since we may refactor this code.\n */\n\nexport function traverseDataNodes(dataNodes, callback, externalGetKey) {\n  var syntheticGetKey;\n\n  if (externalGetKey) {\n    if (typeof externalGetKey === 'string') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return node[externalGetKey];\n      };\n    } else if (typeof externalGetKey === 'function') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return externalGetKey(node);\n      };\n    }\n  } else {\n    syntheticGetKey = function syntheticGetKey(node, pos) {\n      return getKey(node.key, pos);\n    };\n  }\n\n  function processNode(node, index, parent) {\n    var children = node ? node.children : dataNodes;\n    var pos = node ? getPosition(parent.pos, index) : '0'; // Process node if is not root\n\n    if (node) {\n      var key = syntheticGetKey(node, pos);\n      var data = {\n        node: node,\n        index: index,\n        pos: pos,\n        key: key,\n        parentPos: parent.node ? parent.pos : null,\n        level: parent.level + 1\n      };\n      callback(data);\n    } // Process children node\n\n\n    if (children) {\n      children.forEach(function (subNode, subIndex) {\n        processNode(subNode, subIndex, {\n          node: node,\n          pos: pos,\n          level: parent ? parent.level + 1 : -1\n        });\n      });\n    }\n  }\n\n  processNode(null);\n}\n/**\n * Convert `treeData` into entity records.\n */\n\nexport function convertDataToEntities(dataNodes) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      initWrapper = _ref.initWrapper,\n      processEntity = _ref.processEntity,\n      onProcessFinished = _ref.onProcessFinished;\n\n  var externalGetKey = arguments.length > 2 ? arguments[2] : undefined;\n  var posEntities = {};\n  var keyEntities = {};\n  var wrapper = {\n    posEntities: posEntities,\n    keyEntities: keyEntities\n  };\n\n  if (initWrapper) {\n    wrapper = initWrapper(wrapper) || wrapper;\n  }\n\n  traverseDataNodes(dataNodes, function (item) {\n    var node = item.node,\n        index = item.index,\n        pos = item.pos,\n        key = item.key,\n        parentPos = item.parentPos,\n        level = item.level;\n    var entity = {\n      node: node,\n      index: index,\n      key: key,\n      pos: pos,\n      level: level\n    };\n    var mergedKey = getKey(key, pos);\n    posEntities[pos] = entity;\n    keyEntities[mergedKey] = entity; // Fill children\n\n    entity.parent = posEntities[parentPos];\n\n    if (entity.parent) {\n      entity.parent.children = entity.parent.children || [];\n      entity.parent.children.push(entity);\n    }\n\n    if (processEntity) {\n      processEntity(entity, wrapper);\n    }\n  }, externalGetKey);\n\n  if (onProcessFinished) {\n    onProcessFinished(wrapper);\n  }\n\n  return wrapper;\n}\n/**\n * Get TreeNode props with Tree props.\n */\n\nexport function getTreeNodeProps(key, _ref2) {\n  var expandedKeys = _ref2.expandedKeys,\n      selectedKeys = _ref2.selectedKeys,\n      loadedKeys = _ref2.loadedKeys,\n      loadingKeys = _ref2.loadingKeys,\n      checkedKeys = _ref2.checkedKeys,\n      halfCheckedKeys = _ref2.halfCheckedKeys,\n      dragOverNodeKey = _ref2.dragOverNodeKey,\n      dropPosition = _ref2.dropPosition,\n      keyEntities = _ref2.keyEntities;\n  var entity = keyEntities[key];\n  var treeNodeProps = {\n    eventKey: key,\n    expanded: expandedKeys.indexOf(key) !== -1,\n    selected: selectedKeys.indexOf(key) !== -1,\n    loaded: loadedKeys.indexOf(key) !== -1,\n    loading: loadingKeys.indexOf(key) !== -1,\n    checked: checkedKeys.indexOf(key) !== -1,\n    halfChecked: halfCheckedKeys.indexOf(key) !== -1,\n    pos: String(entity ? entity.pos : ''),\n    // [Legacy] Drag props\n    dragOver: dragOverNodeKey === key && dropPosition === 0,\n    dragOverGapTop: dragOverNodeKey === key && dropPosition === -1,\n    dragOverGapBottom: dragOverNodeKey === key && dropPosition === 1\n  };\n  return treeNodeProps;\n}\nexport function convertNodePropsToEventData(props) {\n  var data = props.data,\n      expanded = props.expanded,\n      selected = props.selected,\n      checked = props.checked,\n      loaded = props.loaded,\n      loading = props.loading,\n      halfChecked = props.halfChecked,\n      dragOver = props.dragOver,\n      dragOverGapTop = props.dragOverGapTop,\n      dragOverGapBottom = props.dragOverGapBottom,\n      pos = props.pos,\n      active = props.active;\n\n  var eventData = _objectSpread(_objectSpread({}, data), {}, {\n    expanded: expanded,\n    selected: selected,\n    checked: checked,\n    loaded: loaded,\n    loading: loading,\n    halfChecked: halfChecked,\n    dragOver: dragOver,\n    dragOverGapTop: dragOverGapTop,\n    dragOverGapBottom: dragOverGapBottom,\n    pos: pos,\n    active: active\n  });\n\n  if (!('props' in eventData)) {\n    Object.defineProperty(eventData, 'props', {\n      get: function get() {\n        warning(false, 'Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`.');\n        return props;\n      }\n    });\n  }\n\n  return eventData;\n}","import React from 'react';\nimport { isFragment } from 'react-is';\nexport default function toArray(children) {\n  var ret = [];\n  React.Children.forEach(children, function (child) {\n    if (child === undefined || child === null) {\n      return;\n    }\n\n    if (Array.isArray(child)) {\n      ret = ret.concat(toArray(child));\n    } else if (isFragment(child) && child.props) {\n      ret = ret.concat(toArray(child.props.children));\n    } else {\n      ret.push(child);\n    }\n  });\n  return ret;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from './TreeNode';\nvar DRAG_SIDE_RANGE = 0.25;\nvar DRAG_MIN_GAP = 2;\nexport function arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\nexport function arrAdd(list, value) {\n  var clone = list.slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\nexport function posToArr(pos) {\n  return pos.split('-');\n}\nexport function getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\nexport function getDragNodesKeys(dragNodeKey, keyEntities) {\n  var dragNodesKeys = [dragNodeKey];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragNodesKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragNodesKeys;\n} // Only used when drag, not affect SSR.\n\nexport function calcDropPosition(event, treeNode) {\n  var clientY = event.clientY;\n\n  var _treeNode$selectHandl = treeNode.selectHandle.getBoundingClientRect(),\n      top = _treeNode$selectHandl.top,\n      bottom = _treeNode$selectHandl.bottom,\n      height = _treeNode$selectHandl.height;\n\n  var des = Math.max(height * DRAG_SIDE_RANGE, DRAG_MIN_GAP);\n\n  if (clientY <= top + des) {\n    return -1;\n  }\n\n  if (clientY >= bottom - des) {\n    return 1;\n  }\n\n  return 0;\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nexport function convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = _objectWithoutProperties(_ref3, [\"children\"]);\n\n    var childrenNodes = convertDataToTree(children, processor);\n    return React.createElement(TreeNode, Object.assign({}, processProps(props)), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (_typeof(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return _toConsumableArray(expandedKeys);\n}\n/**\n * Returns only the data- and aria- key/value pairs\n */\n\nexport function getDataAndAria(props) {\n  var omitProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('data-') || key.startsWith('aria-')) {\n      omitProps[key] = props[key];\n    }\n  });\n  return omitProps;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport classNames from 'classnames'; // @ts-ignore\n\nimport { TreeContext } from './contextTypes';\nimport { getDataAndAria } from './util';\nimport Indent from './Indent';\nimport { convertNodePropsToEventData } from './utils/treeUtil';\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar InternalTreeNode = /*#__PURE__*/function (_React$Component) {\n  _inherits(InternalTreeNode, _React$Component);\n\n  var _super = _createSuper(InternalTreeNode);\n\n  function InternalTreeNode() {\n    var _this;\n\n    _classCallCheck(this, InternalTreeNode);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      dragNodeHighlight: false\n    };\n\n    _this.onSelectorClick = function (e) {\n      // Click trigger before select/check operation\n      var onNodeClick = _this.props.context.onNodeClick;\n      onNodeClick(e, convertNodePropsToEventData(_this.props));\n\n      if (_this.isSelectable()) {\n        _this.onSelect(e);\n      } else {\n        _this.onCheck(e);\n      }\n    };\n\n    _this.onSelectorDoubleClick = function (e) {\n      var onNodeDoubleClick = _this.props.context.onNodeDoubleClick;\n      onNodeDoubleClick(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onSelect = function (e) {\n      if (_this.isDisabled()) return;\n      var onNodeSelect = _this.props.context.onNodeSelect;\n      e.preventDefault();\n      onNodeSelect(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onCheck = function (e) {\n      if (_this.isDisabled()) return;\n      var _this$props = _this.props,\n          disableCheckbox = _this$props.disableCheckbox,\n          checked = _this$props.checked;\n      var onNodeCheck = _this.props.context.onNodeCheck;\n      if (!_this.isCheckable() || disableCheckbox) return;\n      e.preventDefault();\n      var targetChecked = !checked;\n      onNodeCheck(e, convertNodePropsToEventData(_this.props), targetChecked);\n    };\n\n    _this.onMouseEnter = function (e) {\n      var onNodeMouseEnter = _this.props.context.onNodeMouseEnter;\n      onNodeMouseEnter(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onMouseLeave = function (e) {\n      var onNodeMouseLeave = _this.props.context.onNodeMouseLeave;\n      onNodeMouseLeave(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onContextMenu = function (e) {\n      var onNodeContextMenu = _this.props.context.onNodeContextMenu;\n      onNodeContextMenu(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onDragStart = function (e) {\n      var onNodeDragStart = _this.props.context.onNodeDragStart;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: true\n      });\n\n      onNodeDragStart(e, _assertThisInitialized(_this));\n\n      try {\n        // ie throw error\n        // firefox-need-it\n        e.dataTransfer.setData('text/plain', '');\n      } catch (error) {// empty\n      }\n    };\n\n    _this.onDragEnter = function (e) {\n      var onNodeDragEnter = _this.props.context.onNodeDragEnter;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragEnter(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragOver = function (e) {\n      var onNodeDragOver = _this.props.context.onNodeDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragOver(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragLeave = function (e) {\n      var onNodeDragLeave = _this.props.context.onNodeDragLeave;\n      e.stopPropagation();\n      onNodeDragLeave(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragEnd = function (e) {\n      var onNodeDragEnd = _this.props.context.onNodeDragEnd;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDragEnd(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDrop = function (e) {\n      var onNodeDrop = _this.props.context.onNodeDrop;\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDrop(e, _assertThisInitialized(_this));\n    }; // Disabled item still can be switch\n\n\n    _this.onExpand = function (e) {\n      var onNodeExpand = _this.props.context.onNodeExpand;\n      onNodeExpand(e, convertNodePropsToEventData(_this.props));\n    }; // Drag usage\n\n\n    _this.setSelectHandle = function (node) {\n      _this.selectHandle = node;\n    };\n\n    _this.getNodeState = function () {\n      var expanded = _this.props.expanded;\n\n      if (_this.isLeaf()) {\n        return null;\n      }\n\n      return expanded ? ICON_OPEN : ICON_CLOSE;\n    };\n\n    _this.hasChildren = function () {\n      var eventKey = _this.props.eventKey;\n      var keyEntities = _this.props.context.keyEntities;\n\n      var _ref = keyEntities[eventKey] || {},\n          children = _ref.children;\n\n      return !!(children || []).length;\n    };\n\n    _this.isLeaf = function () {\n      var _this$props2 = _this.props,\n          isLeaf = _this$props2.isLeaf,\n          loaded = _this$props2.loaded;\n      var loadData = _this.props.context.loadData;\n\n      var hasChildren = _this.hasChildren();\n\n      if (isLeaf === false) {\n        return false;\n      }\n\n      return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n    };\n\n    _this.isDisabled = function () {\n      var disabled = _this.props.disabled;\n      var treeDisabled = _this.props.context.disabled;\n      return !!(treeDisabled || disabled);\n    };\n\n    _this.isCheckable = function () {\n      var checkable = _this.props.checkable;\n      var treeCheckable = _this.props.context.checkable; // Return false if tree or treeNode is not checkable\n\n      if (!treeCheckable || checkable === false) return false;\n      return treeCheckable;\n    }; // Load data to avoid default expanded tree without data\n\n\n    _this.syncLoadData = function (props) {\n      var expanded = props.expanded,\n          loading = props.loading,\n          loaded = props.loaded;\n      var _this$props$context = _this.props.context,\n          loadData = _this$props$context.loadData,\n          onNodeLoad = _this$props$context.onNodeLoad;\n      if (loading) return; // read from state to avoid loadData at same time\n\n      if (loadData && expanded && !_this.isLeaf()) {\n        // We needn't reload data when has children in sync logic\n        // It's only needed in node expanded\n        if (!_this.hasChildren() && !loaded) {\n          onNodeLoad(convertNodePropsToEventData(_this.props));\n        }\n      }\n    }; // Switcher\n\n\n    _this.renderSwitcher = function () {\n      var _this$props3 = _this.props,\n          expanded = _this$props3.expanded,\n          switcherIconFromProps = _this$props3.switcherIcon;\n      var _this$props$context2 = _this.props.context,\n          prefixCls = _this$props$context2.prefixCls,\n          switcherIconFromCtx = _this$props$context2.switcherIcon;\n      var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n      if (_this.isLeaf()) {\n        return React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher-noop\"))\n        }, typeof switcherIcon === 'function' ? switcherIcon(_objectSpread(_objectSpread({}, _this.props), {}, {\n          isLeaf: true\n        })) : switcherIcon);\n      }\n\n      var switcherCls = classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE));\n      return React.createElement(\"span\", {\n        onClick: _this.onExpand,\n        className: switcherCls\n      }, typeof switcherIcon === 'function' ? switcherIcon(_objectSpread(_objectSpread({}, _this.props), {}, {\n        isLeaf: false\n      })) : switcherIcon);\n    }; // Checkbox\n\n\n    _this.renderCheckbox = function () {\n      var _this$props4 = _this.props,\n          checked = _this$props4.checked,\n          halfChecked = _this$props4.halfChecked,\n          disableCheckbox = _this$props4.disableCheckbox;\n      var prefixCls = _this.props.context.prefixCls;\n\n      var disabled = _this.isDisabled();\n\n      var checkable = _this.isCheckable();\n\n      if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n      var $custom = typeof checkable !== 'boolean' ? checkable : null;\n      return React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-checkbox\"), checked && \"\".concat(prefixCls, \"-checkbox-checked\"), !checked && halfChecked && \"\".concat(prefixCls, \"-checkbox-indeterminate\"), (disabled || disableCheckbox) && \"\".concat(prefixCls, \"-checkbox-disabled\")),\n        onClick: _this.onCheck\n      }, $custom);\n    };\n\n    _this.renderIcon = function () {\n      var loading = _this.props.loading;\n      var prefixCls = _this.props.context.prefixCls;\n      return React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__\").concat(_this.getNodeState() || 'docu'), loading && \"\".concat(prefixCls, \"-icon_loading\"))\n      });\n    }; // Icon + Title\n\n\n    _this.renderSelector = function () {\n      var dragNodeHighlight = _this.state.dragNodeHighlight;\n      var _this$props5 = _this.props,\n          title = _this$props5.title,\n          selected = _this$props5.selected,\n          icon = _this$props5.icon,\n          loading = _this$props5.loading,\n          data = _this$props5.data;\n      var _this$props$context3 = _this.props.context,\n          prefixCls = _this$props$context3.prefixCls,\n          showIcon = _this$props$context3.showIcon,\n          treeIcon = _this$props$context3.icon,\n          draggable = _this$props$context3.draggable,\n          loadData = _this$props$context3.loadData,\n          titleRender = _this$props$context3.titleRender;\n\n      var disabled = _this.isDisabled();\n\n      var wrapClass = \"\".concat(prefixCls, \"-node-content-wrapper\"); // Icon - Still show loading icon when loading without showIcon\n\n      var $icon;\n\n      if (showIcon) {\n        var currentIcon = icon || treeIcon;\n        $icon = currentIcon ? React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__customize\"))\n        }, typeof currentIcon === 'function' ? currentIcon(_this.props) : currentIcon) : _this.renderIcon();\n      } else if (loadData && loading) {\n        $icon = _this.renderIcon();\n      } // Title\n\n\n      var titleNode;\n\n      if (typeof title === 'function') {\n        titleNode = title(data);\n      } else if (titleRender) {\n        titleNode = titleRender(data);\n      } else {\n        titleNode = title;\n      }\n\n      var $title = React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleNode);\n      return React.createElement(\"span\", {\n        ref: _this.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames(\"\".concat(wrapClass), \"\".concat(wrapClass, \"-\").concat(_this.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && \"\".concat(prefixCls, \"-node-selected\"), !disabled && draggable && 'draggable'),\n        draggable: !disabled && draggable || undefined,\n        \"aria-grabbed\": !disabled && draggable || undefined,\n        onMouseEnter: _this.onMouseEnter,\n        onMouseLeave: _this.onMouseLeave,\n        onContextMenu: _this.onContextMenu,\n        onClick: _this.onSelectorClick,\n        onDoubleClick: _this.onSelectorDoubleClick,\n        onDragStart: draggable ? _this.onDragStart : undefined\n      }, $icon, $title);\n    };\n\n    return _this;\n  } // Isomorphic needn't load data in server side\n\n\n  _createClass(InternalTreeNode, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"isSelectable\",\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.props.context.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props6 = this.props,\n          eventKey = _this$props6.eventKey,\n          className = _this$props6.className,\n          style = _this$props6.style,\n          dragOver = _this$props6.dragOver,\n          dragOverGapTop = _this$props6.dragOverGapTop,\n          dragOverGapBottom = _this$props6.dragOverGapBottom,\n          isLeaf = _this$props6.isLeaf,\n          isStart = _this$props6.isStart,\n          isEnd = _this$props6.isEnd,\n          expanded = _this$props6.expanded,\n          selected = _this$props6.selected,\n          checked = _this$props6.checked,\n          halfChecked = _this$props6.halfChecked,\n          loading = _this$props6.loading,\n          domRef = _this$props6.domRef,\n          active = _this$props6.active,\n          onMouseMove = _this$props6.onMouseMove,\n          otherProps = _objectWithoutProperties(_this$props6, [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"onMouseMove\"]);\n\n      var _this$props$context4 = this.props.context,\n          prefixCls = _this$props$context4.prefixCls,\n          filterTreeNode = _this$props$context4.filterTreeNode,\n          draggable = _this$props$context4.draggable,\n          keyEntities = _this$props$context4.keyEntities;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n\n      var _ref2 = keyEntities[eventKey] || {},\n          level = _ref2.level;\n\n      var isEndNode = isEnd[isEnd.length - 1];\n      return React.createElement(\"div\", Object.assign({\n        ref: domRef,\n        className: classNames(className, \"\".concat(prefixCls, \"-treenode\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-indeterminate\"), halfChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-selected\"), selected), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-active\"), active), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-leaf-last\"), isEndNode), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(convertNodePropsToEventData(this.props))), _classNames)),\n        style: style,\n        onDragEnter: draggable ? this.onDragEnter : undefined,\n        onDragOver: draggable ? this.onDragOver : undefined,\n        onDragLeave: draggable ? this.onDragLeave : undefined,\n        onDrop: draggable ? this.onDrop : undefined,\n        onDragEnd: draggable ? this.onDragEnd : undefined,\n        onMouseMove: onMouseMove\n      }, dataOrAriaAttributeProps), React.createElement(Indent, {\n        prefixCls: prefixCls,\n        level: level,\n        isStart: isStart,\n        isEnd: isEnd\n      }), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector());\n    }\n  }]);\n\n  return InternalTreeNode;\n}(React.Component);\n\nvar ContextTreeNode = function ContextTreeNode(props) {\n  return React.createElement(TreeContext.Consumer, null, function (context) {\n    return React.createElement(InternalTreeNode, Object.assign({}, props, {\n      context: context\n    }));\n  });\n};\n\nContextTreeNode.displayName = 'TreeNode';\nContextTreeNode.defaultProps = {\n  title: defaultTitle\n};\nContextTreeNode.isTreeNode = 1;\nexport { InternalTreeNode };\nexport default ContextTreeNode;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport classNames from 'classnames';\n/**\n * Fill component to provided the scroll content real height.\n */\n\nvar Filler = function Filler(_ref) {\n  var height = _ref.height,\n      offset = _ref.offset,\n      children = _ref.children,\n      prefixCls = _ref.prefixCls;\n  var outerStyle = {};\n  var innerStyle = {\n    display: 'flex',\n    flexDirection: 'column'\n  };\n\n  if (offset !== undefined) {\n    outerStyle = {\n      height: height,\n      position: 'relative',\n      overflow: 'hidden'\n    };\n    innerStyle = _objectSpread(_objectSpread({}, innerStyle), {}, {\n      transform: \"translateY(\".concat(offset, \"px)\"),\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0\n    });\n  }\n\n  return React.createElement(\"div\", {\n    style: outerStyle\n  }, React.createElement(\"div\", {\n    style: innerStyle,\n    className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-holder-inner\"), prefixCls))\n  }, children));\n};\n\nexport default Filler;","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\n/**\n * Our algorithm have additional one ghost item\n * whose index as `data.length` to simplify the calculation\n */\n\nexport var GHOST_ITEM_KEY = '__rc_ghost_item__';\n/**\n * Get location item and its align percentage with the scroll percentage.\n * We should measure current scroll position to decide which item is the location item.\n * And then fill the top count and bottom count with the base of location item.\n *\n * `total` should be the real count instead of `total - 1` in calculation.\n */\n\nfunction getLocationItem(scrollPtg, total) {\n  var itemIndex = Math.floor(scrollPtg * total);\n  var itemTopPtg = itemIndex / total;\n  var itemBottomPtg = (itemIndex + 1) / total;\n  var itemOffsetPtg = (scrollPtg - itemTopPtg) / (itemBottomPtg - itemTopPtg);\n  return {\n    index: itemIndex,\n    offsetPtg: itemOffsetPtg\n  };\n}\n/**\n * Safari has the elasticity effect which provides negative `scrollTop` value.\n * We should ignore it since will make scroll animation shake.\n */\n\n\nexport function alignScrollTop(scrollTop, scrollRange) {\n  if (scrollTop < 0) {\n    return 0;\n  }\n\n  if (scrollTop >= scrollRange) {\n    return scrollRange;\n  }\n\n  return scrollTop;\n}\nexport function getScrollPercentage(_ref) {\n  var scrollTop = _ref.scrollTop,\n      scrollHeight = _ref.scrollHeight,\n      clientHeight = _ref.clientHeight;\n\n  if (scrollHeight <= clientHeight) {\n    return 0;\n  }\n\n  var scrollRange = scrollHeight - clientHeight;\n  var alignedScrollTop = alignScrollTop(scrollTop, scrollRange);\n  var scrollTopPtg = alignedScrollTop / scrollRange;\n  return scrollTopPtg;\n}\nexport function getElementScrollPercentage(element) {\n  if (!element) {\n    return 0;\n  }\n\n  return getScrollPercentage(element);\n}\n/**\n * Get node `offsetHeight`. We prefer node is a dom element directly.\n * But if not provided, downgrade to `findDOMNode` to get the real dom element.\n */\n\nexport function getNodeHeight(node) {\n  var element = findDOMNode(node);\n  return element ? element.offsetHeight : 0;\n}\n/**\n * Get display items start, end, located item index. This is pure math calculation\n */\n\nexport function getRangeIndex(scrollPtg, itemCount, visibleCount) {\n  var _getLocationItem = getLocationItem(scrollPtg, itemCount),\n      index = _getLocationItem.index,\n      offsetPtg = _getLocationItem.offsetPtg;\n\n  var beforeCount = Math.ceil(scrollPtg * visibleCount);\n  var afterCount = Math.ceil((1 - scrollPtg) * visibleCount);\n  return {\n    itemIndex: index,\n    itemOffsetPtg: offsetPtg,\n    startIndex: Math.max(0, index - beforeCount),\n    endIndex: Math.min(itemCount - 1, index + afterCount)\n  };\n}\n/**\n * Calculate the located item related top with current window height\n */\n\nexport function getItemRelativeTop(_ref2) {\n  var itemIndex = _ref2.itemIndex,\n      itemOffsetPtg = _ref2.itemOffsetPtg,\n      itemElementHeights = _ref2.itemElementHeights,\n      scrollPtg = _ref2.scrollPtg,\n      clientHeight = _ref2.clientHeight,\n      getItemKey = _ref2.getItemKey;\n  var locatedItemHeight = itemElementHeights[getItemKey(itemIndex)] || 0;\n  var locatedItemTop = scrollPtg * clientHeight;\n  var locatedItemOffset = itemOffsetPtg * locatedItemHeight;\n  return Math.floor(locatedItemTop - locatedItemOffset);\n}\n/**\n * Calculate the located item absolute top with whole scroll height\n */\n\nexport function getItemAbsoluteTop(_ref3) {\n  var scrollTop = _ref3.scrollTop,\n      rest = _objectWithoutProperties(_ref3, [\"scrollTop\"]);\n\n  return scrollTop + getItemRelativeTop(rest);\n}\nexport function getCompareItemRelativeTop(_ref4) {\n  var locatedItemRelativeTop = _ref4.locatedItemRelativeTop,\n      locatedItemIndex = _ref4.locatedItemIndex,\n      compareItemIndex = _ref4.compareItemIndex,\n      startIndex = _ref4.startIndex,\n      endIndex = _ref4.endIndex,\n      getItemKey = _ref4.getItemKey,\n      itemElementHeights = _ref4.itemElementHeights;\n  var originCompareItemTop = locatedItemRelativeTop;\n  var compareItemKey = getItemKey(compareItemIndex);\n\n  if (compareItemIndex <= locatedItemIndex) {\n    for (var index = locatedItemIndex; index >= startIndex; index -= 1) {\n      var key = getItemKey(index);\n\n      if (key === compareItemKey) {\n        break;\n      }\n\n      var prevItemKey = getItemKey(index - 1);\n      originCompareItemTop -= itemElementHeights[prevItemKey] || 0;\n    }\n  } else {\n    for (var _index = locatedItemIndex; _index <= endIndex; _index += 1) {\n      var _key = getItemKey(_index);\n\n      if (_key === compareItemKey) {\n        break;\n      }\n\n      originCompareItemTop += itemElementHeights[_key] || 0;\n    }\n  }\n\n  return originCompareItemTop;\n}\nexport function requireVirtual(height, itemHeight, count, virtual) {\n  return virtual !== false && typeof height === 'number' && count * itemHeight > height;\n}","/**\n * Get index with specific start index one by one. e.g.\n * min: 3, max: 9, start: 6\n *\n * Return index is:\n * [0]: 6\n * [1]: 7\n * [2]: 5\n * [3]: 8\n * [4]: 4\n * [5]: 9\n * [6]: 3\n */\nexport function getIndexByStartLoc(min, max, start, index) {\n  var beforeCount = start - min;\n  var afterCount = max - start;\n  var balanceCount = Math.min(beforeCount, afterCount) * 2; // Balance\n\n  if (index <= balanceCount) {\n    var stepIndex = Math.floor(index / 2);\n\n    if (index % 2) {\n      return start + stepIndex + 1;\n    }\n\n    return start - stepIndex;\n  } // One is out of range\n\n\n  if (beforeCount > afterCount) {\n    return start - (index - afterCount);\n  }\n\n  return start + (index - beforeCount);\n}\n/**\n * We assume that 2 list has only 1 item diff and others keeping the order.\n * So we can use dichotomy algorithm to find changed one.\n */\n\nexport function findListDiffIndex(originList, targetList, getKey) {\n  var originLen = originList.length;\n  var targetLen = targetList.length;\n  var shortList;\n  var longList;\n\n  if (originLen === 0 && targetLen === 0) {\n    return null;\n  }\n\n  if (originLen < targetLen) {\n    shortList = originList;\n    longList = targetList;\n  } else {\n    shortList = targetList;\n    longList = originList;\n  }\n\n  var notExistKey = {\n    __EMPTY_ITEM__: true\n  };\n\n  function getItemKey(item) {\n    if (item !== undefined) {\n      return getKey(item);\n    }\n\n    return notExistKey;\n  } // Loop to find diff one\n\n\n  var diffIndex = null;\n  var multiple = Math.abs(originLen - targetLen) !== 1;\n\n  for (var i = 0; i < longList.length; i += 1) {\n    var shortKey = getItemKey(shortList[i]);\n    var longKey = getItemKey(longList[i]);\n\n    if (shortKey !== longKey) {\n      diffIndex = i;\n      multiple = multiple || shortKey !== getItemKey(longList[i + 1]);\n      break;\n    }\n  }\n\n  return diffIndex === null ? null : {\n    index: diffIndex,\n    multiple: multiple\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport Filler from './Filler';\nimport { getElementScrollPercentage, getScrollPercentage, getNodeHeight, getRangeIndex, getItemAbsoluteTop, GHOST_ITEM_KEY, getItemRelativeTop, getCompareItemRelativeTop, alignScrollTop, requireVirtual } from './utils/itemUtil';\nimport { getIndexByStartLoc, findListDiffIndex } from './utils/algorithmUtil';\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nvar ITEM_SCALE_RATE = 1;\n/**\n * We use class component here since typescript can not support generic in function component\n *\n * Virtual list display logic:\n * 1. scroll / initialize trigger measure\n * 2. Get location item of current `scrollTop`\n * 3. [Render] Render visible items\n * 4. Get all the visible items height\n * 5. [Render] Update top item `margin-top` to fit the position\n *\n * Algorithm:\n * We split scroll bar into equal slice. An item with whatever height occupy the same range slice.\n * When `scrollTop` change,\n * it will calculate the item percentage position and move item to the position.\n * Then calculate other item position base on the located item.\n *\n * Concept:\n *\n * # located item\n * The base position item which other items position calculate base on.\n */\n\nvar List =\n/** @class */\nfunction () {\n  var List = /*#__PURE__*/function (_React$Component) {\n    _inherits(List, _React$Component);\n\n    var _super = _createSuper(List);\n\n    function List(props) {\n      var _this;\n\n      _classCallCheck(this, List);\n\n      _this = _super.call(this, props);\n      _this.listRef = React.createRef();\n      _this.itemElements = {};\n      _this.itemElementHeights = {};\n      /**\n       * Lock scroll process with `onScroll` event.\n       * This is used for `data` length change and `scrollTop` restore\n       */\n\n      _this.lockScroll = false;\n      /**\n       * Phase 2: Trigger render since we should re-calculate current position.\n       */\n\n      _this.onScroll = function (event) {\n        var _this$props = _this.props,\n            data = _this$props.data,\n            height = _this$props.height,\n            itemHeight = _this$props.itemHeight,\n            disabled = _this$props.disabled;\n        var _this$listRef$current = _this.listRef.current,\n            originScrollTop = _this$listRef$current.scrollTop,\n            clientHeight = _this$listRef$current.clientHeight,\n            scrollHeight = _this$listRef$current.scrollHeight;\n        var scrollTop = alignScrollTop(originScrollTop, scrollHeight - clientHeight); // Skip if `scrollTop` not change to avoid shake\n\n        if (scrollTop === _this.state.scrollTop || _this.lockScroll || disabled) {\n          return;\n        }\n\n        var scrollPtg = getElementScrollPercentage(_this.listRef.current);\n        var visibleCount = Math.ceil(height / itemHeight);\n\n        var _getRangeIndex = getRangeIndex(scrollPtg, data.length, visibleCount),\n            itemIndex = _getRangeIndex.itemIndex,\n            itemOffsetPtg = _getRangeIndex.itemOffsetPtg,\n            startIndex = _getRangeIndex.startIndex,\n            endIndex = _getRangeIndex.endIndex;\n\n        _this.setState({\n          status: 'MEASURE_START',\n          scrollTop: scrollTop,\n          itemIndex: itemIndex,\n          itemOffsetPtg: itemOffsetPtg,\n          startIndex: startIndex,\n          endIndex: endIndex\n        });\n\n        _this.triggerOnScroll(event);\n      };\n\n      _this.onRawScroll = function (event) {\n        var scrollTop = _this.listRef.current.scrollTop;\n\n        _this.setState({\n          scrollTop: scrollTop\n        });\n\n        _this.triggerOnScroll(event);\n      };\n\n      _this.triggerOnScroll = function (event) {\n        var onScroll = _this.props.onScroll;\n\n        if (onScroll && event) {\n          onScroll(event);\n        }\n      };\n\n      _this.getIndexKey = function (index, props) {\n        var mergedProps = props || _this.props;\n        var _mergedProps$data = mergedProps.data,\n            data = _mergedProps$data === void 0 ? [] : _mergedProps$data; // Return ghost key as latest index item\n\n        if (index === data.length) {\n          return GHOST_ITEM_KEY;\n        }\n\n        var item = data[index];\n        /* istanbul ignore next */\n\n        if (item === undefined) {\n          console.error('Not find index item. Please report this since it is a bug.');\n          return null;\n        }\n\n        return _this.getItemKey(item, mergedProps);\n      };\n\n      _this.getItemKey = function (item, props) {\n        var _ref = props || _this.props,\n            itemKey = _ref.itemKey;\n\n        return typeof itemKey === 'function' ? itemKey(item) : item[itemKey];\n      };\n      /**\n       * Collect current rendered dom element item heights\n       */\n\n\n      _this.collectItemHeights = function (range) {\n        var _ref2 = range || _this.state,\n            startIndex = _ref2.startIndex,\n            endIndex = _ref2.endIndex;\n\n        var data = _this.props.data; // Record here since measure item height will get warning in `render`\n\n        for (var index = startIndex; index <= endIndex; index += 1) {\n          var item = data[index]; // Only collect exist item height\n\n          if (item) {\n            var eleKey = _this.getItemKey(item);\n\n            _this.itemElementHeights[eleKey] = getNodeHeight(_this.itemElements[eleKey]);\n          }\n        }\n      };\n\n      _this.scrollTo = function (arg0) {\n        raf.cancel(_this.rafId);\n        _this.rafId = raf(function () {\n          // Number top\n          if (_typeof(arg0) === 'object') {\n            var isVirtual = _this.state.isVirtual;\n            var _this$props2 = _this.props,\n                height = _this$props2.height,\n                itemHeight = _this$props2.itemHeight,\n                data = _this$props2.data;\n            var _arg0$align = arg0.align,\n                align = _arg0$align === void 0 ? 'auto' : _arg0$align;\n            var index = 0;\n\n            if ('index' in arg0) {\n              index = arg0.index;\n            } else if ('key' in arg0) {\n              var key = arg0.key;\n              index = data.findIndex(function (item) {\n                return _this.getItemKey(item) === key;\n              });\n            }\n\n            var visibleCount = Math.ceil(height / itemHeight);\n            var item = data[index];\n\n            if (item) {\n              var clientHeight = _this.listRef.current.clientHeight;\n\n              if (isVirtual) {\n                // Calculate related data\n                var _this$state = _this.state,\n                    itemIndex = _this$state.itemIndex,\n                    itemOffsetPtg = _this$state.itemOffsetPtg;\n                var scrollTop = _this.listRef.current.scrollTop;\n                var scrollPtg = getElementScrollPercentage(_this.listRef.current);\n                var relativeLocatedItemTop = getItemRelativeTop({\n                  itemIndex: itemIndex,\n                  itemOffsetPtg: itemOffsetPtg,\n                  itemElementHeights: _this.itemElementHeights,\n                  scrollPtg: scrollPtg,\n                  clientHeight: clientHeight,\n                  getItemKey: _this.getIndexKey\n                }); // We will force render related items to collect height for re-location\n\n                _this.setState({\n                  startIndex: Math.max(0, index - visibleCount),\n                  endIndex: Math.min(data.length - 1, index + visibleCount)\n                }, function () {\n                  _this.collectItemHeights(); // Calculate related top\n\n\n                  var relativeTop;\n                  var mergedAlgin = align;\n\n                  if (align === 'auto') {\n                    var shouldChange = true; // Check if exist in the visible range\n\n                    if (Math.abs(itemIndex - index) < visibleCount) {\n                      var itemTop = relativeLocatedItemTop;\n\n                      if (index < itemIndex) {\n                        for (var i = index; i < itemIndex; i += 1) {\n                          var eleKey = _this.getIndexKey(i);\n\n                          itemTop -= _this.itemElementHeights[eleKey] || 0;\n                        }\n                      } else {\n                        for (var _i = itemIndex; _i <= index; _i += 1) {\n                          var _eleKey = _this.getIndexKey(_i);\n\n                          itemTop += _this.itemElementHeights[_eleKey] || 0;\n                        }\n                      }\n\n                      shouldChange = itemTop <= 0 || itemTop >= clientHeight;\n                    }\n\n                    if (shouldChange) {\n                      // Out of range will fall back to position align\n                      mergedAlgin = index < itemIndex ? 'top' : 'bottom';\n                    } else {\n                      var _getRangeIndex2 = getRangeIndex(scrollPtg, data.length, visibleCount),\n                          nextIndex = _getRangeIndex2.itemIndex,\n                          newOffsetPtg = _getRangeIndex2.itemOffsetPtg,\n                          startIndex = _getRangeIndex2.startIndex,\n                          endIndex = _getRangeIndex2.endIndex;\n\n                      _this.setState({\n                        scrollTop: scrollTop,\n                        itemIndex: nextIndex,\n                        itemOffsetPtg: newOffsetPtg,\n                        startIndex: startIndex,\n                        endIndex: endIndex\n                      });\n\n                      return;\n                    }\n                  } // Align with position should make scroll happen\n\n\n                  if (mergedAlgin === 'top') {\n                    relativeTop = 0;\n                  } else if (mergedAlgin === 'bottom') {\n                    var _eleKey2 = _this.getItemKey(item);\n\n                    relativeTop = clientHeight - _this.itemElementHeights[_eleKey2] || 0;\n                  }\n\n                  _this.internalScrollTo({\n                    itemIndex: index,\n                    relativeTop: relativeTop\n                  });\n                });\n              } else {\n                // Raw list without virtual scroll set position directly\n                _this.collectItemHeights({\n                  startIndex: 0,\n                  endIndex: data.length - 1\n                });\n\n                var mergedAlgin = align; // Collection index item position\n\n                var indexItemHeight = _this.itemElementHeights[_this.getIndexKey(index)];\n\n                var itemTop = 0;\n\n                for (var i = 0; i < index; i += 1) {\n                  var eleKey = _this.getIndexKey(i);\n\n                  itemTop += _this.itemElementHeights[eleKey] || 0;\n                }\n\n                var itemBottom = itemTop + indexItemHeight;\n\n                if (mergedAlgin === 'auto') {\n                  if (itemTop < _this.listRef.current.scrollTop) {\n                    mergedAlgin = 'top';\n                  } else if (itemBottom > _this.listRef.current.scrollTop + clientHeight) {\n                    mergedAlgin = 'bottom';\n                  }\n                }\n\n                if (mergedAlgin === 'top') {\n                  _this.listRef.current.scrollTop = itemTop;\n                } else if (mergedAlgin === 'bottom') {\n                  _this.listRef.current.scrollTop = itemTop - (clientHeight - indexItemHeight);\n                }\n              }\n            }\n          } else {\n            _this.listRef.current.scrollTop = arg0;\n          }\n        });\n      };\n      /**\n       * Phase 4: Render item and get all the visible items height\n       */\n\n\n      _this.renderChildren = function (list, startIndex, renderFunc) {\n        var status = _this.state.status; // We should measure rendered item height\n\n        return list.map(function (item, index) {\n          var eleIndex = startIndex + index;\n          var node = renderFunc(item, eleIndex, {\n            style: status === 'MEASURE_START' ? {\n              visibility: 'hidden'\n            } : {}\n          });\n\n          var eleKey = _this.getIndexKey(eleIndex); // Pass `key` and `ref` for internal measure\n\n\n          return React.cloneElement(node, {\n            key: eleKey,\n            ref: function ref(ele) {\n              _this.itemElements[eleKey] = ele;\n            }\n          });\n        });\n      };\n\n      _this.cachedProps = props;\n      _this.state = {\n        status: 'NONE',\n        scrollTop: null,\n        itemIndex: 0,\n        itemOffsetPtg: 0,\n        startIndex: 0,\n        endIndex: 0,\n        startItemTop: 0,\n        isVirtual: requireVirtual(props.height, props.itemHeight, props.data.length, props.virtual),\n        itemCount: props.data.length\n      };\n      return _this;\n    }\n\n    _createClass(List, [{\n      key: \"componentDidMount\",\n\n      /**\n       * Phase 1: Initial should sync with default scroll top\n       */\n      value: function componentDidMount() {\n        if (this.listRef.current) {\n          this.listRef.current.scrollTop = 0;\n          this.onScroll(null);\n        }\n      }\n      /**\n       * Phase 4: Record used item height\n       * Phase 5: Trigger re-render to use correct position\n       */\n\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var _this2 = this;\n\n        var status = this.state.status;\n        var _this$props3 = this.props,\n            data = _this$props3.data,\n            height = _this$props3.height,\n            itemHeight = _this$props3.itemHeight,\n            disabled = _this$props3.disabled,\n            onSkipRender = _this$props3.onSkipRender,\n            virtual = _this$props3.virtual;\n        var prevData = this.cachedProps.data || [];\n        var changedItemIndex = null;\n\n        if (prevData.length !== data.length) {\n          var diff = findListDiffIndex(prevData, data, this.getItemKey);\n          changedItemIndex = diff ? diff.index : null;\n        }\n\n        if (disabled) {\n          // Should trigger `onSkipRender` to tell that diff component is not render in the list\n          if (data.length > prevData.length) {\n            var _this$state2 = this.state,\n                startIndex = _this$state2.startIndex,\n                endIndex = _this$state2.endIndex;\n\n            if (onSkipRender && (changedItemIndex === null || changedItemIndex < startIndex || endIndex < changedItemIndex)) {\n              onSkipRender();\n            }\n          }\n\n          return;\n        }\n\n        var isVirtual = requireVirtual(height, itemHeight, data.length, virtual);\n        var nextStatus = status;\n\n        if (this.state.isVirtual !== isVirtual) {\n          nextStatus = isVirtual ? 'SWITCH_TO_VIRTUAL' : 'SWITCH_TO_RAW';\n          this.setState({\n            isVirtual: isVirtual,\n            status: nextStatus\n          });\n          /**\n           * We will wait a tick to let list turn to virtual list.\n           * And then use virtual list sync logic to adjust the scroll.\n           */\n\n          if (nextStatus === 'SWITCH_TO_VIRTUAL') {\n            return;\n          }\n        }\n\n        if (status === 'MEASURE_START') {\n          var _this$state3 = this.state,\n              _startIndex = _this$state3.startIndex,\n              itemIndex = _this$state3.itemIndex,\n              itemOffsetPtg = _this$state3.itemOffsetPtg;\n          var scrollTop = this.listRef.current.scrollTop; // Record here since measure item height will get warning in `render`\n\n          this.collectItemHeights(); // Calculate top visible item top offset\n\n          var locatedItemTop = getItemAbsoluteTop({\n            itemIndex: itemIndex,\n            itemOffsetPtg: itemOffsetPtg,\n            itemElementHeights: this.itemElementHeights,\n            scrollTop: scrollTop,\n            scrollPtg: getElementScrollPercentage(this.listRef.current),\n            clientHeight: this.listRef.current.clientHeight,\n            getItemKey: this.getIndexKey\n          });\n          var startItemTop = locatedItemTop;\n\n          for (var index = itemIndex - 1; index >= _startIndex; index -= 1) {\n            startItemTop -= this.itemElementHeights[this.getIndexKey(index)] || 0;\n          }\n\n          this.setState({\n            status: 'MEASURE_DONE',\n            startItemTop: startItemTop\n          });\n        }\n\n        if (status === 'SWITCH_TO_RAW') {\n          /**\n           * After virtual list back to raw list,\n           * we update the `scrollTop` to real top instead of percentage top.\n           */\n          var _this$state$cacheScro = this.state.cacheScroll,\n              _itemIndex = _this$state$cacheScro.itemIndex,\n              relativeTop = _this$state$cacheScro.relativeTop;\n          var rawTop = relativeTop;\n\n          for (var _index = 0; _index < _itemIndex; _index += 1) {\n            rawTop -= this.itemElementHeights[this.getIndexKey(_index)] || 0;\n          }\n\n          this.lockScroll = true;\n          this.listRef.current.scrollTop = -rawTop;\n          this.setState({\n            status: 'MEASURE_DONE',\n            itemIndex: 0\n          });\n          requestAnimationFrame(function () {\n            requestAnimationFrame(function () {\n              _this2.lockScroll = false;\n            });\n          });\n        } else if (prevData.length !== data.length && changedItemIndex !== null && height && virtual !== false) {\n          /**\n           * Re-calculate the item position since `data` length changed.\n           * [IMPORTANT] We use relative position calculate here.\n           */\n          var originItemIndex = this.state.itemIndex;\n          var _this$state4 = this.state,\n              originItemOffsetPtg = _this$state4.itemOffsetPtg,\n              originStartIndex = _this$state4.startIndex,\n              originEndIndex = _this$state4.endIndex,\n              originScrollTop = _this$state4.scrollTop; // 1. Refresh item heights\n\n          this.collectItemHeights(); // 1. Get origin located item top\n\n          var originLocatedItemRelativeTop;\n\n          if (this.state.status === 'SWITCH_TO_VIRTUAL') {\n            originItemIndex = 0;\n            originLocatedItemRelativeTop = -this.state.scrollTop;\n          } else {\n            originLocatedItemRelativeTop = getItemRelativeTop({\n              itemIndex: originItemIndex,\n              itemOffsetPtg: originItemOffsetPtg,\n              itemElementHeights: this.itemElementHeights,\n              scrollPtg: getScrollPercentage({\n                scrollTop: originScrollTop,\n                scrollHeight: prevData.length * itemHeight,\n                clientHeight: this.listRef.current.clientHeight\n              }),\n              clientHeight: this.listRef.current.clientHeight,\n              getItemKey: function getItemKey(index) {\n                return _this2.getIndexKey(index, _this2.cachedProps);\n              }\n            });\n          } // 2. Find the compare item\n\n\n          var originCompareItemIndex = changedItemIndex - 1; // Use next one since there are not more item before removed\n\n          if (originCompareItemIndex < 0) {\n            originCompareItemIndex = 0;\n          } // 3. Find the compare item top\n\n\n          var originCompareItemTop = getCompareItemRelativeTop({\n            locatedItemRelativeTop: originLocatedItemRelativeTop,\n            locatedItemIndex: originItemIndex,\n            compareItemIndex: originCompareItemIndex,\n            startIndex: originStartIndex,\n            endIndex: originEndIndex,\n            getItemKey: function getItemKey(index) {\n              return _this2.getIndexKey(index, _this2.cachedProps);\n            },\n            itemElementHeights: this.itemElementHeights\n          });\n\n          if (nextStatus === 'SWITCH_TO_RAW') {\n            /**\n             * We will record current measure relative item top and apply in raw list after list turned\n             */\n            this.setState({\n              cacheScroll: {\n                itemIndex: originCompareItemIndex,\n                relativeTop: originCompareItemTop\n              }\n            });\n          } else {\n            this.internalScrollTo({\n              itemIndex: originCompareItemIndex,\n              relativeTop: originCompareItemTop\n            });\n          }\n        } else if (nextStatus === 'SWITCH_TO_RAW') {\n          // This is only trigger when height changes that all items can show in raw\n          // Let's reset back to top\n          this.setState({\n            cacheScroll: {\n              itemIndex: 0,\n              relativeTop: 0\n            }\n          });\n        }\n\n        this.cachedProps = this.props;\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        raf.cancel(this.rafId);\n      }\n    }, {\n      key: \"internalScrollTo\",\n      value: function internalScrollTo(relativeScroll) {\n        var _this3 = this;\n\n        var compareItemIndex = relativeScroll.itemIndex,\n            compareItemRelativeTop = relativeScroll.relativeTop;\n        var originScrollTop = this.state.scrollTop;\n        var _this$props4 = this.props,\n            data = _this$props4.data,\n            itemHeight = _this$props4.itemHeight,\n            height = _this$props4.height; // 1. Find the best match compare item top\n\n        var bestSimilarity = Number.MAX_VALUE;\n        var bestScrollTop = null;\n        var bestItemIndex = null;\n        var bestItemOffsetPtg = null;\n        var bestStartIndex = null;\n        var bestEndIndex = null;\n        var missSimilarity = 0;\n        var scrollHeight = data.length * itemHeight;\n        var clientHeight = this.listRef.current.clientHeight;\n        var maxScrollTop = scrollHeight - clientHeight;\n\n        for (var i = 0; i < maxScrollTop; i += 1) {\n          var scrollTop = getIndexByStartLoc(0, maxScrollTop, originScrollTop, i);\n          var scrollPtg = getScrollPercentage({\n            scrollTop: scrollTop,\n            scrollHeight: scrollHeight,\n            clientHeight: clientHeight\n          });\n          var visibleCount = Math.ceil(height / itemHeight);\n\n          var _getRangeIndex3 = getRangeIndex(scrollPtg, data.length, visibleCount),\n              itemIndex = _getRangeIndex3.itemIndex,\n              itemOffsetPtg = _getRangeIndex3.itemOffsetPtg,\n              startIndex = _getRangeIndex3.startIndex,\n              endIndex = _getRangeIndex3.endIndex; // No need to check if compare item out of the index to save performance\n\n\n          if (startIndex <= compareItemIndex && compareItemIndex <= endIndex) {\n            // 1.1 Get measure located item relative top\n            var locatedItemRelativeTop = getItemRelativeTop({\n              itemIndex: itemIndex,\n              itemOffsetPtg: itemOffsetPtg,\n              itemElementHeights: this.itemElementHeights,\n              scrollPtg: scrollPtg,\n              clientHeight: clientHeight,\n              getItemKey: this.getIndexKey\n            });\n            var compareItemTop = getCompareItemRelativeTop({\n              locatedItemRelativeTop: locatedItemRelativeTop,\n              locatedItemIndex: itemIndex,\n              compareItemIndex: compareItemIndex,\n              startIndex: startIndex,\n              endIndex: endIndex,\n              getItemKey: this.getIndexKey,\n              itemElementHeights: this.itemElementHeights\n            }); // 1.2 Find best match compare item top\n\n            var similarity = Math.abs(compareItemTop - compareItemRelativeTop);\n\n            if (similarity < bestSimilarity) {\n              bestSimilarity = similarity;\n              bestScrollTop = scrollTop;\n              bestItemIndex = itemIndex;\n              bestItemOffsetPtg = itemOffsetPtg;\n              bestStartIndex = startIndex;\n              bestEndIndex = endIndex;\n              missSimilarity = 0;\n            } else {\n              missSimilarity += 1;\n            }\n          } // If keeping 10 times not match similarity,\n          // check more scrollTop is meaningless.\n          // Here boundary is set to 10.\n\n\n          if (missSimilarity > 10) {\n            break;\n          }\n        } // 2. Re-scroll if has best scroll match\n\n\n        if (bestScrollTop !== null) {\n          this.lockScroll = true;\n          this.listRef.current.scrollTop = bestScrollTop;\n          this.setState({\n            status: 'MEASURE_START',\n            scrollTop: bestScrollTop,\n            itemIndex: bestItemIndex,\n            itemOffsetPtg: bestItemOffsetPtg,\n            startIndex: bestStartIndex,\n            endIndex: bestEndIndex\n          });\n          requestAnimationFrame(function () {\n            requestAnimationFrame(function () {\n              _this3.lockScroll = false;\n            });\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$state5 = this.state,\n            isVirtual = _this$state5.isVirtual,\n            itemCount = _this$state5.itemCount;\n\n        var _this$props5 = this.props,\n            prefixCls = _this$props5.prefixCls,\n            style = _this$props5.style,\n            className = _this$props5.className,\n            _this$props5$componen = _this$props5.component,\n            Component = _this$props5$componen === void 0 ? 'div' : _this$props5$componen,\n            height = _this$props5.height,\n            itemHeight = _this$props5.itemHeight,\n            _this$props5$fullHeig = _this$props5.fullHeight,\n            fullHeight = _this$props5$fullHeig === void 0 ? true : _this$props5$fullHeig,\n            data = _this$props5.data,\n            children = _this$props5.children,\n            itemKey = _this$props5.itemKey,\n            onSkipRender = _this$props5.onSkipRender,\n            disabled = _this$props5.disabled,\n            virtual = _this$props5.virtual,\n            restProps = _objectWithoutProperties(_this$props5, [\"prefixCls\", \"style\", \"className\", \"component\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"children\", \"itemKey\", \"onSkipRender\", \"disabled\", \"virtual\"]);\n\n        var mergedClassName = classNames(prefixCls, className); // Render pure list if not set height or height is enough for all items\n\n        if (!isVirtual) {\n          /**\n           * Virtual list switch is works on component updated.\n           * We should double check here if need cut the content.\n           */\n          var shouldVirtual = requireVirtual(height, itemHeight, data.length, virtual);\n          return React.createElement(Component, Object.assign({\n            style: height ? _objectSpread(_objectSpread({}, style), {}, _defineProperty({}, fullHeight ? 'height' : 'maxHeight', height), ScrollStyle) : style,\n            className: mergedClassName\n          }, restProps, {\n            onScroll: this.onRawScroll,\n            ref: this.listRef\n          }), React.createElement(Filler, {\n            prefixCls: prefixCls,\n            height: height\n          }, this.renderChildren(shouldVirtual ? data.slice(0, Math.ceil(height / itemHeight)) : data, 0, children)));\n        } // Use virtual list\n\n\n        var mergedStyle = _objectSpread(_objectSpread({}, style), {}, {\n          height: height\n        }, ScrollStyle);\n\n        var _this$state6 = this.state,\n            status = _this$state6.status,\n            startIndex = _this$state6.startIndex,\n            endIndex = _this$state6.endIndex,\n            startItemTop = _this$state6.startItemTop;\n        var contentHeight = itemCount * itemHeight * ITEM_SCALE_RATE;\n        return React.createElement(Component, Object.assign({\n          style: mergedStyle,\n          className: mergedClassName\n        }, restProps, {\n          onScroll: this.onScroll,\n          ref: this.listRef\n        }), React.createElement(Filler, {\n          prefixCls: prefixCls,\n          height: contentHeight,\n          offset: status === 'MEASURE_DONE' ? startItemTop : 0\n        }, this.renderChildren(data.slice(startIndex, endIndex + 1), startIndex, children)));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(nextProps) {\n        if (!nextProps.disabled) {\n          return {\n            itemCount: nextProps.data.length\n          };\n        }\n\n        return null;\n      }\n    }]);\n\n    return List;\n  }(React.Component);\n\n  List.defaultProps = {\n    itemHeight: 15,\n    data: []\n  };\n  return List;\n}();\n\nexport default List;","import List from './List';\nexport default List;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames'; // @ts-ignore\n\nimport CSSMotion from \"rc-animate/es/CSSMotion\";\nimport TreeNode from './TreeNode';\nimport { getTreeNodeProps } from './utils/treeUtil';\nimport { TreeContext } from './contextTypes';\n\nvar MotionTreeNode = function MotionTreeNode(_ref, ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      motion = _ref.motion,\n      motionNodes = _ref.motionNodes,\n      motionType = _ref.motionType,\n      onOriginMotionEnd = _ref.onMotionEnd,\n      active = _ref.active,\n      treeNodeRequiredProps = _ref.treeNodeRequiredProps,\n      props = _objectWithoutProperties(_ref, [\"className\", \"style\", \"motion\", \"motionNodes\", \"motionType\", \"onMotionEnd\", \"active\", \"treeNodeRequiredProps\"]);\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var _React$useContext = React.useContext(TreeContext),\n      prefixCls = _React$useContext.prefixCls;\n\n  var motionedRef = React.useRef(false);\n\n  var onMotionEnd = function onMotionEnd() {\n    if (!motionedRef.current) {\n      onOriginMotionEnd();\n    }\n\n    motionedRef.current = true;\n  };\n\n  React.useEffect(function () {\n    if (motionNodes && motionType === 'hide' && visible) {\n      setVisible(false);\n    }\n  }, [motionNodes]);\n  React.useEffect(function () {\n    return function () {\n      if (motionNodes) {\n        onMotionEnd();\n      }\n    };\n  }, []);\n\n  if (motionNodes) {\n    return React.createElement(CSSMotion, Object.assign({\n      ref: ref,\n      visible: visible\n    }, motion, {\n      motionAppear: motionType === 'show',\n      onAppearEnd: onMotionEnd,\n      onLeaveEnd: onMotionEnd\n    }), function (_ref2, motionRef) {\n      var motionClassName = _ref2.className,\n          motionStyle = _ref2.style;\n      return React.createElement(\"div\", {\n        ref: motionRef,\n        className: classNames(\"\".concat(prefixCls, \"-treenode-motion\"), motionClassName),\n        style: motionStyle\n      }, motionNodes.map(function (treeNode) {\n        var _treeNode$data = treeNode.data,\n            key = _treeNode$data.key,\n            restProps = _objectWithoutProperties(_treeNode$data, [\"key\"]),\n            isStart = treeNode.isStart,\n            isEnd = treeNode.isEnd;\n\n        delete restProps.children;\n        var treeNodeProps = getTreeNodeProps(key, treeNodeRequiredProps);\n        return React.createElement(TreeNode, Object.assign({}, restProps, treeNodeProps, {\n          active: active,\n          data: treeNode.data,\n          key: key,\n          isStart: isStart,\n          isEnd: isEnd\n        }));\n      }));\n    });\n  }\n\n  return React.createElement(TreeNode, Object.assign({\n    domRef: ref,\n    className: className,\n    style: style\n  }, props, {\n    active: active\n  }));\n};\n\nMotionTreeNode.displayName = 'MotionTreeNode';\nvar RefMotionTreeNode = React.forwardRef(MotionTreeNode);\nexport default RefMotionTreeNode;","export function findExpandedKeys() {\n  var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var prevLen = prev.length;\n  var nextLen = next.length;\n\n  if (Math.abs(prevLen - nextLen) !== 1) {\n    return {\n      add: false,\n      key: null\n    };\n  }\n\n  function find(shorter, longer) {\n    var cache = new Map();\n    shorter.forEach(function (key) {\n      cache.set(key, true);\n    });\n    var keys = longer.filter(function (key) {\n      return !cache.has(key);\n    });\n    return keys.length === 1 ? keys[0] : null;\n  }\n\n  if (prevLen < nextLen) {\n    return {\n      add: true,\n      key: find(prev, next)\n    };\n  }\n\n  return {\n    add: false,\n    key: find(next, prev)\n  };\n}\nexport function getExpandRange(shorter, longer, key) {\n  var shorterStartIndex = shorter.findIndex(function (_ref) {\n    var data = _ref.data;\n    return data.key === key;\n  });\n  var shorterEndNode = shorter[shorterStartIndex + 1];\n  var longerStartIndex = longer.findIndex(function (_ref2) {\n    var data = _ref2.data;\n    return data.key === key;\n  });\n\n  if (shorterEndNode) {\n    var longerEndIndex = longer.findIndex(function (_ref3) {\n      var data = _ref3.data;\n      return data.key === shorterEndNode.data.key;\n    });\n    return longer.slice(longerStartIndex + 1, longerEndIndex);\n  }\n\n  return longer.slice(longerStartIndex + 1);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/**\n * Handle virtual list of the TreeNodes.\n */\nimport * as React from 'react';\nimport VirtualList from 'rc-virtual-list';\nimport MotionTreeNode from './MotionTreeNode';\nimport { findExpandedKeys, getExpandRange } from './utils/diffUtil';\nimport { getTreeNodeProps, getKey } from './utils/treeUtil';\nvar HIDDEN_STYLE = {\n  width: 0,\n  height: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  opacity: 0,\n  border: 0,\n  padding: 0,\n  margin: 0\n};\n\nvar noop = function noop() {};\n\nexport var MOTION_KEY = \"RC_TREE_MOTION_\".concat(Math.random());\nvar MotionNode = {\n  key: MOTION_KEY\n};\nexport var MotionEntity = {\n  key: MOTION_KEY,\n  level: 0,\n  index: 0,\n  pos: '0',\n  node: MotionNode\n};\nvar MotionFlattenData = {\n  parent: null,\n  children: [],\n  pos: MotionEntity.pos,\n  data: MotionNode,\n\n  /** Hold empty list here since we do not use it */\n  isStart: [],\n  isEnd: []\n};\n/**\n * We only need get visible content items to play the animation.\n */\n\nexport function getMinimumRangeTransitionRange(list, virtual, height, itemHeight) {\n  if (!virtual || !height) {\n    return list;\n  }\n\n  return list.slice(0, Math.ceil(height / itemHeight) + 1);\n}\n\nfunction itemKey(item) {\n  var key = item.data.key,\n      pos = item.pos;\n  return getKey(key, pos);\n}\n\nfunction getAccessibilityPath(item) {\n  var path = String(item.data.key);\n  var current = item;\n\n  while (current.parent) {\n    current = current.parent;\n    path = \"\".concat(current.data.key, \" > \").concat(path);\n  }\n\n  return path;\n}\n\nvar RefNodeList = function RefNodeList(props, ref) {\n  var prefixCls = props.prefixCls,\n      data = props.data,\n      selectable = props.selectable,\n      checkable = props.checkable,\n      expandedKeys = props.expandedKeys,\n      selectedKeys = props.selectedKeys,\n      checkedKeys = props.checkedKeys,\n      loadedKeys = props.loadedKeys,\n      loadingKeys = props.loadingKeys,\n      halfCheckedKeys = props.halfCheckedKeys,\n      keyEntities = props.keyEntities,\n      disabled = props.disabled,\n      dragging = props.dragging,\n      dragOverNodeKey = props.dragOverNodeKey,\n      dropPosition = props.dropPosition,\n      motion = props.motion,\n      height = props.height,\n      itemHeight = props.itemHeight,\n      virtual = props.virtual,\n      focusable = props.focusable,\n      activeItem = props.activeItem,\n      focused = props.focused,\n      tabIndex = props.tabIndex,\n      onKeyDown = props.onKeyDown,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onActiveChange = props.onActiveChange,\n      onListChangeStart = props.onListChangeStart,\n      onListChangeEnd = props.onListChangeEnd,\n      domProps = _objectWithoutProperties(props, [\"prefixCls\", \"data\", \"selectable\", \"checkable\", \"expandedKeys\", \"selectedKeys\", \"checkedKeys\", \"loadedKeys\", \"loadingKeys\", \"halfCheckedKeys\", \"keyEntities\", \"disabled\", \"dragging\", \"dragOverNodeKey\", \"dropPosition\", \"motion\", \"height\", \"itemHeight\", \"virtual\", \"focusable\", \"activeItem\", \"focused\", \"tabIndex\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onActiveChange\", \"onListChangeStart\", \"onListChangeEnd\"]); // =============================== Ref ================================\n\n\n  var listRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollTo: function scrollTo(scroll) {\n        listRef.current.scrollTo(scroll);\n      }\n    };\n  }); // ============================== Motion ==============================\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      disableVirtual = _React$useState2[0],\n      setDisableVirtual = _React$useState2[1];\n\n  var _React$useState3 = React.useState(expandedKeys),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevExpandedKeys = _React$useState4[0],\n      setPrevExpandedKeys = _React$useState4[1];\n\n  var _React$useState5 = React.useState(data),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      prevData = _React$useState6[0],\n      setPrevData = _React$useState6[1];\n\n  var _React$useState7 = React.useState(data),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      transitionData = _React$useState8[0],\n      setTransitionData = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      transitionRange = _React$useState10[0],\n      setTransitionRange = _React$useState10[1];\n\n  var _React$useState11 = React.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      motionType = _React$useState12[0],\n      setMotionType = _React$useState12[1];\n\n  function onMotionEnd() {\n    setPrevData(data);\n    setTransitionData(data);\n    setTransitionRange([]);\n    setMotionType(null);\n    setDisableVirtual(false);\n    onListChangeEnd();\n  } // Do animation if expanded keys changed\n\n\n  React.useEffect(function () {\n    setPrevExpandedKeys(expandedKeys);\n    var diffExpanded = findExpandedKeys(prevExpandedKeys, expandedKeys);\n\n    if (diffExpanded.key !== null) {\n      if (diffExpanded.add) {\n        var keyIndex = prevData.findIndex(function (_ref) {\n          var key = _ref.data.key;\n          return key === diffExpanded.key;\n        });\n        if (motion) setDisableVirtual(true);\n        var rangeNodes = getMinimumRangeTransitionRange(getExpandRange(prevData, data, diffExpanded.key), virtual, height, itemHeight);\n        var newTransitionData = prevData.slice();\n        newTransitionData.splice(keyIndex + 1, 0, MotionFlattenData);\n        setTransitionData(newTransitionData);\n        setTransitionRange(rangeNodes);\n        setMotionType('show');\n      } else {\n        var _keyIndex = data.findIndex(function (_ref2) {\n          var key = _ref2.data.key;\n          return key === diffExpanded.key;\n        });\n\n        if (motion) setDisableVirtual(true);\n\n        var _rangeNodes = getMinimumRangeTransitionRange(getExpandRange(data, prevData, diffExpanded.key), virtual, height, itemHeight);\n\n        var _newTransitionData = data.slice();\n\n        _newTransitionData.splice(_keyIndex + 1, 0, MotionFlattenData);\n\n        setTransitionData(_newTransitionData);\n        setTransitionRange(_rangeNodes);\n        setMotionType('hide');\n      } // Trigger when `motion` provided\n\n\n      if (motion) {\n        onListChangeStart();\n      }\n    } else if (prevData !== data) {\n      // If whole data changed, we just refresh the list\n      setPrevData(data);\n      setTransitionData(data);\n    }\n  }, [expandedKeys, data]); // We should clean up motion if is changed by dragging\n\n  React.useEffect(function () {\n    if (!dragging) {\n      onMotionEnd();\n    }\n  }, [dragging]);\n  var mergedData = motion ? transitionData : data;\n  var treeNodeRequiredProps = {\n    expandedKeys: expandedKeys,\n    selectedKeys: selectedKeys,\n    loadedKeys: loadedKeys,\n    loadingKeys: loadingKeys,\n    checkedKeys: checkedKeys,\n    halfCheckedKeys: halfCheckedKeys,\n    dragOverNodeKey: dragOverNodeKey,\n    dropPosition: dropPosition,\n    keyEntities: keyEntities\n  };\n  return React.createElement(React.Fragment, null, focused && activeItem && React.createElement(\"span\", {\n    style: HIDDEN_STYLE,\n    \"aria-live\": \"assertive\"\n  }, getAccessibilityPath(activeItem)), React.createElement(\"div\", {\n    role: \"tree\"\n  }, React.createElement(\"input\", {\n    style: HIDDEN_STYLE,\n    disabled: focusable === false || disabled,\n    tabIndex: focusable !== false ? tabIndex : null,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    value: \"\",\n    onChange: noop\n  })), React.createElement(VirtualList, Object.assign({}, domProps, {\n    disabled: disableVirtual,\n    data: mergedData,\n    itemKey: itemKey,\n    height: height,\n    fullHeight: false,\n    virtual: virtual,\n    itemHeight: itemHeight,\n    onSkipRender: onMotionEnd,\n    prefixCls: \"\".concat(prefixCls, \"-list\"),\n    ref: listRef\n  }), function (treeNode) {\n    var pos = treeNode.pos,\n        _treeNode$data = treeNode.data,\n        key = _treeNode$data.key,\n        restProps = _objectWithoutProperties(_treeNode$data, [\"key\"]),\n        isStart = treeNode.isStart,\n        isEnd = treeNode.isEnd;\n\n    var mergedKey = getKey(key, pos);\n    delete restProps.children;\n    var treeNodeProps = getTreeNodeProps(mergedKey, treeNodeRequiredProps);\n    return React.createElement(MotionTreeNode, Object.assign({}, restProps, treeNodeProps, {\n      active: activeItem && key === activeItem.data.key,\n      pos: pos,\n      data: treeNode.data,\n      isStart: isStart,\n      isEnd: isEnd,\n      motion: motion,\n      motionNodes: key === MOTION_KEY ? transitionRange : null,\n      motionType: motionType,\n      onMotionEnd: onMotionEnd,\n      treeNodeRequiredProps: treeNodeRequiredProps,\n      onMouseMove: function onMouseMove() {\n        onActiveChange(null);\n      }\n    }));\n  }));\n};\n\nvar NodeList = React.forwardRef(RefNodeList);\nNodeList.displayName = 'NodeList';\nexport default NodeList;","import warning from \"rc-util/es/warning\";\n\nfunction removeFromCheckedKeys(halfCheckedKeys, checkedKeys) {\n  var filteredKeys = new Set();\n  halfCheckedKeys.forEach(function (key) {\n    if (!checkedKeys.has(key)) {\n      filteredKeys.add(key);\n    }\n  });\n  return filteredKeys;\n}\n\nexport function isCheckDisabled(node) {\n  var _ref = node || {},\n      disabled = _ref.disabled,\n      disableCheckbox = _ref.disableCheckbox,\n      checkable = _ref.checkable;\n\n  return !!(disabled || disableCheckbox) || checkable === false;\n} // Fill miss keys\n\nfunction fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(); // Add checked keys top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children = entity.children,\n          children = _entity$children === void 0 ? [] : _entity$children;\n\n      if (checkedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.add(childEntity.key);\n        });\n      }\n    });\n  } // Add checked keys from bottom to top\n\n\n  var visitedKeys = new Set();\n\n  for (var _level = maxLevel; _level >= 0; _level -= 1) {\n    var _entities = levelEntities.get(_level) || new Set();\n\n    _entities.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref2) {\n        var key = _ref2.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (allChecked) {\n        checkedKeys.add(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n} // Remove useless key\n\n\nfunction cleanConductCheck(keys, halfKeys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(halfKeys); // Remove checked keys from top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children2 = entity.children,\n          children = _entity$children2 === void 0 ? [] : _entity$children2;\n\n      if (!checkedKeys.has(key) && !halfCheckedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.delete(childEntity.key);\n        });\n      }\n    });\n  } // Remove checked keys form bottom to top\n\n\n  halfCheckedKeys = new Set();\n  var visitedKeys = new Set();\n\n  for (var _level2 = maxLevel; _level2 >= 0; _level2 -= 1) {\n    var _entities2 = levelEntities.get(_level2) || new Set();\n\n    _entities2.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref3) {\n        var key = _ref3.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (!allChecked) {\n        checkedKeys.delete(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n}\n/**\n * Conduct with keys.\n * @param keyList current key list\n * @param keyEntities key - dataEntity map\n * @param mode `fill` to fill missing key, `clean` to remove useless key\n */\n\n\nexport function conductCheck(keyList, checked, keyEntities, getCheckDisabled) {\n  var warningMissKeys = [];\n  var syntheticGetCheckDisabled;\n\n  if (getCheckDisabled) {\n    syntheticGetCheckDisabled = getCheckDisabled;\n  } else {\n    syntheticGetCheckDisabled = isCheckDisabled;\n  } // We only handle exist keys\n\n\n  var keys = new Set(keyList.filter(function (key) {\n    var hasEntity = !!keyEntities[key];\n\n    if (!hasEntity) {\n      warningMissKeys.push(key);\n    }\n\n    return hasEntity;\n  }));\n  var levelEntities = new Map();\n  var maxLevel = 0; // Convert entities by level for calculation\n\n  Object.keys(keyEntities).forEach(function (key) {\n    var entity = keyEntities[key];\n    var level = entity.level;\n    var levelSet = levelEntities.get(level);\n\n    if (!levelSet) {\n      levelSet = new Set();\n      levelEntities.set(level, levelSet);\n    }\n\n    levelSet.add(entity);\n    maxLevel = Math.max(maxLevel, level);\n  });\n  warning(!warningMissKeys.length, \"Tree missing follow keys: \".concat(warningMissKeys.slice(0, 100).map(function (key) {\n    return \"'\".concat(key, \"'\");\n  }).join(', ')));\n  var result;\n\n  if (checked === true) {\n    result = fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  } else {\n    result = cleanConductCheck(keys, checked.halfCheckedKeys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  }\n\n  return result;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// TODO: https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/treeview/treeview-2/treeview-2a.html\n// Fully accessibility support\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport classNames from 'classnames';\nimport { TreeContext } from './contextTypes';\nimport { getDataAndAria, getDragNodesKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, warningWithoutKey, convertNodePropsToEventData, getTreeNodeProps } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport TreeNode from './TreeNode';\nimport { conductCheck } from './utils/conductUtil';\n\nvar Tree = /*#__PURE__*/function (_React$Component) {\n  _inherits(Tree, _React$Component);\n\n  var _super = _createSuper(Tree);\n\n  function Tree() {\n    var _this;\n\n    _classCallCheck(this, Tree);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      keyEntities: {},\n      selectedKeys: [],\n      checkedKeys: [],\n      halfCheckedKeys: [],\n      loadedKeys: [],\n      loadingKeys: [],\n      expandedKeys: [],\n      dragging: false,\n      dragNodesKeys: [],\n      dragOverNodeKey: null,\n      dropPosition: null,\n      treeData: [],\n      flattenNodes: [],\n      focused: false,\n      activeKey: null,\n      listChanging: false,\n      prevProps: null\n    };\n    _this.listRef = React.createRef();\n\n    _this.onNodeDragStart = function (event, node) {\n      var _this$state = _this.state,\n          expandedKeys = _this$state.expandedKeys,\n          keyEntities = _this$state.keyEntities;\n      var onDragStart = _this.props.onDragStart;\n      var eventKey = node.props.eventKey;\n      _this.dragNode = node;\n      var newExpandedKeys = arrDel(expandedKeys, eventKey);\n\n      _this.setState({\n        dragging: true,\n        dragNodesKeys: getDragNodesKeys(eventKey, keyEntities)\n      });\n\n      _this.setExpandedKeys(newExpandedKeys);\n\n      if (onDragStart) {\n        onDragStart({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is less small than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n\n\n    _this.onNodeDragEnter = function (event, node) {\n      var _this$state2 = _this.state,\n          expandedKeys = _this$state2.expandedKeys,\n          keyEntities = _this$state2.keyEntities,\n          dragNodesKeys = _this$state2.dragNodesKeys;\n      var onDragEnter = _this.props.onDragEnter;\n      var _node$props = node.props,\n          pos = _node$props.pos,\n          eventKey = _node$props.eventKey;\n      if (!_this.dragNode || dragNodesKeys.indexOf(eventKey) !== -1) return;\n      var dropPosition = calcDropPosition(event, node); // Skip if drag node is self\n\n      if (_this.dragNode.props.eventKey === eventKey && dropPosition === 0) {\n        _this.setState({\n          dragOverNodeKey: '',\n          dropPosition: null\n        });\n\n        return;\n      } // Ref: https://github.com/react-component/tree/issues/132\n      // Add timeout to let onDragLevel fire before onDragEnter,\n      // so that we can clean drag props for onDragLeave node.\n      // Macro task for this:\n      // https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script\n\n\n      setTimeout(function () {\n        // Update drag over node\n        _this.setState({\n          dragOverNodeKey: eventKey,\n          dropPosition: dropPosition\n        }); // Side effect for delay drag\n\n\n        if (!_this.delayedDragEnterLogic) {\n          _this.delayedDragEnterLogic = {};\n        }\n\n        Object.keys(_this.delayedDragEnterLogic).forEach(function (key) {\n          clearTimeout(_this.delayedDragEnterLogic[key]);\n        });\n        _this.delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (!_this.state.dragging) return;\n\n          var newExpandedKeys = _toConsumableArray(expandedKeys);\n\n          var entity = keyEntities[eventKey];\n\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys, eventKey);\n          }\n\n          if (!('expandedKeys' in _this.props)) {\n            _this.setExpandedKeys(newExpandedKeys);\n          }\n\n          if (onDragEnter) {\n            onDragEnter({\n              event: event,\n              node: convertNodePropsToEventData(node.props),\n              expandedKeys: newExpandedKeys\n            });\n          }\n        }, 400);\n      }, 0);\n    };\n\n    _this.onNodeDragOver = function (event, node) {\n      var dragNodesKeys = _this.state.dragNodesKeys;\n      var onDragOver = _this.props.onDragOver;\n      var eventKey = node.props.eventKey;\n\n      if (dragNodesKeys.indexOf(eventKey) !== -1) {\n        return;\n      } // Update drag position\n\n\n      if (_this.dragNode && eventKey === _this.state.dragOverNodeKey) {\n        var dropPosition = calcDropPosition(event, node);\n        if (dropPosition === _this.state.dropPosition) return;\n\n        _this.setState({\n          dropPosition: dropPosition\n        });\n      }\n\n      if (onDragOver) {\n        onDragOver({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    };\n\n    _this.onNodeDragLeave = function (event, node) {\n      var onDragLeave = _this.props.onDragLeave;\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n\n      if (onDragLeave) {\n        onDragLeave({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    };\n\n    _this.onNodeDragEnd = function (event, node) {\n      var onDragEnd = _this.props.onDragEnd;\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n\n      _this.cleanDragState();\n\n      if (onDragEnd) {\n        onDragEnd({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n\n      _this.dragNode = null;\n    };\n\n    _this.onNodeDrop = function (event, node) {\n      var _this$state3 = _this.state,\n          _this$state3$dragNode = _this$state3.dragNodesKeys,\n          dragNodesKeys = _this$state3$dragNode === void 0 ? [] : _this$state3$dragNode,\n          dropPosition = _this$state3.dropPosition;\n      var onDrop = _this.props.onDrop;\n      var _node$props2 = node.props,\n          eventKey = _node$props2.eventKey,\n          pos = _node$props2.pos;\n\n      _this.setState({\n        dragOverNodeKey: ''\n      });\n\n      _this.cleanDragState();\n\n      if (dragNodesKeys.indexOf(eventKey) !== -1) {\n        warning(false, \"Can not drop to dragNode(include it's children node)\");\n        return;\n      }\n\n      var posArr = posToArr(pos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(node.props),\n        dragNode: _this.dragNode ? convertNodePropsToEventData(_this.dragNode.props) : null,\n        dragNodesKeys: dragNodesKeys.slice(),\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1]),\n        dropToGap: false\n      };\n\n      if (dropPosition !== 0) {\n        dropResult.dropToGap = true;\n      }\n\n      if (onDrop) {\n        onDrop(dropResult);\n      }\n\n      _this.dragNode = null;\n    };\n\n    _this.cleanDragState = function () {\n      var dragging = _this.state.dragging;\n\n      if (dragging) {\n        _this.setState({\n          dragging: false\n        });\n      }\n    };\n\n    _this.onNodeClick = function (e, treeNode) {\n      var onClick = _this.props.onClick;\n\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n\n    _this.onNodeDoubleClick = function (e, treeNode) {\n      var onDoubleClick = _this.props.onDoubleClick;\n\n      if (onDoubleClick) {\n        onDoubleClick(e, treeNode);\n      }\n    };\n\n    _this.onNodeSelect = function (e, treeNode) {\n      var selectedKeys = _this.state.selectedKeys;\n      var keyEntities = _this.state.keyEntities;\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          multiple = _this$props.multiple;\n      var selected = treeNode.selected,\n          key = treeNode.key;\n      var targetSelected = !selected; // Update selected keys\n\n      if (!targetSelected) {\n        selectedKeys = arrDel(selectedKeys, key);\n      } else if (!multiple) {\n        selectedKeys = [key];\n      } else {\n        selectedKeys = arrAdd(selectedKeys, key);\n      } // [Legacy] Not found related usage in doc or upper libs\n\n\n      var selectedNodes = selectedKeys.map(function (selectedKey) {\n        var entity = keyEntities[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n\n      _this.setUncontrolledState({\n        selectedKeys: selectedKeys\n      });\n\n      if (onSelect) {\n        onSelect(selectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.onNodeCheck = function (e, treeNode, checked) {\n      var _this$state4 = _this.state,\n          keyEntities = _this$state4.keyEntities,\n          oriCheckedKeys = _this$state4.checkedKeys,\n          oriHalfCheckedKeys = _this$state4.halfCheckedKeys;\n      var _this$props2 = _this.props,\n          checkStrictly = _this$props2.checkStrictly,\n          onCheck = _this$props2.onCheck;\n      var key = treeNode.key; // Prepare trigger arguments\n\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e.nativeEvent\n      };\n\n      if (checkStrictly) {\n        var checkedKeys = checked ? arrAdd(oriCheckedKeys, key) : arrDel(oriCheckedKeys, key);\n        var halfCheckedKeys = arrDel(oriHalfCheckedKeys, key);\n        checkedObj = {\n          checked: checkedKeys,\n          halfChecked: halfCheckedKeys\n        };\n        eventObj.checkedNodes = checkedKeys.map(function (checkedKey) {\n          return keyEntities[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n\n        _this.setUncontrolledState({\n          checkedKeys: checkedKeys\n        });\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(oriCheckedKeys), [key]), true, keyEntities),\n            _checkedKeys = _conductCheck.checkedKeys,\n            _halfCheckedKeys = _conductCheck.halfCheckedKeys; // If remove, we do it again to correction\n\n\n        if (!checked) {\n          var keySet = new Set(_checkedKeys);\n          keySet.delete(key);\n\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _halfCheckedKeys\n          }, keyEntities);\n\n          _checkedKeys = _conductCheck2.checkedKeys;\n          _halfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n\n        checkedObj = _checkedKeys; // [Legacy] This is used for `rc-tree-select`\n\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _halfCheckedKeys;\n\n        _checkedKeys.forEach(function (checkedKey) {\n          var entity = keyEntities[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n              pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n\n        _this.setUncontrolledState({\n          checkedKeys: _checkedKeys\n        }, false, {\n          halfCheckedKeys: _halfCheckedKeys\n        });\n      }\n\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n\n    _this.onNodeLoad = function (treeNode) {\n      return new Promise(function (resolve) {\n        // We need to get the latest state of loading/loaded keys\n        _this.setState(function (_ref) {\n          var _ref$loadedKeys = _ref.loadedKeys,\n              loadedKeys = _ref$loadedKeys === void 0 ? [] : _ref$loadedKeys,\n              _ref$loadingKeys = _ref.loadingKeys,\n              loadingKeys = _ref$loadingKeys === void 0 ? [] : _ref$loadingKeys;\n          var _this$props3 = _this.props,\n              loadData = _this$props3.loadData,\n              onLoad = _this$props3.onLoad;\n          var key = treeNode.key;\n\n          if (!loadData || loadedKeys.indexOf(key) !== -1 || loadingKeys.indexOf(key) !== -1) {\n            // react 15 will warn if return null\n            return {};\n          } // Process load data\n\n\n          var promise = loadData(treeNode);\n          promise.then(function () {\n            var _this$state5 = _this.state,\n                currentLoadedKeys = _this$state5.loadedKeys,\n                currentLoadingKeys = _this$state5.loadingKeys;\n            var newLoadedKeys = arrAdd(currentLoadedKeys, key);\n            var newLoadingKeys = arrDel(currentLoadingKeys, key); // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n            // https://github.com/ant-design/ant-design/issues/12464\n\n            if (onLoad) {\n              onLoad(newLoadedKeys, {\n                event: 'load',\n                node: treeNode\n              });\n            }\n\n            _this.setUncontrolledState({\n              loadedKeys: newLoadedKeys\n            });\n\n            _this.setState({\n              loadingKeys: newLoadingKeys\n            });\n\n            resolve();\n          });\n          return {\n            loadingKeys: arrAdd(loadingKeys, key)\n          };\n        });\n      });\n    };\n\n    _this.onNodeMouseEnter = function (event, node) {\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onNodeMouseLeave = function (event, node) {\n      var onMouseLeave = _this.props.onMouseLeave;\n\n      if (onMouseLeave) {\n        onMouseLeave({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onNodeContextMenu = function (event, node) {\n      var onRightClick = _this.props.onRightClick;\n\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      _this.setState({\n        focused: true\n      });\n\n      if (onFocus) {\n        onFocus.apply(void 0, arguments);\n      }\n    };\n\n    _this.onBlur = function () {\n      var onBlur = _this.props.onBlur;\n\n      _this.setState({\n        focused: false\n      });\n\n      _this.onActiveChange(null);\n\n      if (onBlur) {\n        onBlur.apply(void 0, arguments);\n      }\n    };\n\n    _this.getTreeNodeRequiredProps = function () {\n      var _this$state6 = _this.state,\n          expandedKeys = _this$state6.expandedKeys,\n          selectedKeys = _this$state6.selectedKeys,\n          loadedKeys = _this$state6.loadedKeys,\n          loadingKeys = _this$state6.loadingKeys,\n          checkedKeys = _this$state6.checkedKeys,\n          halfCheckedKeys = _this$state6.halfCheckedKeys,\n          dragOverNodeKey = _this$state6.dragOverNodeKey,\n          dropPosition = _this$state6.dropPosition,\n          keyEntities = _this$state6.keyEntities;\n      return {\n        expandedKeys: expandedKeys || [],\n        selectedKeys: selectedKeys || [],\n        loadedKeys: loadedKeys || [],\n        loadingKeys: loadingKeys || [],\n        checkedKeys: checkedKeys || [],\n        halfCheckedKeys: halfCheckedKeys || [],\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        keyEntities: keyEntities\n      };\n    }; // =========================== Expanded ===========================\n\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n\n\n    _this.setExpandedKeys = function (expandedKeys) {\n      var treeData = _this.state.treeData;\n      var flattenNodes = flattenTreeData(treeData, expandedKeys);\n\n      _this.setUncontrolledState({\n        expandedKeys: expandedKeys,\n        flattenNodes: flattenNodes\n      }, true);\n    };\n\n    _this.onNodeExpand = function (e, treeNode) {\n      var expandedKeys = _this.state.expandedKeys;\n      var listChanging = _this.state.listChanging;\n      var _this$props4 = _this.props,\n          onExpand = _this$props4.onExpand,\n          loadData = _this$props4.loadData;\n      var key = treeNode.key,\n          expanded = treeNode.expanded; // Do nothing when motion is in progress\n\n      if (listChanging) {\n        return;\n      } // Update selected keys\n\n\n      var index = expandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n\n      if (targetExpanded) {\n        expandedKeys = arrAdd(expandedKeys, key);\n      } else {\n        expandedKeys = arrDel(expandedKeys, key);\n      }\n\n      _this.setExpandedKeys(expandedKeys);\n\n      if (onExpand) {\n        onExpand(expandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e.nativeEvent\n        });\n      } // Async Load data\n\n\n      if (targetExpanded && loadData) {\n        var loadPromise = _this.onNodeLoad(treeNode);\n\n        if (loadPromise) {\n          loadPromise.then(function () {\n            // [Legacy] Refresh logic\n            var newFlattenTreeData = flattenTreeData(_this.state.treeData, expandedKeys);\n\n            _this.setUncontrolledState({\n              flattenNodes: newFlattenTreeData\n            });\n          });\n        }\n      }\n    };\n\n    _this.onListChangeStart = function () {\n      _this.setUncontrolledState({\n        listChanging: true\n      });\n    };\n\n    _this.onListChangeEnd = function () {\n      setTimeout(function () {\n        _this.setUncontrolledState({\n          listChanging: false\n        });\n      });\n    }; // =========================== Keyboard ===========================\n\n\n    _this.onActiveChange = function (newActiveKey) {\n      var activeKey = _this.state.activeKey;\n      var onActiveChange = _this.props.onActiveChange;\n\n      if (activeKey === newActiveKey) {\n        return;\n      }\n\n      _this.setState({\n        activeKey: newActiveKey\n      });\n\n      if (newActiveKey !== null) {\n        _this.scrollTo({\n          key: newActiveKey\n        });\n      }\n\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n\n    _this.getActiveItem = function () {\n      var _this$state7 = _this.state,\n          activeKey = _this$state7.activeKey,\n          flattenNodes = _this$state7.flattenNodes;\n\n      if (activeKey === null) {\n        return null;\n      }\n\n      return flattenNodes.find(function (_ref2) {\n        var key = _ref2.data.key;\n        return key === activeKey;\n      }) || null;\n    };\n\n    _this.offsetActiveKey = function (offset) {\n      var _this$state8 = _this.state,\n          flattenNodes = _this$state8.flattenNodes,\n          activeKey = _this$state8.activeKey;\n      var index = flattenNodes.findIndex(function (_ref3) {\n        var key = _ref3.data.key;\n        return key === activeKey;\n      }); // Align with index\n\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.length;\n      }\n\n      index = (index + offset + flattenNodes.length) % flattenNodes.length;\n      var item = flattenNodes[index];\n\n      if (item) {\n        var key = item.data.key;\n\n        _this.onActiveChange(key);\n      } else {\n        _this.onActiveChange(null);\n      }\n    };\n\n    _this.onKeyDown = function (event) {\n      var _this$state9 = _this.state,\n          activeKey = _this$state9.activeKey,\n          expandedKeys = _this$state9.expandedKeys,\n          checkedKeys = _this$state9.checkedKeys;\n      var _this$props5 = _this.props,\n          onKeyDown = _this$props5.onKeyDown,\n          checkable = _this$props5.checkable,\n          selectable = _this$props5.selectable; // >>>>>>>>>> Direction\n\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            _this.offsetActiveKey(-1);\n\n            event.preventDefault();\n            break;\n          }\n\n        case KeyCode.DOWN:\n          {\n            _this.offsetActiveKey(1);\n\n            event.preventDefault();\n            break;\n          }\n      } // >>>>>>>>>> Expand & Selection\n\n\n      var activeItem = _this.getActiveItem();\n\n      if (activeItem && activeItem.data) {\n        var treeNodeRequiredProps = _this.getTreeNodeRequiredProps();\n\n        var expandable = activeItem.data.isLeaf === false || !!(activeItem.data.children || []).length;\n        var eventNode = convertNodePropsToEventData(_objectSpread(_objectSpread({}, getTreeNodeProps(activeKey, treeNodeRequiredProps)), {}, {\n          data: activeItem.data,\n          active: true\n        }));\n\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeys.includes(activeKey)) {\n                _this.onNodeExpand({}, eventNode);\n              } else if (activeItem.parent) {\n                _this.onActiveChange(activeItem.parent.data.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeys.includes(activeKey)) {\n                _this.onNodeExpand({}, eventNode);\n              } else if (activeItem.children && activeItem.children.length) {\n                _this.onActiveChange(activeItem.children[0].data.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n          // Selection\n\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                _this.onNodeCheck({}, eventNode, !checkedKeys.includes(activeKey));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                _this.onNodeSelect({}, eventNode);\n              }\n\n              break;\n            }\n        }\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event);\n      }\n    };\n    /**\n     * Only update the value which is not in props\n     */\n\n\n    _this.setUncontrolledState = function (state) {\n      var atomic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var forceState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var needSync = false;\n      var allPassed = true;\n      var newState = {};\n      Object.keys(state).forEach(function (name) {\n        if (name in _this.props) {\n          allPassed = false;\n          return;\n        }\n\n        needSync = true;\n        newState[name] = state[name];\n      });\n\n      if (needSync && (!atomic || allPassed)) {\n        _this.setState(_objectSpread(_objectSpread({}, newState), forceState));\n      }\n    };\n\n    _this.scrollTo = function (scroll) {\n      _this.listRef.current.scrollTo(scroll);\n    };\n\n    return _this;\n  }\n\n  _createClass(Tree, [{\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$state10 = this.state,\n          focused = _this$state10.focused,\n          flattenNodes = _this$state10.flattenNodes,\n          keyEntities = _this$state10.keyEntities,\n          dragging = _this$state10.dragging,\n          activeKey = _this$state10.activeKey;\n      var _this$props6 = this.props,\n          prefixCls = _this$props6.prefixCls,\n          className = _this$props6.className,\n          style = _this$props6.style,\n          showLine = _this$props6.showLine,\n          focusable = _this$props6.focusable,\n          _this$props6$tabIndex = _this$props6.tabIndex,\n          tabIndex = _this$props6$tabIndex === void 0 ? 0 : _this$props6$tabIndex,\n          selectable = _this$props6.selectable,\n          showIcon = _this$props6.showIcon,\n          icon = _this$props6.icon,\n          switcherIcon = _this$props6.switcherIcon,\n          draggable = _this$props6.draggable,\n          checkable = _this$props6.checkable,\n          checkStrictly = _this$props6.checkStrictly,\n          disabled = _this$props6.disabled,\n          motion = _this$props6.motion,\n          loadData = _this$props6.loadData,\n          filterTreeNode = _this$props6.filterTreeNode,\n          height = _this$props6.height,\n          itemHeight = _this$props6.itemHeight,\n          virtual = _this$props6.virtual,\n          titleRender = _this$props6.titleRender;\n      var domProps = getDataAndAria(this.props);\n      return React.createElement(TreeContext.Provider, {\n        value: {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggable,\n          checkable: checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          titleRender: titleRender,\n          onNodeClick: this.onNodeClick,\n          onNodeDoubleClick: this.onNodeDoubleClick,\n          onNodeExpand: this.onNodeExpand,\n          onNodeSelect: this.onNodeSelect,\n          onNodeCheck: this.onNodeCheck,\n          onNodeLoad: this.onNodeLoad,\n          onNodeMouseEnter: this.onNodeMouseEnter,\n          onNodeMouseLeave: this.onNodeMouseLeave,\n          onNodeContextMenu: this.onNodeContextMenu,\n          onNodeDragStart: this.onNodeDragStart,\n          onNodeDragEnter: this.onNodeDragEnter,\n          onNodeDragOver: this.onNodeDragOver,\n          onNodeDragLeave: this.onNodeDragLeave,\n          onNodeDragEnd: this.onNodeDragEnd,\n          onNodeDrop: this.onNodeDrop\n        }\n      }, React.createElement(\"div\", {\n        className: classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey !== null), _classNames))\n      }, React.createElement(NodeList, Object.assign({\n        ref: this.listRef,\n        prefixCls: prefixCls,\n        style: style,\n        data: flattenNodes,\n        disabled: disabled,\n        selectable: selectable,\n        checkable: !!checkable,\n        motion: motion,\n        dragging: dragging,\n        height: height,\n        itemHeight: itemHeight,\n        virtual: virtual,\n        focusable: focusable,\n        focused: focused,\n        tabIndex: tabIndex,\n        activeItem: this.getActiveItem(),\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onKeyDown: this.onKeyDown,\n        onActiveChange: this.onActiveChange,\n        onListChangeStart: this.onListChangeStart,\n        onListChangeEnd: this.onListChangeEnd\n      }, this.getTreeNodeRequiredProps(), domProps))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, prevState) {\n      var prevProps = prevState.prevProps;\n      var newState = {\n        prevProps: props\n      };\n\n      function needSync(name) {\n        return !prevProps && name in props || prevProps && prevProps[name] !== props[name];\n      } // ================== Tree Node ==================\n\n\n      var treeData; // Check if `treeData` or `children` changed and save into the state.\n\n      if (needSync('treeData')) {\n        treeData = props.treeData;\n      } else if (needSync('children')) {\n        warning(false, '`children` of Tree is deprecated. Please use `treeData` instead.');\n        treeData = convertTreeToData(props.children);\n      } // Save flatten nodes info and convert `treeData` into keyEntities\n\n\n      if (treeData) {\n        newState.treeData = treeData;\n        var entitiesMap = convertDataToEntities(treeData);\n        newState.keyEntities = _objectSpread(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities); // Warning if treeNode not provide key\n\n        if (process.env.NODE_ENV !== 'production') {\n          warningWithoutKey(treeData);\n        }\n      }\n\n      var keyEntities = newState.keyEntities || prevState.keyEntities; // ================ expandedKeys =================\n\n      if (needSync('expandedKeys') || prevProps && needSync('autoExpandParent')) {\n        newState.expandedKeys = props.autoExpandParent || !prevProps && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities) : props.expandedKeys;\n      } else if (!prevProps && props.defaultExpandAll) {\n        var cloneKeyEntities = _objectSpread({}, keyEntities);\n\n        delete cloneKeyEntities[MOTION_KEY];\n        newState.expandedKeys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!prevProps && props.defaultExpandedKeys) {\n        newState.expandedKeys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities) : props.defaultExpandedKeys;\n      }\n\n      if (!newState.expandedKeys) {\n        delete newState.expandedKeys;\n      } // ================ flattenNodes =================\n\n\n      if (treeData || newState.expandedKeys) {\n        var flattenNodes = flattenTreeData(treeData || prevState.treeData, newState.expandedKeys || prevState.expandedKeys);\n        newState.flattenNodes = flattenNodes;\n      } // ================ selectedKeys =================\n\n\n      if (props.selectable) {\n        if (needSync('selectedKeys')) {\n          newState.selectedKeys = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!prevProps && props.defaultSelectedKeys) {\n          newState.selectedKeys = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      } // ================= checkedKeys =================\n\n\n      if (props.checkable) {\n        var checkedKeyEntity;\n\n        if (needSync('checkedKeys')) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!prevProps && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: prevState.checkedKeys,\n            halfCheckedKeys: prevState.halfCheckedKeys\n          };\n        }\n\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n              _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n              checkedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n              _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n              halfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(checkedKeys, true, keyEntities);\n            checkedKeys = conductKeys.checkedKeys;\n            halfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n\n          newState.checkedKeys = checkedKeys;\n          newState.halfCheckedKeys = halfCheckedKeys;\n        }\n      } // ================= loadedKeys ==================\n\n\n      if (needSync('loadedKeys')) {\n        newState.loadedKeys = props.loadedKeys;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Tree;\n}(React.Component);\n\nTree.defaultProps = {\n  prefixCls: 'rc-tree',\n  showLine: false,\n  showIcon: true,\n  selectable: true,\n  multiple: false,\n  checkable: false,\n  disabled: false,\n  checkStrictly: false,\n  draggable: false,\n  defaultExpandParent: true,\n  autoExpandParent: false,\n  defaultExpandAll: false,\n  defaultExpandedKeys: [],\n  defaultCheckedKeys: [],\n  defaultSelectedKeys: []\n};\nTree.TreeNode = TreeNode;\nexport default Tree;","import Tree from './Tree';\nimport TreeNode from './TreeNode';\nexport { TreeNode };\nexport default Tree;"],"sourceRoot":""}