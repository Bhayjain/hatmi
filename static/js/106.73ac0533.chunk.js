(this.webpackJsonprootui=this.webpackJsonprootui||[]).push([[106],{1049:function(e,a,t){"use strict";t.r(a);var s=t(2),o=t(3),i=t(15),r=t(4),n=t(5),c=t(0),l=t.n(c),d=t(18),m=t.n(d),_=t(26),v=t(14),u=t(306),p=t(259),w=t(6),b=t.n(w),h=t(13),f=t(74),g=t(23),k=(window.innerWidth,window.innerHeight),y=k/2;console.log(y);var E=function(e){Object(r.a)(t,e);var a=Object(n.a)(t);function t(e){var o;return Object(s.a)(this,t),(o=a.call(this,e)).state={email:"",emailError:"",password:"",passwordError:"",loading:!1,showPassword:!1,invalidCredital:"",mobile_number:"",mobile_number_error:""},o.checkNumber=o.checkNumber.bind(Object(i.a)(o)),o.checkEmail=o.checkEmail.bind(Object(i.a)(o)),o.checkPassword=o.checkPassword.bind(Object(i.a)(o)),o.maybeLogin=o.maybeLogin.bind(Object(i.a)(o)),o.togglePasswordVisibility=o.togglePasswordVisibility.bind(Object(i.a)(o)),o}return Object(o.a)(t,[{key:"checkEmail",value:function(){var e=this.state.email,a=e&&Object(f.b)(e);return this.setState({emailError:a?"":"Invalid email format"}),a}},{key:"checkNumber",value:function(){var e=this.state.mobile_number,a=e&&Object(f.c)(e);return this.setState({mobile_number_error:a?"":"Invalid mobile number"}),a}},{key:"checkPassword",value:function(){var e=this.state.password,a=e&&e.length>=0;return this.setState({passwordError:a?"":"Password must be at least 6 characters long"}),a}},{key:"maybeLogin",value:function(e){var a=this;e.preventDefault();var t=this.props,s=t.updateAuth,o=t.settings,i={mobile_no:this.state.mobile_number,password:this.state.password};console.log("Prams",i);fetch(o.api_url_phase_2+"v1/employee/login",{method:"POST",body:JSON.stringify(i),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Login Response **************************************",e);var t=e;console.log("Dataaa",t.data);var o="";if(1==t.status){var i={employee_id:t.data._id,employee_name:t.data.name,property_obj:t.data.property_obj};a.setState({loading:!0},(function(){setTimeout((function(){s({token2:t.data,invalidCredital:""}),b.a.set("hatimi_login_data",JSON.stringify(i)),b.a.set("property_id",t.data.property_id),b.a.set("property_uid",t.data.property_obj.property_uid),b.a.set("property_name",t.data.property_obj.label),b.a.set("is_admin_view",t.data.access.is_admin),b.a.set("loginID",t.data._id),b.a.set("coupon_control",t.data.access.coupon_control),b.a.set("coupon_view",t.data.access.coupon_view),b.a.set("employee_control",t.data.access.employee_control),b.a.set("employee_view",t.data.access.employee_view),b.a.set("front_desk_view",t.data.access.front_desk_view),b.a.set("front_desk_control",t.data.access.front_desk_control),b.a.set("leave_view",t.data.access.leave_view),b.a.set("leave_control",t.data.access.leave_control),b.a.set("attendance_view",t.data.access.attendance_view),b.a.set("attendance_control",t.data.access.attendance_control),b.a.set("hrm_view",t.data.access.hrm_view),b.a.set("hrm_control",t.data.access.hrm_control),b.a.set("swap_view",t.data.access.swap_view),b.a.set("swap_control",t.data.access.swap_control),b.a.set("task_view",t.data.access.task_view),b.a.set("task_control",t.data.access.task_control),b.a.set("master_view",t.data.access.master_view),b.a.set("master_control",t.data.access.master_control),b.a.set("properties_dock_view",t.data.access.properties_dock_view),b.a.set("properties_dock_control",t.data.access.properties_dock_control),b.a.set("reservation_view",t.data.access.reservation_view),b.a.set("reservation_control",t.data.access.reservation_control),!1===t.data.access.front_desk_view&&!0===t.data.access.reservation_view?(console.log("Condition: front_desk_view is false and reservation_view is true"),o="/reservation"):!1===t.data.access.front_desk_view&&!0===t.data.access.admin_management_view?(console.log("Condition: front_desk_view is false and admin_management_view is true"),o="/properties"):!1===t.data.access.front_desk_view&&!0===t.data.access.coupon_view?(console.log("Condition: front_desk_view is false and coupon_view is true"),o="/coupon"):!1===t.data.access.front_desk_view&&!0===t.data.access.employee_view?(console.log("Condition: front_desk_view is false and employee_view is true"),o="/employee"):!1===t.data.access.front_desk_view&&!0===t.data.access.hrm_view?(console.log("Condition: front_desk_view is false and hrm_view is true"),o="/leave"):!1===t.data.access.front_desk_view&&!0===t.data.access.swap_view?(console.log("Condition: front_desk_view is false and swap_view is true"),o="/approval-request"):!1===t.data.access.front_desk_view&&!0===t.data.access.task_view?(console.log("Condition: front_desk_view is false and task_view is true"),o="/task"):!1===t.data.access.front_desk_view&&!0===t.data.access.master_view?(console.log("Condition: front_desk_view is false and master_view is true"),o="/property-loaction"):o="/front-desk",console.log("Redirecting to page:",o)})),setTimeout((function(){location.hash=o,window.location.reload()}))}))}else a.setState({invalidCredital:t.message})}));if(!this.state.loading){var r=!0;r=this.checkEmail()&&r,r=this.checkPassword()&&r}}},{key:"togglePasswordVisibility",value:function(){this.setState((function(e){return{showPassword:!e.showPassword}}))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.email,a.emailError,a.password),s=a.passwordError,o=a.showPassword,i=a.mobile_number,r=a.mobile_number_error,n=this.props.settings;return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:"bg-image test_collapse"},l.a.createElement("img",{src:n.homeScreen[0].img,alt:"",className:"my_image"})),l.a.createElement("div",{className:"row width100 test_collapse"},l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 myLogoDiv"},l.a.createElement("div",{className:"form rui-sign-form ",style:{margin:"auto"}},l.a.createElement("div",{className:"row vertical-gap sm-gap justify-content-center"},l.a.createElement("div",null,l.a.createElement("img",{src:n.homeScreen[1].img,alt:"",className:"my_image"}),l.a.createElement("p",{className:"subText text-center"},"Gateway of Serenity"))))),l.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 myLogoDiv test_collapse"},l.a.createElement("form",{className:"form rui-sign-form rui-sign-form-cloud loginCard test_collapse",style:{margin:"auto"},onSubmit:this.maybeLogin},l.a.createElement("div",{className:"row vertical-gap sm-gap justify-content-center"},l.a.createElement("div",{className:"col-12 test_collapse"},l.a.createElement("h1",{className:"display-4 mb-10 headingLogo"},"Welcome to Hatimi properties"),l.a.createElement("p",{className:"display-6 mb-10 paraLogo"},"Login into your Account")),l.a.createElement("div",{className:"col-12 test_collapse"},l.a.createElement(u.a,{className:"labelReact"},"Mobile Number"),l.a.createElement("input",{type:"text",className:m()(" form-control my_mrewwww",{"is-invalid":r}),"aria-describedby":"mobilenumberHelp",placeholder:"Mobile Number",value:i.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1"),onChange:function(a){e.setState({mobile_number:a.target.value,invalidCredital:""},r?e.checkNumber:function(){})},onBlur:this.checkNumber,disabled:this.state.loading,id:"mob",name:"mobile_no"}),r?l.a.createElement("div",{id:"mobile_number_error",className:"invalid-feedback"},r):""),l.a.createElement("div",{className:"col-12"},l.a.createElement(u.a,{className:"labelReact"},"Password"),l.a.createElement("div",{className:"password-input-container"},l.a.createElement("input",{type:o?"text":"password",className:m()("form-control",{"is-invalid":s}),placeholder:"Password",value:t,onChange:function(a){e.setState({password:a.target.value,invalidCredital:""},s?e.checkPassword:function(){})},onBlur:this.checkPassword,disabled:this.state.loading}),l.a.createElement("span",{className:"password-toggle-icon",style:{cursor:"pointer"},"aria-hidden":"true",onClick:function(){return e.togglePasswordVisibility()}},o?l.a.createElement(h.a,{name:"eye"}):l.a.createElement(h.a,{name:"eye-off"}))),s?l.a.createElement("div",{className:"invalid-feedback"},s):""),l.a.createElement("div",{className:"col-12 test_collapse"},this.state.invalidCredital?l.a.createElement("div",{className:"invalidCredital"},this.state.invalidCredital):""),l.a.createElement("div",{className:"col-12 test_collapse"},l.a.createElement("button",{className:"btn btn-primary btn-block text-center loginText",onClick:this.maybeLogin,disabled:this.state.loading},"Login",this.state.loading?l.a.createElement(p.a,null):"")),l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(v.b,{to:"/forget-password",className:"fs-13 achorColo"},"Forget password?"))))))))}}]),t}(c.Component);a.default=Object(_.b)((function(e){return{auth:e.auth,settings:e.settings}}),{updateAuth:g.i})(E)},306:function(e,a,t){"use strict";var s=t(11),o=t(12),i=t(0),r=t.n(i),n=t(1),c=t.n(n),l=t(16),d=t.n(l),m=t(7),_=c.a.oneOfType([c.a.number,c.a.string]),v=c.a.oneOfType([c.a.bool,c.a.string,c.a.number,c.a.shape({size:_,order:_,offset:_})]),u={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:m.o,className:c.a.string,cssModule:c.a.object,xs:v,sm:v,md:v,lg:v,xl:v,widths:c.a.array},p={tag:"label",widths:["xs","sm","md","lg","xl"]},w=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},b=function(e){var a=e.className,t=e.cssModule,i=e.hidden,n=e.widths,c=e.tag,l=e.check,_=e.size,v=e.for,u=Object(o.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),p=[];n.forEach((function(a,s){var o=e[a];if(delete u[a],o||""===o){var i,r=!s;if(Object(m.i)(o)){var n,c=r?"-":"-"+a+"-";i=w(r,a,o.size),p.push(Object(m.k)(d()(((n={})[i]=o.size||""===o.size,n["order"+c+o.order]=o.order||0===o.order,n["offset"+c+o.offset]=o.offset||0===o.offset,n))),t)}else i=w(r,a,o),p.push(i)}}));var b=Object(m.k)(d()(a,!!i&&"sr-only",!!l&&"form-check-label",!!_&&"col-form-label-"+_,p,!!p.length&&"col-form-label"),t);return r.a.createElement(c,Object(s.a)({htmlFor:v},u,{className:b}))};b.propTypes=u,b.defaultProps=p,a.a=b}}]);
//# sourceMappingURL=106.73ac0533.chunk.js.map