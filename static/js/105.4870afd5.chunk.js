(this.webpackJsonprootui=this.webpackJsonprootui||[]).push([[105],{1121:function(e,t,a){"use strict";a.r(t);var s=a(20),n=a(2),r=a(3),o=a(15),l=a(4),c=a(5),i=a(41),m=a(0),_=a.n(m),d=a(26),u=a(9),p=a(261),h=a(298),g=a(111),v=a(259),b=a(306),y=a(305),f=a(332),E=a(292),N=a(18),k=a.n(N),w=(a(591),a(429),a(669),a(551),a(6)),x=a.n(w),S=a(13),j=a(23),D=a(445),O=a(73),C=a(313),T=(a(314),a(39)),I=a(74),B=window.innerWidth,F=window.innerHeight-document.querySelector(".rui-navbar-sticky").offsetHeight,M=F/2-100;if(B<600)M=F/2-50;var A=JSON.parse(x.a.get("hatimi_login_data")),R=x.a.get("is_admin_view"),q=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var s,r;return Object(n.a)(this,a),r=t.call(this,e),Object(i.a)(Object(o.a)(r),"get_all_properties",(function(){var e=r.props.settings;fetch(e.api_url+"v1/property/get-all-properties",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;if(1==t.status){var a=t.data;if(""==a||void 0==a||0==a.length)var s="";else s={value:a[0]._id,label:a[0].property_name,property_uid:a[0].property_uid,check_in_time:a[0].check_in_time,check_out_time:a[0].check_out_time};r.setState({all_property_array:t.data,property_type_array:t.data,property_deatils:s,check_in_time:a[0].check_in_time,check_out_time:a[0].check_out_time})}else r.setState({all_property_array:[],property_type_array:[],property_uid:a[0].property_uid})}))})),Object(i.a)(Object(o.a)(r),"get_front_desk",(function(e,t,a){var s=r.props.settings,n={startDate:e,endDate:t};console.log("params",s.api_url+"v1/booking/get-front-desk-info/"+a,n);fetch(s.api_url+"v1/booking/get-front-desk-info/"+a,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log("Fetch Front Desk ***************",t);var a=t;if(1==a.status){for(var s=a.data,n=[],o=r.state.start_date_new,l=r.state.last_day_new,c=r.state.check_in_time,i=r.state.check_out_time,m=e+" "+c,_=new Date(e+" "+i),d=new Date(m),u=Math.abs(d-_)/36e5,p=0;p<s.length;p++){var h=s[p].room_no_array,g=[];if(h.length>0)for(var v=0;v<h.length;v++){var b=h[v].room_details,y=[],f="";if(b.length>0)for(var E=0;E<b.length;E++)if(0==E)if(b[0].check_out==o){var N=b[0].check_out+" 00:00",k=b[0].check_out+" "+i,w=new Date(N),x=new Date(k),S=Math.abs(x-w)/36e5;b[0].colSpan=S,y.push({colSpan:S,status:b[0].status,customer_name:b[0].name,id:b[0].id}),y.push({colSpan:u,status:"",customer_name:""}),f=b[0].check_out}else if(b[0].check_in==o){N=b[0].check_in+" 00:00",k=b[0].check_in+" "+c;var j=b[0].check_out+" "+i,D=(w=new Date(N),x=new Date(k),new Date(j)),O=(S=Math.abs(x-w)/36e5,Math.abs(D-x)/36e5);b[0].colSpan=S,y.push({colSpan:S,status:"",customer_name:""}),y.push({colSpan:O,status:b[0].status,customer_name:b[0].name,id:b[0].id}),f=b[0].check_out}else if(b[0].check_out==l){var C=o+" 00:01",T=(N=b[0].check_in+" "+c,k=b[0].check_out+" "+i,j=b[0].check_out+" 00:00",new Date(C)),I=(w=new Date(N),x=new Date(k),D=new Date(j),S=Math.abs(x-w)/36e5,O=Math.abs(D-x)/36e5,Math.abs(w-T)/36e5);y.push({colSpan:I,status:"",customer_name:""}),y.push({colSpan:S,status:b[0].status,customer_name:b[0].name,id:b[0].id}),y.push({colSpan:O,status:"",customer_name:""}),f=b[0].check_out}else{N=o+" 00:00",k=b[0].check_in+" "+c,j=b[0].check_out+" "+i;var B=l+" "+i,F=(w=new Date(N),x=new Date(k),D=new Date(j),new Date(B));S=Math.abs(x-w)/36e5,O=Math.abs(D-x)/36e5,I=Math.abs(F-D)/36e5;y.push({colSpan:S,status:"",customer_name:""}),y.push({colSpan:O,status:b[0].status,customer_name:b[0].name,id:b[0].id}),y.push({colSpan:I,status:"",customer_name:""}),f=b[0].check_out}else if(E!=b.length-1){N=f+" "+i,k=b[E].check_in+" "+c,j=b[E].check_out+" "+i,w=new Date(N),x=new Date(k),D=new Date(j),S=Math.abs(x-w)/36e5,O=Math.abs(D-x)/36e5;y.push({colSpan:S,status:"",customer_name:""}),y.push({colSpan:O,status:b[E].status,customer_name:b[E].name,id:b[0].id}),f=b[E].check_out}else{N=f+" "+i,k=b[E].check_in+" "+c,w=new Date(N),x=new Date(k),S=Math.abs(x-w)/36e5;if(y.push({colSpan:S,status:"",customer_name:""}),b[E].check_in==l){j=b[E].check_in+" 00:00",D=new Date(j),O=Math.abs(D-x)/36e5;y.push({colSpan:O,status:b[E].status,customer_name:b[E].name,id:b[0].id}),f=b[E].check_in}else{j=b[E].check_out+" "+i,B=l+" 00:00",D=new Date(j),F=new Date(B),O=Math.abs(D-x)/36e5;y.push({colSpan:O,status:b[E].status,customer_name:b[E].name,id:b[0].id});var M=Math.abs(F-D)/36e5;y.push({colSpan:M,status:b[E].status,customer_name:b[E].name,id:b[0].id}),f=l}}g.push({room_no:h[v].room_no,room_details:y})}n.push({room_type:s[p].room_type,room_no_array:g})}r.setState({front_desk_array:n,room_array:a.data,noDataFoundSingle:"block",isLoading:"none"})}else r.setState({front_desk_array:[],noDataFoundSingle:"block",isLoading:"none"})}))})),Object(i.a)(Object(o.a)(r),"handleDateClick",(function(e){e.dateStr})),Object(i.a)(Object(o.a)(r),"handleDatesSet",(function(e){for(var t=new Date(e.startStr),a=new Date(e.endStr),s=a.setDate(a.getDate()-1),n=[],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=new Date(t);l<=a;){var c=new Date(l),i=""+(c.getMonth()+1),m=""+c.getDate(),_=c.getFullYear();i.length<2&&(i="0"+i),m.length<2&&(m="0"+m);var d=[_,i,m].join("-"),u=new Date(l),p=u.setDate(u.getDate()+1),h=new Date(p),g=""+(h.getMonth()+1),v=""+h.getDate(),b=h.getFullYear();g.length<2&&(g="0"+g),v.length<2&&(v="0"+v);var y=[b,g,v].join("-");n.push({date:new Date(l),show_date:new Date(l).getDate(),show_day:o[new Date(l).getDay()],start_date:d,end_date:y,room_details_data:"",room_details_data_array:[]}),l.setDate(l.getDate()+1)}r.setState({weekDates:n,start_of_week:t.toISOString(),end_of_week:new Date(s).toISOString()}),setTimeout((function(){r.get_front_desk_test(t,s)}),100)})),Object(i.a)(Object(o.a)(r),"get_front_desk_test",(function(e,t){var a=new Date(e),s=""+(a.getMonth()+1),n=""+a.getDate(),o=a.getFullYear();s.length<2&&(s="0"+s),n.length<2&&(n="0"+n);var l=[o,s,n].join("-"),c=new Date(t),i=""+(c.getMonth()+1),m=""+c.getDate(),_=c.getFullYear();i.length<2&&(i="0"+i),m.length<2&&(m="0"+m);var d=[_,i,m].join("-");r.setState({start_date_new:l,last_day_new:d}),r.get_front_desk(l,d,r.state.property_uid)})),Object(i.a)(Object(o.a)(r),"data_cal",(function(e){var t=e.split(":"),a=60*+t[0]*60+60*+t[1]+ +t[2];return Math.round(a/86400*100)})),Object(i.a)(Object(o.a)(r),"openSideBar",(function(e){document.getElementById("mySidenavFront").style.width=B<600?"100%":"660px",document.getElementById("mySidenavFront").style.boxShadow="rgb(177, 174, 174) 10px 0px 12px 12px",r.setState({room_number_change:"",update_error:"",borderNew:!1,loading:!1}),r.get_single_booking(e)})),Object(i.a)(Object(o.a)(r),"closeSideBar",(function(){document.getElementById("mySidenavFront").style.width="0",document.getElementById("mySidenavFront").style.boxShadow=" none"})),Object(i.a)(Object(o.a)(r),"get_single_booking",(function(e){var t=r.props.settings;fetch(t.api_url+"v1/booking/get/"+e,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if(1==(t=e).status){for(var t,a=(t=t.data).room_info,s=0;s<a.length;s++){var n={value:a[s].room_number,label:a[s].room_number};a[s].room_number_new=n;var o=t.extra_services_info;if(o.length>0){for(var l=0;l<o.length;l++)var c={service_name:o[l].service_name,service_price:o[l].service_price,service_count:0,service_count_new:o[l].service_count};a[s].extra_services.push(c)}}var i=t.booking_status;if("check_in"==i)var m={value:"2",label:"Check-In",type:"check_in"};else if("check_out"==i)m={value:"3",label:"Check-Out",type:"check_out"};else if("cancel"==i)m={value:"5",label:"Cancel",type:"cancel"};else if("confimed"==i)m={value:"1",label:"Confimed",type:"confimed"};else if("blocked"==i)m={value:"4",label:"Blocked",type:"blocked"};else m={value:"6",label:"Pending",type:"pending"};r.setState({status:m,guest_name:t.customer_info.name,extra_service_array:t.extra_services_info,booking_id_new:t.booking_id,email:t.customer_info.email,country:"India",mobile_number:t.customer_info.mobile_number,purpose_of_visit:t.customer_info.purpose_of_visit,check_in:t.check_in,check_out:t.check_out,adults:t.adults,children:t.children,room_info:a,amount:t.billing_info.amount_payable,paid:0,balance:t.billing_info.amount_payable,new_room_id:t.room_info[0].room_uid,chechInStatus:t.booking_status,single_no_data:"none"})}else r.setState({single_no_data:"block"})}))})),Object(i.a)(Object(o.a)(r),"room_change",(function(e,t,a){var s=r.state.room_info;s[t].room_number=e.label,s[t].room_number_new=e,r.setState({room_info:s})})),Object(i.a)(Object(o.a)(r),"room_focus",(function(e,t){var a={room_type:t.room_type,check_in:r.state.check_in,check_out:r.state.check_out},s=r.props.settings;fetch(s.api_url+"v1/booking/get-room-numbers/"+r.state.property_uid,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if(1==(t=e).status){var t=t.data;r.setState({get_room_array:t})}else r.setState({get_room_array:[],single_no_data:"block"})}))})),Object(i.a)(Object(o.a)(r),"updateBooking",(function(e,t,a){if(r.setState({loading:!1}),""==r.state.status||void 0==r.state.status)r.setState({update_error:"Please Select Booking Status",borderNew:!0,loading:!1});else{for(var s=r.state.room_info,n=[],o=0;o<s.length;o++){var l={room_uid:s[o].room_uid,extra_services:r.state.new_extra_services};n.push(l)}if("changed"==r.state.room_number_change)var c={property_uid:e,new_room_info:s,current_room_info:n,booking_status:r.state.status.type,booking_id:a,extraService:r.state.newArray_extra};else c={property_uid:e,current_room_info:n,booking_status:r.state.status.type,booking_id:a,extraService:r.state.newArray_extra};console.log("***********************",c);var m=r.props,_=m.settings,d=m.addToast;fetch(_.api_url+"v1/booking/update/"+t,{method:"PUT",body:JSON.stringify(c),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t,a=e;1==a.status?(r.get_reservation(),r.closeNav(),d({title:"Hatimi",content:a.status,duration:1e3}),r.setState((t={loading:!1,status:"",room_info:[],update_error:"",borderNew:!1},Object(i.a)(t,"loading",!1),Object(i.a)(t,"checked",!1),Object(i.a)(t,"new_extraquantity",0),t))):(d({title:"Hatimi",content:a.status,duration:1e3}),r.setState({loading:!1,update_error:a.message,checked:!1,new_extraquantity:0}))}))}})),Object(i.a)(Object(o.a)(r),"get_room_maxcapacity",(function(e){var t=r.props.settings;fetch(t.api_url+"v1/property/room/get-max-capacity/"+e,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;1==t.status?r.setState({max_capacity:t.max_capacity}):r.setState({max_capacity:""})}))})),Object(i.a)(Object(o.a)(r),"get_room_for_booking",(function(e){var t=r.props.settings,a=new Date(r.state.startDate),s=a.getFullYear(),n=a.getMonth()+1,o=a.getDate();o<10&&(o="0"+o),n<10&&(n="0"+n);var l=s+"-"+n+"-"+o,c=new Date(r.state.endDate),i=c.getFullYear(),m=c.getMonth()+1,_=c.getDate();if(_<10)var d="0"+_;else d=_;_<10&&(_="0"+_),m<10&&(m="0"+m);var u={startDate:l,endDate:i+"-"+m+"-"+d,adults:Number(r.state.adult_val),children:Number(r.state.children_val),no_of_rooms:Number(r.state.room_val)};console.log("Get Room Params",u);fetch(t.api_url+"v1/property/room/get-available-rooms/"+e,{method:"POST",body:JSON.stringify(u),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch room for booking resonse  ***************",e);var t=e;if(!0===t.status){for(var a=t.data,s=-1,n=-1,o=-1,l=0;l<a.length;l++)if(a[l].quantity=0,a[l].taxInfo){var c=a[l].taxInfo,i=c.cgst,m=c.igst,_=c.sgst;i>s&&(s=i,l),m>n&&(n=m,l),_>o&&(o=_,l)}else;r.setState({get_room_booking_array:a,room_id:a._id,highestCgstIndex:s,highestIgstIndex:n,highestSgstIndex:o})}else r.setState({get_room_booking_array:[],room_id:"",no_room_aviable_message:t.message})})).catch((function(e){console.error("Error fetching room booking:",e)}))})),Object(i.a)(Object(o.a)(r),"get_all_booking",(function(){var e=r.props.settings;fetch(e.api_url+"v1/booking/get",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;1==t.status?r.setState({get_all_booking_array:t.data}):r.setState({get_all_booking_array:[]})}))})),Object(i.a)(Object(o.a)(r),"get_all_coupan",(function(){var e=r.props.settings;fetch(e.api_url+"v1/master/coupon/get-all-coupons",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;1==t.status?r.setState({coupons_array:t.data}):r.setState({coupons_array:[]})}))})),Object(i.a)(Object(o.a)(r),"get_all_extra_services",(function(){var e=r.props.settings;fetch(e.api_url+"v1/master/extra/get-all-extra-services",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;if(1==t.status){for(var a=t.data,s=0;s<a.length;s++)a[s].extraquantity=0;r.setState({get_all_extra_array:a})}else r.setState({get_all_extra_array:[]})}))})),Object(i.a)(Object(o.a)(r),"get_all_extra_services_reservation",(function(){var e=r.props.settings;fetch(e.api_url+"v1/master/extra/get-all-extra-services",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;if(1==t.status){for(var a=t.data,s=0;s<a.length;s++)a[s].new_extraquantity=0;r.setState({get_all_extra_array_reservation:a})}else r.setState({get_all_extra_array_reservation:[]})}))})),Object(i.a)(Object(o.a)(r),"openNavExcel",(function(){document.getElementById("mySidenavExcel").style.width=B<600?"100%":"660px",document.getElementById("mySidenavExcel").style.boxShadow="rgb(177, 174, 174) 10px 0px 12px 12px",r.blank_data_show()})),Object(i.a)(Object(o.a)(r),"closeNav",(function(){document.getElementById("mySidenavExcel").style.width="0",document.getElementById("mySidenavExcel").style.boxShadow="none",r.blank_data_show()})),Object(i.a)(Object(o.a)(r),"blank_data_show",(function(){var e;r.setState((e={no_room_aviable_message:"",user_name:"",mobile:"",email_id:"",Purpose_visit:"",adult_val:"",children_val:"",room_val:""},Object(i.a)(e,"adult_val",2),Object(i.a)(e,"room_val",1),Object(i.a)(e,"children_val",2),Object(i.a)(e,"checked",!1),Object(i.a)(e,"showTable",!1),Object(i.a)(e,"loading",!1),Object(i.a)(e,"book_as_company",!1),Object(i.a)(e,"coupan_code",""),Object(i.a)(e,"maxReachedMessage",""),Object(i.a)(e,"coupan_code",""),Object(i.a)(e,"Purpose_visit",""),Object(i.a)(e,"startDate",new Date),Object(i.a)(e,"endDate",new Date),Object(i.a)(e,"get_room_booking_array",[]),Object(i.a)(e,"get_all_extra_array",[]),Object(i.a)(e,"newArray",[]),Object(i.a)(e,"copuanError",""),e))})),Object(i.a)(Object(o.a)(r),"checkEmail",(function(){var e=r.state.email_id,t=e&&Object(I.b)(e);return r.setState({emailError:t?"":"Invalid email format"}),t})),Object(i.a)(Object(o.a)(r),"checkNumber",(function(){var e=r.state.mobile,t=e&&Object(I.c)(e);return r.setState({mobile_number_error:t?"":"Invalid mobile number"}),t})),Object(i.a)(Object(o.a)(r),"bookingValidation",(function(e){1==r.state.book_as_company&&(""==r.state.user_name||void 0==r.state.user_name||""==r.state.mobile||void 0==r.state.mobile||""==r.state.email_id||void 0==r.state.email_id)?r.setState({borderNewBooking:!0}):(r.setState({borderNewBooking:!1}),r.add_booking(e))})),Object(i.a)(Object(o.a)(r),"add_booking",(function(e){var t=r.props,a=(t.addToast,t.settings);r.setState({loading:!0});for(var s={name:r.state.user_name,mobile_number:Number(r.state.mobile),email:r.state.email_id,purpose_of_visit:r.state.Purpose_visit},n=[],o=[],l=r.state.newArray,c=0;c<l.length;c++)"room"==l[c].type?n.push({room_type:l[c].billing_desc,room_count:l[c].quantity,room_price:Number(l[c].price)}):o.push({service_name:l[c].billing_desc,service_price:Number(l[c].price),service_count:l[c].quantity});if(""==r.state.discount_amount||void 0==r.state.discount_amount)var m=0;else m=Number(r.state.discount_amount);var _={total_Cost:r.state.sub_total,discount:m,sgst:r.state.newsgst,cgst:r.state.newcgst,amount_payable:r.state.grand_total};if(""==r.state.startDate||void 0==r.state.startDate||""==r.state.endDate||void 0==r.state.endDate);else{var d=new Date(r.state.startDate),u=d.getFullYear(),p=d.getMonth()+1,h=d.getDate();h<10&&(h="0"+h),p<10&&(p="0"+p);var g=u+"-"+p+"-"+h,v=new Date(r.state.endDate),b=v.getFullYear(),y=v.getMonth()+1,f=v.getDate();if(f<10)var E="0"+f;else E=f;f<10&&(f="0"+f),y<10&&(y="0"+y);var N=b+"-"+y+"-"+E}var k={property_uid:r.state.property_uid,room_info:n,check_in:g,check_out:N,number_of_rooms:Number(r.state.room_val),adults:Number(r.state.adult_val),children:Number(r.state.children_val),extra_services_info:o,customer_info:s,billing_info:_,isBlockRoom:e,coupon_code:r.state.coupan_code?r.state.coupan_code.label:""};console.log("Params and Booking Data:",k);fetch(a.api_url+"v1/booking/create",{method:"POST",body:JSON.stringify(k),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t;console.log("Add booking Response ***************",e);r.get_front_desk(r.state.start_date_new,r.state.last_day_new,r.state.property_uid),r.closeNav(),r.setState((t={user_name:"",mobile:"",email_id:"",Purpose_visit:"",adult_val:"",children_val:"",room_val:""},Object(i.a)(t,"adult_val",2),Object(i.a)(t,"room_val",1),Object(i.a)(t,"children_val",2),Object(i.a)(t,"checked",!1),Object(i.a)(t,"showTable",!1),Object(i.a)(t,"book_as_company",!1),Object(i.a)(t,"coupan_code",""),Object(i.a)(t,"maxReachedMessage",""),Object(i.a)(t,"loading",!1),t))}))})),Object(i.a)(Object(o.a)(r),"add_count",(function(e,t,a,s,n){var o=r.state.get_room_booking_array;o[t].quantity=a;var l=a*s,c=r.state.newArray;if(c.length>0)if(0==e.quantity)c=c.filter((function(t){return t.billing_desc!==e.roomType}));else{var i=c.find((function(t){return t.billing_desc===e.roomType}));if(void 0!=i&&0!=i&&null!=i&&""!=i){i.Price;for(var m=e.quantity,_=0;_<c.length;_++)c[_].billing_desc==e.roomType&&(c[_].quantity=m,c[_].price=l,c[_].type="room")}else c.push({billing_desc:e.roomType,quantity:e.quantity,price:e.price,type:"room"})}else c.push({billing_desc:e.roomType,quantity:e.quantity,price:e.price,type:"room"});var d=0;for(_=0;_<c.length;_++)d+=Number(c[_].price);var u=r.state.highestIgstIndex/100,p=r.state.highestCgstIndex/100,h=r.state.highestSgstIndex/100*d,g=p*d,v=u*d,b=d+h+g+v;r.setState({get_room_booking_array:o,calculatedPrice:l,newArray:c,sub_total:d,grand_total:b,newsgst:h,newcgst:g,newigst:v})})),Object(i.a)(Object(o.a)(r),"add_extra_count",(function(e,t,a,s){var n=r.state.get_all_extra_array;n[t].extraquantity=a;var o=a*s,l=r.state.newArray;if(l.length>0)if(0==e.extraquantity)l=l.filter((function(t){return t.billing_desc!==e.name}));else{var c=l.find((function(t){return t.billing_desc===e.name}));if(void 0!=c&&0!=c&&null!=c&&""!=c){c.Price;for(var i=e.extraquantity,m=0;m<l.length;m++)l[m].billing_desc==e.name&&(l[m].quantity=i,l[m].price=o,l[m].type="extra")}else l.push({billing_desc:e.name,quantity:e.extraquantity,price:e.cost,type:"extra"})}else l.push({billing_desc:e.name,quantity:e.extraquantity,price:e.cost,type:"extra"});var _=0;for(m=0;m<l.length;m++)_+=Number(l[m].price);var d=r.state.highestIgstIndex/100,u=r.state.highestCgstIndex/100,p=r.state.highestSgstIndex/100*_,h=u*_,g=d*_,v=_+p+h+g;r.setState({get_all_extra_array:n,calculatedPrice:o,newArray:l,sub_total:_,grand_total:v,newsgst:p,newcgst:h,newigst:g})})),Object(i.a)(Object(o.a)(r),"handleNextButtonClickold",(function(){r.setState({showTable:!0})})),Object(i.a)(Object(o.a)(r),"swich_function_for_type_update",(function(){0==r.state.max_capacity?r.setState({max_capacitymessage_alert:"No rooms available"}):r.get_room_for_booking(r.state.property_uidnew)})),Object(i.a)(Object(o.a)(r),"updateCheckedStatus",(function(e,t,a,s){t.extraquantity>0?t.checked=!0:t.checked=!1})),Object(i.a)(Object(o.a)(r),"add_extra_service",(function(e,t,a,s){if(1==e){var n=r.state.get_all_extra_array_new;(o=r.state.get_all_extra_array)[a].checked=e,n.push(t),r.setState({get_all_extra_array_new:n,get_all_extra_array:o})}else{var o;r.state.newArray;(o=r.state.get_all_extra_array)[a].checked=!1,o[a].extraquantity=0,r.setState({get_all_extra_array:o}),r.delete_in_door_selectold(t)}setTimeout((function(){}),1e3)})),Object(i.a)(Object(o.a)(r),"handleCollapseClick",(function(e,t,a){var s=r.state.get_all_extra_array;s[t].check_box=e,r.setState({get_all_extra_array:s})})),Object(i.a)(Object(o.a)(r),"delete_in_door_selectold",(function(e){var t=r.state.newArray;t=t.filter((function(t){return t.billing_desc!==e.name}));for(var a=e._id,s=r.state.get_all_extra_array_new,n=0;n<s.length;n++)s[n]._id==a&&s.splice(n,1);r.setState({get_all_extra_array_new:s,newArray:t})})),Object(i.a)(Object(o.a)(r),"varifyCoupanCode",(function(e){var t={coupon_code:e.label};console.log("Params",t);var a=r.props.settings;fetch(a.api_url+"v1/master/coupon/verify-coupon",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log("VerifyCode Responsse ***************",t);var a=t;1==a.status?(r.update_coupon(e),r.setState({copuanError:""})):(console.log("data.message",a.message),r.setState({copuanError:a.message}))}))})),Object(i.a)(Object(o.a)(r),"update_coupon",(function(e){console.log("val&&&&&&&&&&&",e);r.state.grand_total;var t=r.state.grand_total;if(null==e.discount_percent){var a=t-(s=e.discount_flat);r.setState({grand_total:a,discount_amount:s,discount_type:"Discount Rs"})}else{var s,n=e.discount_percent,o=(s=r.state.grand_total)*n/100;a=s-o;r.setState({grand_total:a,discount_amount:o,discount_type:"Discount ".concat(n,"%")})}})),Object(i.a)(Object(o.a)(r),"handleExtraServiceChange",(function(e,t,a){for(var s=r.state.room_info,n=r.state.extra_service_array,o=0;o<n.length;o++)s[t].extra_services[a].service_count=e,s[t].extra_services[a].service_count_new=n[o].service_count;r.setState({room_info:s})})),Object(i.a)(Object(o.a)(r),"add_extra_service_reservations",(function(e,t,a){var s=r.state.room_info,n=r.state.new_extra_services,o=n.findIndex((function(e){return e.service_name===a.service_name&&e.service_price===a.service_price}));if(-1!==o)n[o].service_count=e,s[t].extra_services=n,s[t].service_count=e,r.setState({room_info:s,new_extra_services:n});else{var l={service_count:e,service_name:a.service_name,service_price:a.service_price};n.push(l),s[t].extra_services=n,s[t].service_count=e,r.setState({room_info:s,new_extra_services:n})}})),Object(i.a)(Object(o.a)(r),"add_extra_count_reservation",(function(e,t,a,s){var n=r.state.get_all_extra_array_reservation;n[t].new_extraquantity=a;var o=a*s,l=r.state.newArray_extra;if(l.length>0)if(0==e.new_extraquantity)l=l.filter((function(t){return t.service_name!==e.name}));else{var c=l.find((function(t){return t.service_name===e.name}));if(void 0!=c&&0!=c&&null!=c&&""!=c){c.Price;for(var i=e.new_extraquantity,m=0;m<l.length;m++)l[m].service_name==e.name&&(l[m].quantity=i,l[m].price=o,l[m].type="extra")}else l.push({service_name:e.name,service_count:e.new_extraquantity,service_price:e.cost})}else l.push({service_name:e.name,service_count:e.new_extraquantity,service_price:e.cost});for(m=0;m<l.length;m++)Number(l[m].price);r.setState({get_all_extra_array_reservation:n,newArray_extra:l})})),Object(i.a)(Object(o.a)(r),"add_extra_service_accordion",(function(e,t,a,s){if(1==e){var n=r.state.get_all_extra_array_reservation_new;(o=r.state.get_all_extra_array_reservation)[a].checked=e,n.push(t),r.setState({get_all_extra_array_reservation_new:n,get_all_extra_array_reservation:o})}else{var o;r.state.newArray_extra;(o=r.state.get_all_extra_array_reservation)[a].checked=!1,o[a].new_extraquantity=0,r.setState({get_all_extra_array_reservation:o}),r.delete_in_door_select(t)}})),Object(i.a)(Object(o.a)(r),"delete_in_door_select",(function(e){var t=r.state.newArray_extra;t=t.filter((function(t){return t.service_name!==e.name}));for(var a=e._id,s=r.state.get_all_extra_array_reservation_new,n=0;n<s.length;n++)s[n]._id==a&&s.splice(n,1);r.setState({get_all_extra_array_reservation_new:s,newArray_extra:t})})),Object(i.a)(Object(o.a)(r),"get_reservation",(function(e){if(""==e||void 0==e){r.setState({current_page:1});var t=1}else{r.setState({current_page:e});t=e}var a=r.props.settings;fetch(a.api_url+"v1/booking/get?page="+t+"&pageSize=20",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){r.setState({isLoading:"none"});var t=e;if(1==t.status){for(var a=t.data,s=0;s<a.length;s++)for(var n=a[s].room_info,o=0;o<n.length;o++){var l={value:n[o].room_number,label:n[o].room_number};n[o].room_number_new=l}if(a.length>0)var c="none";else c="block";r.setState({reservation_array:a,no_data:c,total_pages:t.totalPages,total:t.totalItems})}else r.setState({reservation_array:[],no_data:"block"})}))})),r.state=(s={weekDates:[],activeAccordion:1,front_desk_array:[],noDataFoundSingle:"none",isLoading:"block",all_property_array:[],property_deatils:"",reservation_array:[],room_info:[],get_room_array:[],adult_val:2,children_val:0,room_val:1,val1:3,val2:5,val3:8,val4:4,size:12,id:0,get_room_booking_array:[],max_capacitymessage_alert:"",get_all_extra_array:[],get_all_extra_array_new:[],extraquantity:0,new_sub_total:"",user_name:"",mobile:"",email_id:"",Purpose_visit:"",selectpropertytype:"",property_type_array:[],coupons_array:[],isBookAsCompany:!1,extra_services_cheked:!1,book_as_company:!1,showMessage:!1,get_all_booking_array:[],property_id:"",calculatedPrice:0,get_all_maxcapacity:[],max_capacity:"",newArray:[],sub_total:"",grand_total:"",discount_amount:"",discount_type:"Discount",showTable:!1,touchSpinDisabled:!1,new_grand_total:"",result:"",the_sgst:0,the_cgst:0,the_igst:0,highestSgstIndex:"",highestCgstIndex:"",highestIgstIndex:"",selctproperty:"",startDate:new Date,endDate:new Date,newhighestSgstIndex:"",room_number_change:"",update_error:"",borderNew:!1,loading:!1,maxCgst:"",showBlockOfCode:!1,newAdultValue:"",no_room_aviable_message:"",checked:!1,extra_service_array:[],extra_service_val:0,get_all_extra_array_reservation:[],activeAccordion2:0},Object(i.a)(s,"extra_services_cheked",!1),Object(i.a)(s,"new_extraquantity",0),Object(i.a)(s,"newArray_extra",[]),Object(i.a)(s,"new_extra_services",[]),Object(i.a)(s,"get_all_extra_array_reservation_new",[]),Object(i.a)(s,"front_desk_control",x.a.get("front_desk_control")),Object(i.a)(s,"new_room_id",""),Object(i.a)(s,"chechInStatus",""),Object(i.a)(s,"property_obj",[]),Object(i.a)(s,"copuanError",""),s),r.get_all_properties(),r.get_all_booking(),r.get_all_coupan(),r.get_all_extra_services_reservation(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={value:A.property_obj[0].value,label:A.property_obj[0].label,property_uid:A.property_obj[0].property_uid};T.a.on("update_property_emp_response",(function(t){e.get_front_desk(e.state.start_date_new,e.state.last_day_new,t.data.property_uid)})),this.setState({selctproperty:t,is_admin_view:R,property_obj:A.property_obj,property_uidnew:A.property_obj[0].property_uid,property_uid:A.property_obj[0].property_uid}),this.get_room_maxcapacity(A.property_obj[0].property_uid);var a=document.getElementById("calendarnew");new window.FullCalendar.Calendar(a,{headerToolbar:{left:"today prev,next",center:"title",right:""},initialView:"resourceTimelineWeek",allDaySlot:!1,slotDuration:{day:1},resources:[{id:"1",title:"Room 101"},{id:"2",title:"Room 102"}],dateClick:this.handleDateClick,datesSet:this.handleDatesSet}).render()}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("calendarnew");e&&e.fullCalendar&&e.fullCalendar.destroy()}},{key:"calculateColSpan",value:function(e,t){var a=24*this.state.weekDates.indexOf(this.state.checkInDay)+this.state.checkInHour,s=24*this.state.weekDates.indexOf(e)+t-a+1;return s>0?s:1}},{key:"render",value:function(){var e=this,t=this.state.get_room_array.map((function(e){return{value:e.room_number,label:e.room_number,room_name:e.room_name,room_type:e.room_type,room_uid:e.room_uid}})),a=this.state,n=a.activeAccordion,r=a.activeAccordion2,o=this.state,l=(o.weekDates,o.checkInDay,o.checkInHour,o.checkOutDay,o.checkOutHour,[]);if(""==this.state.front_desk_array||0==this.state.front_desk_array.length);else{if(void 0==this.state.new_index)var c=0;else c=this.state.new_index;for(var i=this.state.front_desk_array[c].room_no_array,d=0;d<i.length;d++){var N=i[d].room_details,w=i[d].room_no,x=[];if(N.length>0)for(var j=function(t){I=N[t].colSpan,A=10*I+"px";var a;a=_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"show_new_td_data","aria-hidden":"true",onClick:function(){e.openSideBar(N[t].id)},style:{width:A,backgroundColor:"blocked"===N[t].status?"#D0D3D9":"booked"===N[t].status||"pending"===N[t].status||"check_in"===N[t].status?"#B6E9D1":"check_out"===N[t].status?"#ffeacf":"confimed"===N[t].status?"#c3dcff":"cancel"===N[t].status?"#ffbcb8":"",color:"blocked"===N[t].status?"#989FAD":"booked"===N[t].status||"pending"===N[t].status||"check_in"===N[t].status?"#12B76A":"check_out"===N[t].status?"#e88e17":"confimed"===N[t].status?"#257ffd":"cancel"===N[t].status?"#ff2c1e":""}},N[t].customer_name)),x.push(a)},T=0;T<N.length;T++){var I;j(T)}else{var B,A="240px";B=_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"show_new_td_data",style:{width:A}})),x.push(B)}var R=_.a.createElement("div",{className:"holeData"},_.a.createElement("div",{className:"roomData"},w)," ",_.a.createElement("div",{className:"dddddddddddddddddddddd"},x));l.push(R)}}this.state.all_property_array.map((function(e){return{value:e._id,label:e.property_name,property_uid:e.property_uid,check_in_time:e.check_in_time,check_out_time:e.check_out_time}}));var q=this.state.property_type_array.map((function(e){return{value:e.property_name,label:e.property_name,property_uid:e.property_uid}})),P=this.state.property_obj.map((function(e){return{value:e.value,label:e.label,property_uid:e.property_uid}})),U=this.state.coupons_array.map((function(e){return{value:e.name,label:e.name,discount_flat:e.discount_flat,discount_percent:e.discount_percent}})),Y={control:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{borderColor:t.isFocused?"rgba(114, 94, 195, 0.6)":"#eaecf0","&:hover":{borderColor:t.isFocused?"rgba(114, 94, 195, 0.6)":"#eaecf0"},boxShadow:t.isFocused?"0 0 0 0.2rem rgba(114, 94, 195, 0.2)":""})},option:function(e,t){var a="";return t.isSelected?a="#007bff":t.isFocused&&(a="rgba(114, 94, 195, 0.2)"),Object(s.a)(Object(s.a)({},e),{},{backgroundColor:a})},multiValueLabel:function(e){return Object(s.a)(Object(s.a)({},e),{},{color:"#545b61",backgroundColor:"#eeeeef"})}},G=(this.state.get_room_array.map((function(e){return{value:e.room_number,label:e.room_number}})),this.state),J=G.emailError,L=G.mobile_number_error;return _.a.createElement(m.Fragment,null,_.a.createElement(u.a,{className:"PageTitlee bordeBottomLine"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 col-md-6"},_.a.createElement("h1",null,"Front Desk")),_.a.createElement("div",{className:"col-lg-6 col-md-6  propert_btn"},_.a.createElement(g.a,{disabled:"false"==this.state.front_desk_control,color:"primary",onClick:this.openNavExcel},"Add Booking")))),_.a.createElement("div",{className:"frontdeskContainer mt-16"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-4",style:{marginTop:"-20px"}},_.a.createElement("div",{id:"calendarnew"})),_.a.createElement("div",{className:"col-lg-8",style:{alignSelf:"center"}},_.a.createElement("div",{className:"showwwDataNew",style:{display:"inline-flex"}},_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCheckIn"}),_.a.createElement("div",{className:"headingSub"},"Check-In")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCheckOUT"}),_.a.createElement("div",{className:"headingSub"},"Check-Out")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxConfirmed"}),_.a.createElement("div",{className:"headingSub"},"Confimed")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCancel"}),_.a.createElement("div",{className:"headingSub"},"Cancel")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxBooked"}),_.a.createElement("div",{className:"headingSub"},"Booked")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxBlocked"}),_.a.createElement("div",{className:"headingSub"},"Blocked"))))),_.a.createElement(v.a,{color:"primary",className:"spinnerCss",style:{marginTop:M-100,display:this.state.isLoading}}),_.a.createElement("div",{className:"salary_show test_collapse mycalendar",style:{display:"none"==this.state.isLoading?"block":"none",height:F-121}},_.a.createElement("div",{className:"twocontainer mt-20"},_.a.createElement("div",{className:"room_typeContainer"},_.a.createElement("div",{className:"roomsssss"},"rooms")),_.a.createElement("div",{className:"weekContainer"},_.a.createElement("div",{className:"showInlinenew"},this.state.weekDates.map((function(e,t){return _.a.createElement("div",{key:t,className:"divNewwww",style:{width:"240px"}},_.a.createElement("div",{className:"date_calendar"},e.show_date),_.a.createElement("div",{className:"day_calendar"},e.show_day))}))))),_.a.createElement("div",{className:"colspan_start"},this.state.front_desk_array.map((function(t,a){return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"borderData"},_.a.createElement("div",{className:"accordion-group"},_.a.createElement("a",{href:"#",className:"collapse-link my_accordian",onClick:function(t){t.preventDefault(),e.setState({activeAccordion:n===a+1?0:a+1,new_index:a})}},_.a.createElement("div",{className:"headingEdit"},_.a.createElement("div",{className:"icon_data_new"},_.a.createElement(S.a,{name:"chevron-down",style:{display:n===a+1?"block":"none"}}),_.a.createElement(S.a,{name:"chevron-right",style:{display:n===a+1?"none":"block"}})),t.room_type))),_.a.createElement("div",null,n===a+1?_.a.createElement("div",{className:"test_collapse"},_.a.createElement(p.a,{className:"test_collapse paddingLeft",isOpen:a+1===n},l)):"")))}))))),_.a.createElement("div",{className:"task_list2Excel",id:"mySidenavFront"},_.a.createElement("div",{className:"mycalendar",style:{height:F}},_.a.createElement("div",{className:"padding_bothSide",style:{padding:"0px 16px"}},_.a.createElement("div",{className:"please",style:{padding:"6px 14px"}},_.a.createElement("h1",{className:"roomheadingNew fontWeight600"},"Booking ID : ",_.a.createElement("span",null,"1234")),_.a.createElement(S.a,{name:"x",style:{width:"18px",height:"18px",strokeWidth:"3.5"},className:"closebtn",onClick:this.closeSideBar})),_.a.createElement("div",{className:"show_dataNew mycalendar mt-20",style:{height:F-131}},_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Guest Name"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.guest_name))),_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Email Id"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.email)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Country"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.country))),_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Mobile Number"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.mobile_number)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-12 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Purpose Of Visit"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.purpose_of_visit)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Stay Dates"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.check_in?this.state.check_in.split("-").reverse().join("-"):""," "," to "," ",this.state.check_out?this.state.check_out.split("-").reverse().join("-"):""))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Adults"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.adults))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Childrens"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.children)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement(y.a,{borderless:!0},_.a.createElement("thead",null,_.a.createElement("tr",null,_.a.createElement("th",{scope:"col",style:{whiteSpace:"nowrap"}},"Room Type"),_.a.createElement("th",{scope:"col"},"Room Number"),_.a.createElement("th",{scope:"col"},"Extra Services"))),_.a.createElement("tbody",null,this.state.room_info.map((function(a,s){return _.a.createElement("tr",{key:s},_.a.createElement("td",null,a.room_type),_.a.createElement("td",null,_.a.createElement(O.a,{value:a.room_number_new,options:t,styles:Y,className:e.state.borderRed&&""==e.state.room_no?"is_not_valid newDataInlineNew widthStatat":"contact_sort newDataInlineNew widthStatat",placeholder:"Select Room No",onChange:function(t){e.setState({room_number_change:"changed"}),e.room_change(t,s,a)},onFocus:function(t){e.room_focus(s,a)},style:{whiteSpace:"nowrap"}})),_.a.createElement("td",null,a.extra_services.map((function(e,t){return _.a.createElement("div",{className:"now-rappp",key:t},_.a.createElement("span",{className:"price_P"},e.service_name),_.a.createElement("span",{className:"price_P"},null!==e.service_price&&"-\u20b9",e.service_price))}))),_.a.createElement("td",{className:"touch-spin"},a.extra_services.map((function(t,a){return _.a.createElement(D.a,{key:a,value:isNaN(t.service_count)?0:t.service_count,min:0,max:t.service_count_new,step:1,className:"touchspinnew",onChange:function(t){e.handleExtraServiceChange(t,s,a)}})}))))}))))),_.a.createElement("div",{className:"accordion-group new_accordiom"},_.a.createElement("a",{href:"#",className:"collapse-link",onClick:function(t){t.preventDefault(),e.setState({activeAccordion2:1===r?0:1})}},"Add extra services"),_.a.createElement(p.a,{isOpen:1===r},_.a.createElement("div",{className:"collapse-content"},_.a.createElement("div",{className:"row test_collapse"},this.state.get_all_extra_array_reservation.map((function(t,a){return _.a.createElement("div",{className:"col-lg-3 col-md-2 test_collapse",style:{marginBottom:"30px"},key:a},_.a.createElement("div",{"aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){e.add_extra_service_accordion(!t.checked,t,a)}},_.a.createElement("div",{className:"containerIconRoomm icon_room-padding test_collapse  ",style:{border:t.checked?"1px solid #007BFF":"1px solid"}},_.a.createElement(f.a,{className:"the-checkbox",checked:t.checked,type:"checkbox",id:"formCheckbox1"+a,onChange:function(s){e.setState({extra_services_cheked:s.target.checked},(function(){})),e.add_extra_service_accordion(!t.checked,t,a)}}),_.a.createElement("div",{className:"img_iconn img-widthh"},_.a.createElement("img",{className:"img-height img-heighttt",src:t.logo,alt:"img"})),_.a.createElement("div",{className:"name_aminitiess"},t.name),""==t.cost||void 0==t.cost?"":_.a.createElement("div",{className:"costTypeShow_extra the-new-extra"},"\u20b9",t.cost)),"  "),_.a.createElement("div",{"aria-hidden":"true",onClick:function(){e.updateCheckedStatus(!t.checked,t,a)}},_.a.createElement("div",{className:"touch-spin plus-minu "},_.a.createElement(D.a,{value:t.new_extraquantity,min:0,max:100,step:1,onChange:function(s){e.add_extra_count_reservation(t,a,s,t.cost,t.new_extraquantity)},className:"first-touchspin ony-for-this for extraservice"}))))})))))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Amount/Paid"),_.a.createElement("div",{className:"deatilsDataReservation"},"Rs- "+this.state.amount+"/"+this.state.paid))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Balance"),_.a.createElement("div",{className:"deatilsDataReservation"},"Rs- "+this.state.balance))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Status"),_.a.createElement(O.a,{value:this.state.status,options:"check_in"==this.state.chechInStatus?[{value:"3",label:"Check-Out",type:"check_out"}]:[{value:"1",label:"Confimed",type:"confimed"},{value:"2",label:"Check-In",type:"check_in"},{value:"3",label:"Check-Out",type:"check_out"},{value:"4",label:"Blocked",type:"blocked"},{value:"5",label:"Cancel",type:"cancel"}],styles:Y,className:this.state.borderRed&&""==this.state.status?"is_not_valid newDataInlineNew":"contact_sort newDataInlineNew",placeholder:"Select Status",onChange:function(t){e.setState({status:t,error_message_for_property:""})}}))),_.a.createElement("div",{className:"col-lg-12 col-md-12",style:{display:""==this.state.update_error?"none":"block"}},_.a.createElement("p",{className:"falseStatus"},this.state.update_error)))),_.a.createElement("div",{className:"",style:{marginTop:"-30px"}},_.a.createElement(h.a,{style:{justifyContent:"center"}},_.a.createElement(g.a,{color:"secondary",onClick:this.closeSideBar},"Close")," ",_.a.createElement(g.a,{color:"primary",disabled:this.state.loading,style:{color:"#fff"},onClick:function(){return e.updateBooking(e.state.property_uid,e.state.reservation_id,e.state.booking_id)}},"Proceed",this.state.loading?_.a.createElement(v.a,null):"")))))),_.a.createElement("div",null,_.a.createElement("div",{className:"task_list2Excel mycalendar",style:{height:F},id:"mySidenavExcel"},_.a.createElement("div",{className:"modal-padding",style:{height:F}},_.a.createElement("div",{className:"please please-topp"},_.a.createElement("h3",{className:"roomheadingNew"},"Add Booking"),_.a.createElement(S.a,{name:"x",style:{width:"18px",height:"18px",strokeWidth:"3.5"},className:"closebtn",onClick:this.closeNav})),_.a.createElement("div",{className:"row row-margin"},_.a.createElement("div",{className:"col-lg-6 col-md-6"},_.a.createElement(b.a,{className:"label-marging"},"Select Property"),_.a.createElement(O.a,{value:this.state.selctproperty,options:"false"==this.state.is_admin_view?P:q,styles:Y,className:"contact_sort the-cont",placeholder:"Select Property type",onChange:function(t){e.setState({selctproperty:t,property_uid:t.property_uid,property_uidnew:t.property_uid,max_capacitymessage_alert:"",showTable:!1,max_capacity:""}),e.get_room_maxcapacity(t.property_uid),t&&e.setState({room_val:1,newAdultValue:0})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 col-sd-6"},_.a.createElement(b.a,{className:"label-marging"},"Dates of Stay"),_.a.createElement(C.RangeDatePicker,{name:"daterange",startDate:this.state.startDate,endDate:this.state.endDate,onChange:function(t,a){e.setState({startDate:t,endDate:a,daterang:[new Date(t).toISOString(),new Date(a).toISOString()]})},minDate:new Date,maxDate:new Date(2100,0,1),dateFormat:"DD-MM-YYYY  ",monthFormat:"MM YYYY",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",disabled:!1,className:"my-own-class-name nightclass a1 laptop-view",startWeekDay:"monday"}))),_.a.createElement("div",{className:"row rowfullmar"},_.a.createElement("div",{className:"col-lg-6"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 touch-spin "},_.a.createElement(b.a,{className:"label-marging"},"Room"),_.a.createElement("div",null,_.a.createElement(D.a,{value:this.state.room_val,min:0,max:100,step:1,className:"first-touchspin",onChange:function(t){e.state.selctproperty&&0!==e.state.max_capacity&&e.setState({room_val:t,maxReachedMessage:""})}}))),_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement(b.a,{className:"label-marging"},"Adult"),_.a.createElement(D.a,{className:"first-touchspin",value:this.state.adult_val,min:0,max:100,step:1,disabled:!this.state.selctproperty,onChange:function(t){var a=e.state.room_val*e.state.max_capacity,s=Math.min(t,a);e.setState({adult_val:s,maxReachedMessage:s===a})}})),_.a.createElement("div",{className:"max_capacitymessage_alert__ test_collapse"},this.state.max_capacitymessage_alert?_.a.createElement("span",{className:"allow-limit-msg test_collapse"},this.state.max_capacitymessage_alert):_.a.createElement("div",{className:"max_capacitymessage_alert__ test_collapse"},this.state.maxReachedMessage&&_.a.createElement("div",{className:"allow-limit-msg test_collapse",style:{color:"red"}},"Maximum allowed value reached. If you want to increase adults, then you have to increase room numbers."))))),_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement("div",{className:"room-nest"},_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement(b.a,{className:"label-marging"},"Childeren"),_.a.createElement(D.a,{value:this.state.children_val,min:0,max:100,step:1,disabled:!this.state.selctproperty,className:"touchspinnew",onChange:function(t){e.setState({children_val:t})}})),_.a.createElement(g.a,{className:"the-new-btn",style:{marginTop:"10px"},onClick:function(){e.swich_function_for_type_update(e.state.property_uidnew),e.handleNextButtonClickold(),e.get_all_extra_services()},disabled:!this.state.selctproperty||0==this.state.max_capacity,color:"primary"},"Next")))),""==this.state.no_room_aviable_message?"":_.a.createElement("h3",{className:"no_room_data"},this.state.no_room_aviable_message),_.a.createElement("div",{style:{display:""==this.state.no_room_aviable_message?"block":"none"}},this.state.showTable&&!this.state.max_capacitymessage_alert&&_.a.createElement(y.a,{className:"table-tdd test_collapse"},_.a.createElement("thead",{className:"test_collapse"},_.a.createElement("tr",{className:"tabletttt"},_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Room type"),_.a.createElement("th",{scope:"col",className:"borderTopNone"}," Available Room"),_.a.createElement("th",{scope:"col",className:"borderTopNone"}," Max Occupancy"),_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Price"),_.a.createElement("th",{style:{textAlign:"end",marginRight:"18px"},scope:"col",className:"borderTopNone"}))),_.a.createElement("tbody",{className:"test_collapse"},this.state.get_room_booking_array.map((function(t,a){return _.a.createElement("tr",{key:a,className:"data-caps test_collapse "},_.a.createElement("th",{scope:"row",style:{textTransform:"capitalize"}},t.roomType),_.a.createElement("td",{className:"data-caps"},t.availableRooms),_.a.createElement("td",{className:"data-caps"},t.max_guest_occupancy),_.a.createElement("td",{className:"data-caps"},"\u20b9",t.price),_.a.createElement("td",{className:"new_touchhhh"},_.a.createElement("div",{className:"touch-spin plus-minu"},_.a.createElement(D.a,{value:t.quantity,min:0,max:t.availableRooms,step:1,onChange:function(s){e.add_count(t,a,s,t.price,t.availableRooms)},className:""}))))}))))),!this.state.max_capacitymessage_alert&&this.state.showTable&&_.a.createElement("div",{className:"row test_collapse"},this.state.get_all_extra_array.map((function(t,a){return _.a.createElement("div",{className:"col-lg-3 col-md-2 test_collapse",style:{marginBottom:"30px"},key:a},_.a.createElement("div",{"aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){e.add_extra_service(!t.checked,t,a)}},_.a.createElement("div",{className:"containerIconRoomm icon_room-padding test_collapse  ",style:{border:t.checked?"1px solid #007BFF":"1px solid"}},_.a.createElement(f.a,{className:"the-checkbox",checked:t.checked,type:"checkbox",id:"formCheckbox1"+a,onChange:function(s){e.setState({extra_services_cheked:s.target.checked},(function(){})),e.add_extra_service(!t.checked,t,a)}}),_.a.createElement("div",{className:"img_iconn img-widthh"},_.a.createElement("img",{className:"img-height img-heighttt",src:t.logo,alt:"img"})),_.a.createElement("div",{className:"name_aminitiess"},t.name),""==t.cost||void 0==t.cost?"":_.a.createElement("div",{className:"costTypeShow_extra the-new-extra"},"\u20b9",t.cost)),"  "),_.a.createElement("div",{"aria-hidden":"true",onClick:function(){e.updateCheckedStatus(!t.checked,t,a)}},_.a.createElement("div",{className:"touch-spin plus-minu "},_.a.createElement(D.a,{value:t.extraquantity,min:0,max:100,step:1,onChange:function(s){e.add_extra_count(t,a,s,t.cost,t.extraquantity)},className:"first-touchspin ony-for-this for extraservice "}))))}))),_.a.createElement("div",{className:"cus-imf"},_.a.createElement("h6",null,"Customer Information"),_.a.createElement("hr",{className:"hr"}),_.a.createElement(f.a,{type:"checkbox",label:"Book as Company",checked:this.state.book_as_company,id:"formCheckboxAminities",onChange:function(t){e.setState({book_as_company:t.target.checked})}})),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Name",1==this.state.book_as_company?_.a.createElement("span",{className:"StartMark"},"*"):""),_.a.createElement(E.a,{type:"text",value:this.state.user_name,disabled:0==this.state.book_as_company,className:"form-control",placeholder:"Name",onChange:function(t){e.setState({user_name:t.target.value})},invalid:!(!this.state.borderNewBooking||""!=this.state.user_name)})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Mobile No",1==this.state.book_as_company?_.a.createElement("span",{className:"StartMark"},"*"):""),_.a.createElement(E.a,{type:"text",value:this.state.mobile,className:k()(" form-control ",{"is-invalid":L}),disabled:0==this.state.book_as_company,placeholder:"Mobile No",onChange:function(t){e.setState({mobile:t.target.value},L?e.checkNumber:function(){})},onBlur:this.checkNumber,invalid:!(!this.state.borderNewBooking||""!=this.state.mobile)}),L?_.a.createElement("div",{id:"mobile_number_error",className:"invalid-feedback"},L):""),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Emial ID",1==this.state.book_as_company?_.a.createElement("span",{className:"StartMark"},"*"):""),_.a.createElement(E.a,{type:"text",value:this.state.email_id,disabled:0==this.state.book_as_company,className:k()("form-control",{"is-invalid":J}),placeholder:"Email ID",onChange:function(t){e.setState({email_id:t.target.value},J?e.checkEmail:function(){})},onBlur:this.checkEmail,invalid:!(!this.state.borderNewBooking||""!=this.state.email_id)}),J?_.a.createElement("div",{className:"invalid-feedback"},J):""),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"}," Purpose of visit"),_.a.createElement(E.a,{type:"text",value:this.state.Purpose_visit,disabled:0==this.state.book_as_company,className:"form-control",placeholder:"Purpose of visit",onChange:function(t){e.setState({Purpose_visit:t.target.value})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15",style:{pointerEvents:""==this.state.newArray?"none":"all"}},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Coupon code"),_.a.createElement(O.a,{value:this.state.coupan_code,options:U,styles:Y,placeholder:"Select Coupon",className:""==this.state.copuanError?"contact_sort the-cont":"is_not_valid ",onChange:function(t){e.setState({coupan_code:t}),e.varifyCoupanCode(t)}}),this.state.copuanError?_.a.createElement("div",{className:"copuanErrorMesage"},this.state.copuanError):"")),this.state.newArray&&this.state.newArray.length>0&&!this.state.max_capacitymessage_alert&&_.a.createElement(y.a,{className:"test_collapse"},_.a.createElement("thead",{className:"test_collapse"},_.a.createElement("tr",{className:"test_collapse"},_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Billing Description"),_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Quantity"),_.a.createElement("th",{scope:"col",className:"borderTopNone alignrightcorner"},"Amount"))),_.a.createElement("tbody",{className:"test_collapse"},this.state.newArray.map((function(e,t){return _.a.createElement("tr",{key:t,className:"data-caps test_collapse"},_.a.createElement("th",{scope:"row"},e.billing_desc),_.a.createElement("td",{className:"data-caps"},e.quantity),_.a.createElement("td",{className:"data-caps alignrightcorner"}," \u20b9",e.price))})))),this.state.newArray&&this.state.newArray.length>0&&!this.state.max_capacitymessage_alert&&_.a.createElement("div",{className:"grand-total test_collapse"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-text"}," Sub Total ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,null!==this.state.sub_total&&"\u20b9"," ",this.state.sub_total))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," SGST  ",this.state.highestSgstIndex," ",null!==this.state.highestSgstIndex&&"%")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(S.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newcgst&&"\u20b9","  ",this.state.newsgst," "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," CGST ",this.state.highestCgstIndex,"  ",null!==this.state.highestCgstIndex&&"%"," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(S.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newcgst&&"\u20b9"," ",this.state.newcgst," "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," IGST ",this.state.highestIgstIndex," ",null!==this.state.highestCgstIndex&&"%"," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(S.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newigst&&"\u20b9"," ",this.state.newigst,"  "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," ",this.state.discount_type," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(S.a,{style:{marginRight:"12px"},name:"minus"})," ",this.state.discount_amount," "))),_.a.createElement("hr",null),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-text"}," Grand Total ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null," ",null!==this.state.grand_total&&"\u20b9","  ",this.state.grand_total))))),_.a.createElement("div",{className:"last-button"},_.a.createElement("div",{className:"button-book"},_.a.createElement(g.a,{disabled:this.state.loading,className:"the-new-btnn mar-rig test_collapse",onClick:function(){e.bookingValidation(!0)},style:{display:!1===this.state.book_as_company?"none":"inline-flex"}},"Block Now"),_.a.createElement(g.a,{color:"primary",disabled:this.state.loading,className:"the-new-btnn mar-buttonnn",onClick:function(){e.bookingValidation(!1)}},"Book Now",this.state.loading?_.a.createElement(v.a,null):""))))))}}]),a}(m.Component);t.default=Object(d.b)((function(e){return{settings:e.settings}}),{addToast:j.f})(q)},591:function(e,t,a){}}]);
//# sourceMappingURL=105.4870afd5.chunk.js.map