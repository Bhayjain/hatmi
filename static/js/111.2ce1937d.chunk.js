(this.webpackJsonprootui=this.webpackJsonprootui||[]).push([[111],{1101:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a(3),i=a(15),l=a(4),n=a(5),o=(a(123),a(0)),c=a.n(o),m=a(18),d=a.n(m),u=a(26),h=a(14),g=a(259),p=(a(13),a(74)),v=a(23),E=(window.innerWidth,window.innerHeight),f=E/2;console.log(f);var b=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={email:"",emailError:"",passwordError:"",loading:!1},r.checkEmail=r.checkEmail.bind(Object(i.a)(r)),r.checkPassword=r.checkPassword.bind(Object(i.a)(r)),r.reset_password=r.reset_password.bind(Object(i.a)(r)),r}return Object(r.a)(a,[{key:"checkEmail",value:function(){var e=this.state.email,t=e&&Object(p.b)(e);return this.setState({emailError:t?"":"Invalid email format"}),t}},{key:"checkPassword",value:function(){var e=this.state.password,t=e&&e.length>=6;return this.setState({passwordError:t?"":"Password must be at least 6 characters long"}),t}},{key:"reset_password",value:function(){var e=this,t=this.props,a=t.updateAuth,s=t.settings,r={email:this.state.email};console.log("Params for reset password",r);fetch(s.api_url+"v1/auth/reset-password",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log("reset Response **************************************",t);var s=t;s.status?(console.log("data.token",s.data.token),e.setState({loading:!0,invalidCredital:""},(function(){setTimeout((function(){a({token2:s.data.token,invalidCredital:""})}),600),location.hash="/otp"}))):(e.setState({invalidCredital:"User not found."}),console.log("User not found:",s.error))})).catch((function(t){console.error("Error during reset password:",t),e.setState({invalidCredital:"An error occurred while resetting the password. Please try again later."})}));if(!this.state.loading){var i=!0;i=this.checkEmail()&&i}}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,s=t.emailError,r=(t.password,t.passwordError,this.props.settings);return c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"bg-image test_collapse"},c.a.createElement("img",{src:r.homeScreen[0].img,alt:"",className:"my_image"})),c.a.createElement("div",{className:"row width100 test_collapse"},c.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 myLogoDiv"},c.a.createElement("div",{className:"form rui-sign-form ",style:{margin:"auto"}},c.a.createElement("div",{className:"row vertical-gap sm-gap justify-content-center"},c.a.createElement("div",null,c.a.createElement("img",{src:r.homeScreen[1].img,alt:"",className:"my_image"}),c.a.createElement("p",{className:"subText text-center"},"Gateway of Serenity"))))),c.a.createElement("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 myLogoDiv test_collapse"},c.a.createElement("div",{className:"form rui-sign-form rui-sign-form-cloud loginCard",style:{margin:"auto"}},c.a.createElement("div",{className:"row vertical-gap sm-gap justify-content-center"},c.a.createElement("div",{className:"col-12 test_collapse"},c.a.createElement("h1",{className:"display-4 mb-10 headingLogo"},"Welcome to Hatimi properties"),c.a.createElement("p",{className:"display-6 mb-10 paraLogo"},"Forgot your Password")),c.a.createElement("div",{className:"col-12"},c.a.createElement("input",{type:"email",className:d()("form-control",{"is-invalid":s}),"aria-describedby":"emailHelp",placeholder:"Enter your email id/ mobile number",value:a,onChange:function(t){e.setState({email:t.target.value},s?e.checkEmail:function(){})},onBlur:this.checkEmail,disabled:this.state.loading}),s?c.a.createElement("div",{className:"invalid-feedback"},s):"",this.state.invalidCredital&&c.a.createElement("div",{style:{color:"red",marginTop:"10px",textAlign:"center",fontWeight:500}},this.state.invalidCredital)),c.a.createElement("div",{className:"col-12 test_collapse"},c.a.createElement("button",{className:"btn btn-primary btn-block text-center loginText",onClick:this.reset_password,disabled:this.state.loading},"Send OTP",this.state.loading?c.a.createElement(g.a,null):"")),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(h.b,{to:"/sign-in",className:"fs-13 achorColo"},"Login"))))))))}}]),a}(o.Component);t.default=Object(u.b)((function(e){return{auth:e.auth,settings:e.settings}}),{updateAuth:v.i})(b)}}]);
//# sourceMappingURL=111.2ce1937d.chunk.js.map