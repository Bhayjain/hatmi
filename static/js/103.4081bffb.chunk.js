(this.webpackJsonprootui=this.webpackJsonprootui||[]).push([[103],{1121:function(e,t,a){"use strict";a.r(t);var s=a(20),o=a(284),n=a(2),l=a(3),r=a(15),c=a(4),i=a(5),m=a(40),d=a(0),_=a.n(d),u=a(26),g=a(9),p=a(261),h=a(298),v=a(111),y=a(259),b=a(312),f=a(305),w=a(348),x=a(292),E=(a(591),a(429),a(669),a(551),a(7)),k=a.n(E),N=a(13),S=a(23),D=a(445),j=a(73),O=a(313),C=(a(314),window.innerWidth),T=window.innerHeight-document.querySelector(".rui-navbar-sticky").offsetHeight,I=T/2-100;if(C<600)I=T/2-50;var B=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var l,c;return Object(n.a)(this,a),c=t.call(this,e),Object(m.a)(Object(r.a)(c),"get_all_properties",(function(){var e=c.props.settings;fetch(e.api_url+"v1/property/get-all-properties",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t=e;if(1==t.status){var a=t.data;if(""==a||void 0==a||0==a.length)var s="";else s={value:a[0]._id,label:a[0].property_name,property_uid:a[0].property_uid,check_in_time:a[0].check_in_time,check_out_time:a[0].check_out_time};c.setState({all_property_array:t.data,property_type_array:t.data,property_deatils:s,check_in_time:a[0].check_in_time,check_out_time:a[0].check_out_time}),c.get_front_desk(c.state.start_date_new,c.state.last_day_new,a[0].property_uid)}else c.setState({all_property_array:[],property_type_array:[],property_uid:a[0].property_uid})}))})),Object(m.a)(Object(r.a)(c),"get_front_desk",(function(e,t,a){var s=c.props.settings,o={startDate:e,endDate:t};console.log("params",s.api_url+"v1/booking/get-front-desk-info/"+a,o);fetch(s.api_url+"v1/booking/get-front-desk-info/"+a,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log("Fetch Front Desk ***************",t);var a=t;if(1==a.status){var s=a.data,o=[],n=c.state.start_date_new,l=c.state.last_day_new,r=c.state.check_in_time,i=c.state.check_out_time;console.log("check_in_time",r),console.log("check_out_time",i);for(var m=e+" "+r,d=new Date(e+" "+i),_=new Date(m),u=Math.abs(_-d)/36e5,g=0;g<s.length;g++){console.log("******************",s[g]);var p=s[g].room_no_array,h=[];if(p.length>0)for(var v=0;v<p.length;v++){console.log("#####",p[v]);var y=p[v].room_details,b=[],f="";if(y.length>0)for(var w=0;w<y.length;w++)if(console.log("room_details",y),0==w)if(console.log("11111111111"),y[0].check_out==n){console.log("22222222222");var x=y[0].check_out+" 00:00",E=y[0].check_out+" "+i,k=new Date(x),N=new Date(E),S=Math.abs(N-k)/36e5;y[0].colSpan=S,b.push({colSpan:S,status:y[0].status,customer_name:y[0].name}),b.push({colSpan:u,status:"",customer_name:""}),f=y[0].check_out}else if(console.log("333333333"),y[0].check_in==n){console.log("4444444444444");x=y[0].check_in+" 00:00",E=y[0].check_in+" "+r;var D=y[0].check_out+" "+i,j=(k=new Date(x),N=new Date(E),new Date(D)),O=(S=Math.abs(N-k)/36e5,Math.abs(j-N)/36e5);y[0].colSpan=S,b.push({colSpan:S,status:"",customer_name:""}),b.push({colSpan:O,status:y[0].status,customer_name:y[0].name}),f=y[0].check_out}else if(console.log("555555555555"),y[0].check_out==l){var C=n+" 00:01";x=y[0].check_in+" "+r,E=y[0].check_out+" "+i;console.log("dateOne_new!!!!!!!!!!!!!",C),console.log("dateOne!!!!!!!!!!!!!",x);D=y[0].check_out+" 00:00";var T=new Date(C),I=(k=new Date(x),N=new Date(E),j=new Date(D),S=Math.abs(N-k)/36e5,O=Math.abs(j-N)/36e5,Math.abs(k-T)/36e5);b.push({colSpan:I,status:"",customer_name:""}),b.push({colSpan:S,status:y[0].status,customer_name:y[0].name}),b.push({colSpan:O,status:"",customer_name:""}),f=y[0].check_out}else{x=n+" 00:00",E=y[0].check_in+" "+r,D=y[0].check_out+" "+i;var B=l+" "+i,A=(k=new Date(x),N=new Date(E),j=new Date(D),new Date(B));S=Math.abs(N-k)/36e5,O=Math.abs(j-N)/36e5,I=Math.abs(A-j)/36e5;b.push({colSpan:S,status:"",customer_name:""}),b.push({colSpan:O,status:y[0].status,customer_name:y[0].name,id:y[0].id}),b.push({colSpan:I,status:"",customer_name:""}),f=y[0].check_out}else if(w!=y.length-1){x=f+" "+i,E=y[w].check_in+" "+r,D=y[w].check_out+" "+i,k=new Date(x),N=new Date(E),j=new Date(D),S=Math.abs(N-k)/36e5,O=Math.abs(j-N)/36e5;b.push({colSpan:S,status:"",customer_name:""}),b.push({colSpan:O,status:y[w].status,customer_name:y[w].name,id:y[0].id}),f=y[w].check_out}else{console.log("8888888888");x=f+" "+i,E=y[w].check_in+" "+r,k=new Date(x),N=new Date(E),S=Math.abs(N-k)/36e5;if(b.push({colSpan:S,status:"",customer_name:""}),y[w].check_in==l){console.log("9999999999");D=y[w].check_in+" 00:00",j=new Date(D),O=Math.abs(j-N)/36e5;b.push({colSpan:O,status:y[w].status,customer_name:y[w].name,id:y[0].id}),f=y[w].check_in}else{console.log("101010101010");D=y[w].check_out+" "+i,B=l+" 00:00",j=new Date(D),A=new Date(B),O=Math.abs(j-N)/36e5;b.push({colSpan:O,status:y[w].status,customer_name:y[w].name,id:y[0].id});var F=Math.abs(A-j)/36e5;b.push({colSpan:F,status:y[w].status,customer_name:y[w].name,id:y[0].id}),f=l}}console.log("room_details_array=======",b),h.push({room_no:p[v].room_no,room_details:b})}o.push({room_type:s[g].room_type,room_no_array:h})}console.log("front_desk_array previous",a.data),console.log("all_data_array",o),c.setState({front_desk_array:o,room_array:a.data,noDataFoundSingle:"block",isLoading:"none"})}else c.setState({front_desk_array:[],noDataFoundSingle:"block",isLoading:"none"})}))})),Object(m.a)(Object(r.a)(c),"handleDateClick",(function(e){e.dateStr})),Object(m.a)(Object(r.a)(c),"handleDatesSet",(function(e){for(var t=new Date(e.startStr),a=new Date(e.endStr),s=a.setDate(a.getDate()-1),o=[],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=new Date(t);l<=a;){var r=new Date(l),i=""+(r.getMonth()+1),m=""+r.getDate(),d=r.getFullYear();i.length<2&&(i="0"+i),m.length<2&&(m="0"+m);var _=[d,i,m].join("-"),u=new Date(l),g=u.setDate(u.getDate()+1),p=new Date(g),h=""+(p.getMonth()+1),v=""+p.getDate(),y=p.getFullYear();h.length<2&&(h="0"+h),v.length<2&&(v="0"+v);var b=[y,h,v].join("-");o.push({date:new Date(l),show_date:new Date(l).getDate(),show_day:n[new Date(l).getDay()],start_date:_,end_date:b,room_details_data:"",room_details_data_array:[]}),l.setDate(l.getDate()+1)}c.setState({weekDates:o,start_of_week:t.toISOString(),end_of_week:new Date(s).toISOString()}),setTimeout((function(){c.get_front_desk_test(t,s)}),100)})),Object(m.a)(Object(r.a)(c),"get_front_desk_test",(function(e,t){var a=new Date(e),s=""+(a.getMonth()+1),o=""+a.getDate(),n=a.getFullYear();s.length<2&&(s="0"+s),o.length<2&&(o="0"+o);var l=[n,s,o].join("-"),r=new Date(t),i=""+(r.getMonth()+1),m=""+r.getDate(),d=r.getFullYear();i.length<2&&(i="0"+i),m.length<2&&(m="0"+m);var _=[d,i,m].join("-");c.setState({start_date_new:l,last_day_new:_}),console.log(l,_),c.get_front_desk(l,_,c.state.property_deatils.property_uid)})),Object(m.a)(Object(r.a)(c),"data_cal",(function(e){var t=e.split(":"),a=60*+t[0]*60+60*+t[1]+ +t[2];return Math.round(a/86400*100)})),Object(m.a)(Object(r.a)(c),"openSideBar",(function(e){console.log("booki_new_id",e),document.getElementById("mySidenavFront").style.width=C<600?"100%":"660px",document.getElementById("mySidenavFront").style.boxShadow="rgb(177, 174, 174) 10px 0px 12px 12px",c.setState({room_number_change:"",update_error:"",borderNew:!1,loading:!1}),c.get_single_booking(e)})),Object(m.a)(Object(r.a)(c),"closeSideBar",(function(){document.getElementById("mySidenavFront").style.width="0",document.getElementById("mySidenavFront").style.boxShadow=" none"})),Object(m.a)(Object(r.a)(c),"get_single_booking",(function(e){console.log("booking_id",e);var t=c.props.settings;fetch(t.api_url+"v1/booking/get/"+e,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if(console.log("Get single booking Details!!!!!!!!!!!!! ***************",e),1==(t=e).status){for(var t,a=(t=t.data).room_info,s=0;s<a.length;s++){var o={value:a[s].room_number,label:a[s].room_number};a[s].room_number_new=o}var n=t.booking_status;if("check_in"==n)var l={value:"2",label:"Check-In",type:"check_in"};else if("check_out"==n)l={value:"3",label:"Check-Out",type:"check_out"};else if("cancel"==n)l={value:"5",label:"Cancel",type:"cancel"};else if("confimed"==n)l={value:"1",label:"Confimed",type:"confimed"};else if("blocked"==n)l={value:"4",label:"Blocked",type:"blocked"};else l={value:"6",label:"Pending",type:"pending"};c.setState({status:l,guest_name:t.customer_info.name,extra_service_array:t.extra_services_info,booking_id_new:t.booking_id,email:t.customer_info.email,country:"India",mobile_number:t.customer_info.mobile_number,purpose_of_visit:t.customer_info.purpose_of_visit,check_in:t.check_in,check_out:t.check_out,adults:t.adults,children:t.children,room_info:a,amount:t.billing_info.amount_payable,paid:0,balance:t.billing_info.amount_payable,new_room_id:t.room_info[0].room_uid,single_no_data:"none"}),console.log("!!!$$$$$$$%%%%%%%%%%%%%%",c.state.extra_service_array),console.log("new_room_id!!!$$$$$$$%%%%%%%%%%%%%%",c.state.new_room_id)}else c.setState({single_no_data:"block"})}))})),Object(m.a)(Object(r.a)(c),"room_change",(function(e,t,a){console.log("e",e);var s=c.state.room_info;s[t].room_number=e.label,s[t].room_number_new=e,c.setState({room_info:s}),console.log("room_info&&&&&&&&&&&&&&&&&&&&&&&&&&&&",s)})),Object(m.a)(Object(r.a)(c),"room_focus",(function(e,t){console.log("value",t);var a={room_type:t.room_type,check_in:c.state.check_in,check_out:c.state.check_out};console.log("params***********************",a),console.log("PROERTYYYYYYYYYYYY***********************",c.state.property_uid);var s=c.props.settings;console.log(s.api_url+"v1/booking/get-room-numbers/"+c.state.property_uid);fetch(s.api_url+"v1/booking/get-room-numbers/"+c.state.property_uid,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if(console.log("Get room number Details ***************",e),1==(t=e).status){var t=t.data;c.setState({get_room_array:t})}else c.setState({get_room_array:[],single_no_data:"block"})}))})),Object(m.a)(Object(r.a)(c),"updateBooking",(function(e,t,a){if(c.setState({loading:!1}),""==c.state.status||void 0==c.state.status)c.setState({update_error:"Please Select Booking Status",borderNew:!0,loading:!1});else{console.log(c.state.room_number_change);for(var s=c.state.room_info,o=[],n=0;n<s.length;n++){var l={room_uid:s[n].room_uid,extra_services:c.state.new_extra_services};o.push(l)}if(console.log("current_room_info",o),console.log("new_room_info",s),"changed"==c.state.room_number_change)var r={property_uid:e,new_room_info:s,current_room_info:o,booking_status:c.state.status.type,booking_id:a,extraService:c.state.newArray_extra};else r={property_uid:e,current_room_info:o,booking_status:c.state.status.type,booking_id:a,extraService:c.state.newArray_extra};console.log("***********************",r);var i=c.props,d=i.settings,_=i.addToast;console.log(d.api_url+"v1/booking/update/"+t);fetch(d.api_url+"v1/booking/update/"+t,{method:"PUT",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Booking  Details ***************",e);var t,a=e;1==a.status?(c.get_reservation(),c.closeNav(),_({title:"Hatimi",content:a.status,duration:1e3}),c.setState((t={loading:!1,status:"",room_info:[],update_error:"",borderNew:!1},Object(m.a)(t,"loading",!1),Object(m.a)(t,"checked",!1),Object(m.a)(t,"new_extraquantity",0),t))):(_({title:"Hatimi",content:a.status,duration:1e3}),c.setState({loading:!1,update_error:a.message,checked:!1,new_extraquantity:0}))}))}})),Object(m.a)(Object(r.a)(c),"get_room_maxcapacity",(function(e){var t=c.props.settings;fetch(t.api_url+"v1/property/room/get-max-capacity/"+e,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch room max capacityyyyyyyyyyy ***************",e);var t=e;1==t.status?(c.setState({max_capacity:t.max_capacity}),console.log("the first max_capacity000000",c.state.max_capacity)):c.setState({max_capacity:""})}))})),Object(m.a)(Object(r.a)(c),"get_room_for_booking",(function(e){console.log("Property UID:",e);var t=c.props.settings,a=new Date(c.state.startDate),s=a.getFullYear(),o=a.getMonth()+1,n=a.getDate();n<10&&(n="0"+n),o<10&&(o="0"+o);var l=s+"-"+o+"-"+n,r=new Date(c.state.endDate),i=r.getFullYear(),m=r.getMonth()+1,d=r.getDate();if(d<10)var _="0"+d;else _=d;d<10&&(d="0"+d),m<10&&(m="0"+m);var u={startDate:l,endDate:i+"-"+m+"-"+_,adults:Number(c.state.adult_val),children:Number(c.state.children_val),no_of_rooms:Number(c.state.room_val)};console.log("paramsssssssssssssssssssssssssssssssssssssss",u);fetch(t.api_url+"v1/property/room/get-available-rooms/"+e,{method:"POST",body:JSON.stringify(u),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch room bookingggggggg  ***************",e);var t=e;if(!0===t.status){for(var a=t.data,s=-1,o=-1,n=-1,l=0;l<a.length;l++)if(a[l].quantity=0,a[l].taxInfo){var r=a[l].taxInfo,i=r.cgst,m=r.igst,d=r.sgst;i>s&&(s=i,l),m>o&&(o=m,l),d>n&&(n=d,l)}else;console.log("Highest CGST value:",s),console.log("Highest IGST value:",o),console.log("Highest SGST value:",n),console.log("get_room_booking_array@@@@@@@@@@@@@@@@@@@@@@@@@@",c.state.get_room_booking_array),c.setState({get_room_booking_array:a,room_id:a._id,highestCgstIndex:s,highestIgstIndex:o,highestSgstIndex:n}),console.log("cgsttttttttttttt**************",c.state.highestCgstIndex)}else c.setState({get_room_booking_array:[],room_id:"",no_room_aviable_message:t.message})})).catch((function(e){console.error("Error fetching room booking:",e)}))})),Object(m.a)(Object(r.a)(c),"get_all_booking",(function(){var e=c.props.settings;fetch(e.api_url+"v1/booking/get",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch all booking ***************",e);var t=e;1==t.status?c.setState({get_all_booking_array:t.data}):c.setState({get_all_booking_array:[]})}))})),Object(m.a)(Object(r.a)(c),"get_all_coupan",(function(){var e=c.props.settings;fetch(e.api_url+"v1/master/coupon/get-all-coupons",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch all coupons ***************",e);var t=e;1==t.status?c.setState({coupons_array:t.data}):c.setState({coupons_array:[]})}))})),Object(m.a)(Object(r.a)(c),"get_all_extra_services",(function(){var e=c.props.settings;fetch(e.api_url+"v1/master/extra/get-all-extra-services",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch all extra services ***************",e);var t=e;if(1==t.status){for(var a=t.data,s=0;s<a.length;s++)a[s].extraquantity=0;console.log("get_room_booking_array extra",a),c.setState({get_all_extra_array:a})}else c.setState({get_all_extra_array:[]})}))})),Object(m.a)(Object(r.a)(c),"get_all_extra_services_reservation",(function(){var e=c.props.settings;fetch(e.api_url+"v1/master/extra/get-all-extra-services",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch all extra servicesssssssssss ***************",e);var t=e;if(1==t.status){for(var a=t.data,s=0;s<a.length;s++)a[s].new_extraquantity=0;console.log("get_room_booking_array extra",a),c.setState({get_all_extra_array_reservation:a})}else c.setState({get_all_extra_array_reservation:[]})}))})),Object(m.a)(Object(r.a)(c),"openNavExcel",(function(){document.getElementById("mySidenavExcel").style.width=C<600?"100%":"660px",document.getElementById("mySidenavExcel").style.boxShadow="rgb(177, 174, 174) 10px 0px 12px 12px",c.blank_data_show()})),Object(m.a)(Object(r.a)(c),"closeNav",(function(){document.getElementById("mySidenavExcel").style.width="0",document.getElementById("mySidenavExcel").style.boxShadow="none",c.blank_data_show()})),Object(m.a)(Object(r.a)(c),"blank_data_show",(function(){var e;c.setState((e={no_room_aviable_message:"",user_name:"",mobile:"",email_id:"",Purpose_visit:"",adult_val:"",children_val:"",room_val:""},Object(m.a)(e,"adult_val",2),Object(m.a)(e,"room_val",1),Object(m.a)(e,"children_val",2),Object(m.a)(e,"checked",!1),Object(m.a)(e,"showTable",!1),Object(m.a)(e,"selctproperty",""),Object(m.a)(e,"book_as_company",!1),Object(m.a)(e,"coupan_code",""),Object(m.a)(e,"maxReachedMessage",""),Object(m.a)(e,"startDate",new Date),Object(m.a)(e,"endDate",new Date),Object(m.a)(e,"get_room_booking_array",[]),Object(m.a)(e,"get_all_extra_array",[]),e))})),Object(m.a)(Object(r.a)(c),"add_remark",(function(e){var t=c.props,a=(t.addToast,t.settings);console.log("nnn");var s={name:c.state.user_name,mobile_number:Number(c.state.mobile),email:c.state.email_id,purpose_of_visit:c.state.Purpose_visit,coupon:c.state.coupan_code?c.state.coupan_code.label:""};console.log("customer_info:",s);for(var o=[],n=[],l=c.state.newArray,r=0;r<l.length;r++)"room"==l[r].type?o.push({room_type:l[r].billing_desc,room_count:l[r].quantity,room_price:Number(l[r].price)}):n.push({service_name:l[r].billing_desc,service_price:Number(l[r].price),service_count:l[r].quantity});var i={total_Cost:c.state.sub_total,discount:c.state.discount_amount,sgst:c.state.newsgst,cgst:c.state.newcgst,amount_payable:c.state.grand_total};if(console.log("startDate",c.state.startDate),console.log("endDate",c.state.endDate),""==c.state.startDate||void 0==c.state.startDate||""==c.state.endDate||void 0==c.state.endDate);else{var d=new Date(c.state.startDate),_=d.getFullYear(),u=d.getMonth()+1,g=d.getDate();g<10&&(g="0"+g),u<10&&(u="0"+u);var p=_+"-"+u+"-"+g,h=new Date(c.state.endDate),v=h.getFullYear(),y=h.getMonth()+1,b=h.getDate();if(b<10)var f="0"+b;else f=b;b<10&&(b="0"+b),y<10&&(y="0"+y);var w=v+"-"+y+"-"+f}var x={property_uid:c.state.property_uid,room_info:o,check_in:p,check_out:w,number_of_rooms:Number(c.state.room_val),adults:Number(c.state.adult_val),children:Number(c.state.children_val),extra_services_info:n,customer_info:s,billing_info:i,isBlockRoom:e};console.log("Params and Booking Data:",x);fetch(a.api_url+"v1/booking/create",{method:"POST",body:JSON.stringify(x),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){var t;console.log("Add booking Response ***************",e);c.get_front_desk(c.state.start_date_new,c.state.last_day_new,c.state.property_uid),c.closeNav(),c.setState((t={user_name:"",mobile:"",email_id:"",Purpose_visit:"",adult_val:"",children_val:"",room_val:""},Object(m.a)(t,"adult_val",2),Object(m.a)(t,"room_val",1),Object(m.a)(t,"children_val",2),Object(m.a)(t,"checked",!1),Object(m.a)(t,"showTable",!1),Object(m.a)(t,"selctproperty",""),Object(m.a)(t,"book_as_company",!1),Object(m.a)(t,"coupan_code",""),Object(m.a)(t,"maxReachedMessage",""),t))}))})),Object(m.a)(Object(r.a)(c),"add_count",(function(e,t,a,s,o){console.log("val",e),console.log("index",t),console.log("e",a);var n=c.state.get_room_booking_array;n[t].quantity=a;var l=a*s,r=c.state.newArray;if(r.length>0)if(0==e.quantity)r=r.filter((function(t){return t.billing_desc!==e.roomType}));else{var i=r.find((function(t){return t.billing_desc===e.roomType}));if(void 0!=i&&0!=i&&null!=i&&""!=i){i.Price;for(var m=e.quantity,d=0;d<r.length;d++)r[d].billing_desc==e.roomType&&(r[d].quantity=m,r[d].price=l,r[d].type="room")}else r.push({billing_desc:e.roomType,quantity:e.quantity,price:e.price,type:"room"})}else r.push({billing_desc:e.roomType,quantity:e.quantity,price:e.price,type:"room"});console.log("new_array",r);var _=0;for(d=0;d<r.length;d++)_+=Number(r[d].price);var u=c.state.highestIgstIndex/100,g=c.state.highestCgstIndex/100,p=c.state.highestSgstIndex/100,h=p*_,v=g*_,y=u*_;console.log("SGST",p),console.log("CGST",g),console.log("IGST",u);var b=_+h+v+y;c.setState({get_room_booking_array:n,calculatedPrice:l,newArray:r,sub_total:_,grand_total:b,newsgst:h,newcgst:v,newigst:y}),console.log("new_array",r),console.log("new_sub_total",_),console.log("cal_price",l),console.log("grand_totallllllll",b)})),Object(m.a)(Object(r.a)(c),"add_extra_count",(function(e,t,a,s){console.log("val",e),console.log("index",t),console.log("e",a);var o=c.state.get_all_extra_array;o[t].extraquantity=a;var n=a*s,l=c.state.newArray;if(l.length>0)if(0==e.extraquantity)l=l.filter((function(t){return t.billing_desc!==e.name}));else{var r=l.find((function(t){return t.billing_desc===e.name}));if(void 0!=r&&0!=r&&null!=r&&""!=r){r.Price;for(var i=e.extraquantity,m=0;m<l.length;m++)l[m].billing_desc==e.name&&(l[m].quantity=i,l[m].price=n,l[m].type="extra")}else l.push({billing_desc:e.name,quantity:e.extraquantity,price:e.cost,type:"extra"})}else l.push({billing_desc:e.name,quantity:e.extraquantity,price:e.cost,type:"extra"});console.log("new_array",l);var d=0;for(m=0;m<l.length;m++)d+=Number(l[m].price);var _=c.state.highestIgstIndex/100,u=c.state.highestCgstIndex/100,g=c.state.highestSgstIndex/100*d,p=u*d,h=_*d;console.log("SGST",g),console.log("CGST",p),console.log("IGST",h);var v=d+g+p+h;console.log("calculatedPrice",n),console.log("new_array",l),console.log("new_sub_total",d),console.log("grand_totallllllll",v),c.setState({get_all_extra_array:o,calculatedPrice:n,newArray:l,sub_total:d,grand_total:v,newsgst:g,newcgst:p,newigst:h})})),Object(m.a)(Object(r.a)(c),"handleNextButtonClickold",(function(){c.setState({showTable:!0})})),Object(m.a)(Object(r.a)(c),"swich_function_for_type_update",(function(){console.log("max capacityyyy&&&&&&&&",c.state.max_capacity),0==c.state.max_capacity?c.setState({max_capacitymessage_alert:"No rooms available"}):c.get_room_for_booking(c.state.property_uidnew),console.log("booking")})),Object(m.a)(Object(r.a)(c),"updateCheckedStatus",(function(e,t,a,s){t.extraquantity>0?t.checked=!0:t.checked=!1})),Object(m.a)(Object(r.a)(c),"add_extra_service",(function(e,t,a,s){if(console.log("value========",t),1==e){var o=c.state.get_all_extra_array_new;(n=c.state.get_all_extra_array)[a].checked=e,console.log("get all extra servicessssssssssssss",n),o.push(t),c.setState({get_all_extra_array_new:o,get_all_extra_array:n}),setTimeout((function(){console.log("get_all_extra_array",c.state.get_all_extra_array_new)}),1e3)}else{var n;c.state.newArray;(n=c.state.get_all_extra_array)[a].checked=!1,n[a].extraquantity=0,console.log("get all extra servicessssssssssssss",n),c.setState({get_all_extra_array:n}),c.delete_in_door_selectold(t)}setTimeout((function(){console.log("extra service select",c.state.get_all_extra_array)}),1e3)})),Object(m.a)(Object(r.a)(c),"handleCollapseClick",(function(e,t,a){console.log("isCheckedddddddddddd",e),console.log("indexxxxxxxxxxxxxx",t),console.log("valvvvvvv",a);var s=c.state.get_all_extra_array;s[t].check_box=e,console.log("get_all_extra_array dtatttttttttttttttt",c.state.get_all_extra_array),c.setState({get_all_extra_array:s})})),Object(m.a)(Object(r.a)(c),"delete_in_door_selectold",(function(e){console.log("VALUE",e);var t=c.state.newArray;console.log("newArrayyyyyyyyyyyyyyyyyyyyyy",c.state.newArray),t=t.filter((function(t){return t.billing_desc!==e.name}));for(var a=e._id,s=c.state.get_all_extra_array_new,o=0;o<s.length;o++)s[o]._id==a&&s.splice(o,1);c.setState({get_all_extra_array_new:s,newArray:t}),console.log("extra service delete",s),console.log("newArray the newwwwwwwwwwwwww",t)})),Object(m.a)(Object(r.a)(c),"update_coupon",(function(e){console.log("val&&&&&&&&&&&",e);var t=c.state.grand_total,a=c.state.grand_total;if(console.log("grand_total",t),null==e.discount_percent){var s=a-(o=e.discount_flat);console.log("new_grand_total ------------",s),c.setState({grand_total:s,discount_amount:o,discount_type:"Discount Rs"}),setTimeout((function(){console.log("discount_type",c.state.discount_type)}),1e3)}else{var o,n=e.discount_percent,l=(o=c.state.grand_total)*n/100;console.log("amount",o),console.log("result",l);s=o-l;console.log("new_grand_total",s),c.setState({grand_total:s,discount_amount:l,discount_type:"Discount ".concat(n,"%")}),setTimeout((function(){console.log("discount_type",c.state.discount_type)}),1e3)}})),Object(m.a)(Object(r.a)(c),"handleExtraServiceChange",(function(e,t){var a=Object(o.a)(c.state.extra_service_array),n=Object(s.a)({},a[t]);n.extra_service_val=e,console.log("updatedRoom!!!!!!!!!!!!!!",n),a[t]=n,console.log("updatedRoomInfo!!!!!!!!!!!!!!",a),c.setState({extra_service_array:a}),console.log("extra service array!!!!!",c.state.extra_service_array)})),Object(m.a)(Object(r.a)(c),"add_extra_service_reservations",(function(e,t,a){console.log("eeeeeeeeeeeeee",e),console.log("valuerrrrrrrrrrr",a),console.log("serviceIndex",t);var s=c.state.room_info,o=c.state.new_extra_services;console.log("extraSercvicess before modification:",o);var n=o.findIndex((function(e){return e.service_name===a.service_name&&e.service_price===a.service_price}));if(-1!==n)o[n].service_count=e,s[t].extra_services=o,s[t].service_count=e,c.setState({room_info:s,new_extra_services:o}),console.log("Updated existing service count.",c.state.new_extra_services);else{var l={service_count:e,service_name:a.service_name,service_price:a.service_price};o.push(l),s[t].extra_services=o,s[t].service_count=e,c.setState({room_info:s,new_extra_services:o}),console.log("Added new service.",c.state.new_extra_services)}})),Object(m.a)(Object(r.a)(c),"add_extra_count_reservation",(function(e,t,a,s){console.log("val",e),console.log("index",t),console.log("e",a);var o=c.state.get_all_extra_array_reservation;o[t].new_extraquantity=a;var n=a*s,l=c.state.newArray_extra;if(l.length>0)if(0==e.new_extraquantity)l=l.filter((function(t){return t.service_name!==e.name}));else{var r=l.find((function(t){return t.service_name===e.name}));if(void 0!=r&&0!=r&&null!=r&&""!=r){r.Price;for(var i=e.new_extraquantity,m=0;m<l.length;m++)l[m].service_name==e.name&&(l[m].quantity=i,l[m].price=n,l[m].type="extra")}else l.push({service_name:e.name,service_count:e.new_extraquantity,service_price:e.cost})}else l.push({service_name:e.name,service_count:e.new_extraquantity,service_price:e.cost});console.log("new_array",l);for(m=0;m<l.length;m++)Number(l[m].price);console.log("new_array",l),c.setState({get_all_extra_array_reservation:o,newArray_extra:l})})),Object(m.a)(Object(r.a)(c),"add_extra_service_accordion",(function(e,t,a,s){if(console.log("value========",t),1==e){var o=c.state.get_all_extra_array_reservation_new;(n=c.state.get_all_extra_array_reservation)[a].checked=e,console.log("get all extra servicessssssssssssss",n),o.push(t),c.setState({get_all_extra_array_reservation_new:o,get_all_extra_array_reservation:n}),setTimeout((function(){console.log("get_all_extra_array_reservation",c.state.get_all_extra_array_reservation_new)}),1e3)}else{var n;c.state.newArray_extra;(n=c.state.get_all_extra_array_reservation)[a].checked=!1,n[a].new_extraquantity=0,console.log("get all extra servicessssssssssssss",n),c.setState({get_all_extra_array_reservation:n}),c.delete_in_door_select(t)}setTimeout((function(){console.log("extra service select",c.state.get_all_extra_array_reservation)}),1e3)})),Object(m.a)(Object(r.a)(c),"delete_in_door_select",(function(e){console.log("VALUE",e);var t=c.state.newArray_extra;console.log("newArray_extrayyyyyyyyyyyyyyyyyyyyy",c.state.newArray_extra),t=t.filter((function(t){return t.service_name!==e.name}));for(var a=e._id,s=c.state.get_all_extra_array_reservation_new,o=0;o<s.length;o++)s[o]._id==a&&s.splice(o,1);c.setState({get_all_extra_array_reservation_new:s,newArray_extra:t}),console.log("extra service delete",s),console.log("newArray_extra the newwwwwwwwwwwwww",t)})),Object(m.a)(Object(r.a)(c),"get_reservation",(function(e){if(""==e||void 0==e){c.setState({current_page:1});var t=1}else{c.setState({current_page:e});t=e}console.log("page_no",t);var a=c.props.settings;fetch(a.api_url+"v1/booking/get?page="+t+"&pageSize=20",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log("Fetch reservation Details ***************",e),c.setState({isLoading:"none"});var t=e;if(console.log(t.totalPages),1==t.status){for(var a=t.data,s=0;s<a.length;s++)for(var o=a[s].room_info,n=0;n<o.length;n++){var l={value:o[n].room_number,label:o[n].room_number};o[n].room_number_new=l}if(console.log("reservation_array",a),a.length>0)var r="none";else r="block";c.setState({reservation_array:a,no_data:r,total_pages:t.totalPages,total:t.totalItems})}else c.setState({reservation_array:[],no_data:"block"})}))})),c.state=(l={weekDates:[],activeAccordion:1,front_desk_array:[],noDataFoundSingle:"none",isLoading:"block",all_property_array:[],property_deatils:"",reservation_array:[],room_info:[],get_room_array:[],adult_val:2,children_val:0,room_val:1,val1:3,val2:5,val3:8,val4:4,size:12,id:0,get_room_booking_array:[],max_capacitymessage_alert:"",get_all_extra_array:[],get_all_extra_array_new:[],extraquantity:0,new_sub_total:"",user_name:"",mobile:"",email_id:"",Purpose_visit:"",selectpropertytype:"",property_type_array:[],coupons_array:[],isBookAsCompany:!1,extra_services_cheked:!1,book_as_company:!1,showMessage:!1,get_all_booking_array:[],property_id:"",calculatedPrice:0,get_all_maxcapacity:[],max_capacity:"",newArray:[],sub_total:"",grand_total:"",discount_amount:"",discount_type:"Discount",showTable:!1,touchSpinDisabled:!1,new_grand_total:"",result:"",the_sgst:0,the_cgst:0,the_igst:0,highestSgstIndex:"",highestCgstIndex:"",highestIgstIndex:"",selctproperty:"",startDate:new Date,endDate:new Date,newhighestSgstIndex:"",room_number_change:"",update_error:"",borderNew:!1,loading:!1,maxCgst:"",showBlockOfCode:!1,newAdultValue:"",no_room_aviable_message:"",checked:!1,extra_service_array:[],extra_service_val:0,get_all_extra_array_reservation:[]},Object(m.a)(l,"activeAccordion",0),Object(m.a)(l,"extra_services_cheked",!1),Object(m.a)(l,"new_extraquantity",0),Object(m.a)(l,"newArray_extra",[]),Object(m.a)(l,"new_extra_services",[]),Object(m.a)(l,"get_all_extra_array_reservation_new",[]),Object(m.a)(l,"front_desk_control",k.a.get("front_desk_control")),Object(m.a)(l,"new_room_id",""),l),console.log("front_desk_control state:",c.state.front_desk_control),c.get_all_properties(),c.get_all_booking(),c.get_all_coupan(),c.get_all_extra_services_reservation(),c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("calendarnew");new window.FullCalendar.Calendar(e,{headerToolbar:{left:"today prev,next",center:"title",right:""},initialView:"resourceTimelineWeek",allDaySlot:!1,slotDuration:{day:1},resources:[{id:"1",title:"Room 101"},{id:"2",title:"Room 102"}],dateClick:this.handleDateClick,datesSet:this.handleDatesSet}).render()}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("calendarnew");e&&e.fullCalendar&&e.fullCalendar.destroy()}},{key:"calculateColSpan",value:function(e,t){var a=24*this.state.weekDates.indexOf(this.state.checkInDay)+this.state.checkInHour,s=24*this.state.weekDates.indexOf(e)+t;console.log("startIndex",a),console.log("endIndex",s);var o=s-a+1;return o>0?o:1}},{key:"render",value:function(){var e=this,t=this.state.get_room_array.map((function(e){return{value:e.room_number,label:e.room_number,room_name:e.room_name,room_type:e.room_type,room_uid:e.room_uid}})),a=this.state.activeAccordion,o=this.state,n=(o.weekDates,o.checkInDay,o.checkInHour,o.checkOutDay,o.checkOutHour,[]);if(console.log("index",this.state.new_index),console.log("frontDesk",this.state.front_desk_array),""==this.state.front_desk_array||0==this.state.front_desk_array.length);else{if(void 0==this.state.new_index)var l=0;else l=this.state.new_index;var r=this.state.front_desk_array[l].room_no_array;console.log("room_no_array*******************",r);for(var c=0;c<r.length;c++){var i=r[c].room_details,m=r[c].room_no,u=[];if(i.length>0)for(var E=function(t){S=i[t].colSpan,B=10*S+"px";var a;a=_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"show_new_td_data","aria-hidden":"true",onClick:function(){e.openSideBar(i[t].id)},style:{width:B,backgroundColor:"blocked"===i[t].status?"#D0D3D9":"booked"===i[t].status||"pending"===i[t].status||"check_in"===i[t].status?"#B6E9D1":"check_out"===i[t].status?"#ffeacf":"confimed"===i[t].status?"#c3dcff":"cancel"===i[t].status?"#ffbcb8":"",color:"blocked"===i[t].status?"#989FAD":"booked"===i[t].status||"pending"===i[t].status||"check_in"===i[t].status?"#12B76A":"check_out"===i[t].status?"#e88e17":"confimed"===i[t].status?"#257ffd":"cancel"===i[t].status?"#ff2c1e":""}},i[t].customer_name)),u.push(a)},k=0;k<i.length;k++){var S;E(k)}else{var C,B="240px";C=_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"show_new_td_data",style:{width:B}})),u.push(C)}var A=_.a.createElement("div",{className:"holeData"},_.a.createElement("div",{className:"roomData"},m)," ",_.a.createElement("div",{className:"dddddddddddddddddddddd"},u));n.push(A)}}var F=this.state.all_property_array.map((function(e){return{value:e._id,label:e.property_name,property_uid:e.property_uid,check_in_time:e.check_in_time,check_out_time:e.check_out_time}})),R=this.state.property_type_array.map((function(e){return{value:e.property_name,label:e.property_name,property_uid:e.property_uid}})),M=this.state.coupons_array.map((function(e){return{value:e.name,label:e.name,discount_flat:e.discount_flat,discount_percent:e.discount_percent}})),q={control:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{borderColor:t.isFocused?"rgba(114, 94, 195, 0.6)":"#eaecf0","&:hover":{borderColor:t.isFocused?"rgba(114, 94, 195, 0.6)":"#eaecf0"},boxShadow:t.isFocused?"0 0 0 0.2rem rgba(114, 94, 195, 0.2)":""})},option:function(e,t){var a="";return t.isSelected?a="#007bff":t.isFocused&&(a="rgba(114, 94, 195, 0.2)"),Object(s.a)(Object(s.a)({},e),{},{backgroundColor:a})},multiValueLabel:function(e){return Object(s.a)(Object(s.a)({},e),{},{color:"#545b61",backgroundColor:"#eeeeef"})}};this.state.get_room_array.map((function(e){return{value:e.room_number,label:e.room_number}}));return _.a.createElement(d.Fragment,null,_.a.createElement(g.a,{className:"PageTitlee bordeBottomLine"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 col-md-6"},_.a.createElement("h1",null,"Front Desk")),_.a.createElement("div",{className:"col-lg-6 col-md-6  propert_btn"},_.a.createElement("div",{className:"propertySelectAdd"},_.a.createElement(j.a,{value:this.state.property_deatils,defaultValue:F[0],options:F,styles:q,className:"contact_sort",placeholder:"Select property",onChange:function(t){e.setState({property_deatils:t,property_uid:t.property_uid,check_in_time:t.check_in_time,check_out_time:t.check_out_time}),e.get_front_desk(e.state.start_date_new,e.state.last_day_new,t.property_uid)}})),_.a.createElement(v.a,{disabled:"false"==this.state.front_desk_control,color:"primary",onClick:this.openNavExcel},"Add Booking")))),_.a.createElement("div",{className:"frontdeskContainer mt-16"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-4",style:{marginTop:"-20px"}},_.a.createElement("div",{id:"calendarnew"})),_.a.createElement("div",{className:"col-lg-8",style:{alignSelf:"center"}},_.a.createElement("div",{className:"showwwDataNew",style:{display:"inline-flex"}},_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCheckIn"}),_.a.createElement("div",{className:"headingSub"},"Check-In")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCheckOUT"}),_.a.createElement("div",{className:"headingSub"},"Check-Out")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxConfirmed"}),_.a.createElement("div",{className:"headingSub"},"Confimed")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxCancel"}),_.a.createElement("div",{className:"headingSub"},"Cancel")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxBooked"}),_.a.createElement("div",{className:"headingSub"},"Booked")),_.a.createElement("div",{className:"bookedDataNew"},_.a.createElement("div",{className:"smallBoxBlocked"}),_.a.createElement("div",{className:"headingSub"},"Blocked"))))),_.a.createElement(y.a,{color:"primary",className:"spinnerCss",style:{marginTop:I-100,display:this.state.isLoading}}),_.a.createElement("div",{className:"salary_show test_collapse mycalendar",style:{display:"none"==this.state.isLoading?"block":"none",height:T-121}},_.a.createElement("div",{className:"twocontainer mt-20"},_.a.createElement("div",{className:"room_typeContainer"},_.a.createElement("div",{className:"roomsssss"},"rooms")),_.a.createElement("div",{className:"weekContainer"},_.a.createElement("div",{className:"showInlinenew"},this.state.weekDates.map((function(e,t){return _.a.createElement("div",{key:t,className:"divNewwww",style:{width:"240px"}},_.a.createElement("div",{className:"date_calendar"},e.show_date),_.a.createElement("div",{className:"day_calendar"},e.show_day))}))))),_.a.createElement("div",{className:"colspan_start"},this.state.front_desk_array.map((function(t,s){return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"borderData"},_.a.createElement("div",{className:"accordion-group"},_.a.createElement("a",{href:"#",className:"collapse-link my_accordian",onClick:function(t){t.preventDefault(),e.setState({activeAccordion:a===s+1?0:s+1,new_index:s})}},_.a.createElement("div",{className:"headingEdit"},_.a.createElement("div",{className:"icon_data_new"},_.a.createElement(N.a,{name:"chevron-down",style:{display:a===s+1?"block":"none"}}),_.a.createElement(N.a,{name:"chevron-right",style:{display:a===s+1?"none":"block"}})),t.room_type))),_.a.createElement("div",null,a===s+1?_.a.createElement("div",{className:"test_collapse"},_.a.createElement(p.a,{className:"test_collapse paddingLeft",isOpen:s+1===a},n)):"")))}))))),_.a.createElement("div",{className:"task_list2Excel",id:"mySidenavFront"},_.a.createElement("div",{className:"mycalendar",style:{height:T}},_.a.createElement("div",{className:"padding_bothSide",style:{padding:"0px 16px"}},_.a.createElement("div",{className:"please",style:{padding:"6px 14px"}},_.a.createElement("h1",{className:"roomheadingNew fontWeight600"},"Booking ID : ",_.a.createElement("span",null,"1234")),_.a.createElement(N.a,{name:"x",style:{width:"18px",height:"18px",strokeWidth:"3.5"},className:"closebtn",onClick:this.closeSideBar})),_.a.createElement("div",{className:"show_dataNew mycalendar mt-20",style:{height:T-131}},_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Guest Name"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.guest_name))),_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Email Id"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.email)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Country"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.country))),_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Mobile Number"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.mobile_number)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-12 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Purpose Of Visit"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.purpose_of_visit)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Stay Dates"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.check_in?this.state.check_in.split("-").reverse().join("-"):""," "," to "," ",this.state.check_out?this.state.check_out.split("-").reverse().join("-"):""))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Adults"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.adults))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Childrens"),_.a.createElement("div",{className:"deatilsDataReservation"},this.state.children)))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement(f.a,{borderless:!0},_.a.createElement("thead",null,_.a.createElement("tr",null,_.a.createElement("th",{scope:"col"},"Room Type"),_.a.createElement("th",{scope:"col"},"Room Number"),_.a.createElement("th",{scope:"col"},"Extra Services"))),_.a.createElement("tbody",null,this.state.room_info.map((function(a,s){return console.log("room_infoooooo@@@@@@@",e.state.room_info),_.a.createElement("tr",{key:s},_.a.createElement("td",null,a.room_type),_.a.createElement("td",null,_.a.createElement(j.a,{value:a.room_number_new,options:t,styles:q,className:e.state.borderRed&&""==e.state.room_no?"is_not_valid newDataInlineNew":"contact_sort newDataInlineNew",placeholder:"Select Room No",onChange:function(t){e.setState({room_number_change:"changed"}),console.log("new_room_iddddddddddddd",new_room_id),e.room_change(t,s,a)},onFocus:function(t){e.room_focus(s,a)},style:{whiteSpace:"nowrap"}})),_.a.createElement("td",null,e.state.extra_service_array.map((function(e,t){return _.a.createElement("div",{className:"now-rappp",key:t},_.a.createElement("span",{className:"price_P"},e.service_name),_.a.createElement("span",{className:"price_P"},null!==e.service_price&&"-\u20b9",e.service_price))}))),_.a.createElement("td",{className:"touch-spin"},e.state.extra_service_array.map((function(t,a){return _.a.createElement(D.a,{key:a,value:isNaN(t.extra_service_val)?0:t.extra_service_val,min:0,max:t.service_count,step:1,className:"touchspinnew",onChange:function(o){e.handleExtraServiceChange(o,a),e.add_extra_service_reservations(o,s,t)}})}))))}))))),_.a.createElement("div",{className:"accordion-group new_accordiom"},_.a.createElement("a",{href:"#",className:"collapse-link",onClick:function(t){t.preventDefault(),e.setState({activeAccordion:1===a?0:1})}},"Add extra services"),_.a.createElement(p.a,{isOpen:1===a},_.a.createElement("div",{className:"collapse-content"},_.a.createElement("div",{className:"row test_collapse"},this.state.get_all_extra_array_reservation.map((function(t,a){return _.a.createElement("div",{className:"col-lg-3 col-md-2 test_collapse",style:{marginBottom:"30px"},key:a},_.a.createElement("div",{"aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){e.add_extra_service_accordion(!t.checked,t,a)}},_.a.createElement("div",{className:"containerIconRoomm icon_room-padding test_collapse  ",style:{border:t.checked?"1px solid #007BFF":"1px solid"}},_.a.createElement(w.a,{className:"the-checkbox",checked:t.checked,type:"checkbox",id:"formCheckbox1"+a,onChange:function(s){e.setState({extra_services_cheked:s.target.checked},(function(){console.log("extra_services_chekeddddddddddddddddddddddddddddddddd",e.state.extra_services_cheked)})),e.add_extra_service_accordion(!t.checked,t,a)}}),_.a.createElement("div",{className:"img_iconn img-widthh"},_.a.createElement("img",{className:"img-height img-heighttt",src:t.logo,alt:"img"})),_.a.createElement("div",{className:"name_aminitiess"},t.name),""==t.cost||void 0==t.cost?"":_.a.createElement("div",{className:"costTypeShow_extra the-new-extra"},"\u20b9",t.cost)),"  "),_.a.createElement("div",{"aria-hidden":"true",onClick:function(){e.updateCheckedStatus(!t.checked,t,a)}},_.a.createElement("div",{className:"touch-spin plus-minu "},_.a.createElement(D.a,{value:t.new_extraquantity,min:0,max:100,step:1,onChange:function(s){e.add_extra_count_reservation(t,a,s,t.cost,t.new_extraquantity)},className:"first-touchspin ony-for-this for extraservice"}))))})))))),_.a.createElement("div",{className:"row borderBootomColorNew"},_.a.createElement("div",{className:"col-lg-6 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Amount/Paid"),_.a.createElement("div",{className:"deatilsDataReservation"},"Rs- "+this.state.amount+"/"+this.state.paid))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Balance"),_.a.createElement("div",{className:"deatilsDataReservation"},"Rs- "+this.state.balance))),_.a.createElement("div",{className:"col-lg-3 col-md-12 mb-15"},_.a.createElement("div",{className:"subDeatils"},_.a.createElement(b.a,{className:"labelforall"},"Status"),_.a.createElement(j.a,{value:this.state.status,options:[{value:"1",label:"Confimed",type:"confimed"},{value:"2",label:"Check-In",type:"check_in"},{value:"3",label:"Check-Out",type:"check_out"},{value:"4",label:"Blocked",type:"blocked"},{value:"5",label:"Cancel",type:"cancel"}],styles:q,className:this.state.borderRed&&""==this.state.status?"is_not_valid newDataInlineNew":"contact_sort newDataInlineNew",placeholder:"Select Status",onChange:function(t){e.setState({status:t,error_message_for_property:""})}}))),_.a.createElement("div",{className:"col-lg-12 col-md-12",style:{display:""==this.state.update_error?"none":"block"}},_.a.createElement("p",{className:"falseStatus"},this.state.update_error)))),_.a.createElement("div",{className:"",style:{marginTop:"-30px"}},_.a.createElement(h.a,{style:{justifyContent:"center"}},_.a.createElement(v.a,{color:"secondary",onClick:this.closeSideBar},"Close")," ",_.a.createElement(v.a,{color:"primary",disabled:this.state.loading,style:{color:"#fff"},onClick:function(){return e.updateBooking(e.state.property_uid,e.state.reservation_id,e.state.booking_id)}},"Proceed",this.state.loading?_.a.createElement(y.a,null):"")))))),_.a.createElement("div",null,_.a.createElement("div",{className:"task_list2Excel mycalendar",style:{height:T},id:"mySidenavExcel"},_.a.createElement("div",{className:"modal-padding",style:{height:T}},_.a.createElement("div",{className:"please please-topp"},_.a.createElement("h3",{className:"roomheadingNew"},"Add Booking"),_.a.createElement(N.a,{name:"x",style:{width:"18px",height:"18px",strokeWidth:"3.5"},className:"closebtn",onClick:this.closeNav})),_.a.createElement("div",{className:"row row-margin"},_.a.createElement("div",{className:"col-lg-6 col-md-6"},_.a.createElement(b.a,{className:"label-marging"},"Select Property"),_.a.createElement(j.a,{value:this.state.selctproperty,options:R,styles:q,className:"contact_sort the-cont",placeholder:"Select Property type",onChange:function(t){e.setState({selctproperty:t,property_uid:t.property_uid,property_uidnew:t.property_uid,max_capacitymessage_alert:"",showTable:!1,max_capacity:""}),console.log("Selected Property:",t),e.get_room_maxcapacity(t.property_uid),t&&e.setState({room_val:1,newAdultValue:0})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 col-sd-6"},_.a.createElement(b.a,{className:"label-marging"},"Dates of Stay"),_.a.createElement(O.RangeDatePicker,{name:"daterange",startDate:this.state.startDate,endDate:this.state.endDate,onChange:function(t,a){e.setState({startDate:t,endDate:a,daterang:[new Date(t).toISOString(),new Date(a).toISOString()]})},minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),dateFormat:"DD-MM-YYYY  ",monthFormat:"MM YYYY",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",disabled:!1,className:"my-own-class-name nightclass a1 laptop-view",startWeekDay:"monday"}))),_.a.createElement("div",{className:"row rowfullmar"},_.a.createElement("div",{className:"col-lg-6"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 touch-spin "},_.a.createElement(b.a,{className:"label-marging"},"Room"),_.a.createElement("div",null,_.a.createElement(D.a,{value:this.state.room_val,min:0,max:100,step:1,className:"first-touchspin",onChange:function(t){console.log("selctproperty:",e.state.selctproperty),console.log("max_capacity:",e.state.max_capacity),e.state.selctproperty&&0!==e.state.max_capacity&&(e.setState({room_val:t,maxReachedMessage:""}),console.log("room",t))}}))),_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement(b.a,{className:"label-marging"},"Adult"),_.a.createElement(D.a,{className:"first-touchspin",value:this.state.adult_val,min:0,max:100,step:1,disabled:!this.state.selctproperty,onChange:function(t){var a=e.state.room_val*e.state.max_capacity,s=Math.min(t,a);e.setState({adult_val:s,maxReachedMessage:s===a}),console.log("adult val",s)}})),_.a.createElement("div",{className:"max_capacitymessage_alert__ test_collapse"},this.state.max_capacitymessage_alert?_.a.createElement("span",{className:"allow-limit-msg test_collapse"},this.state.max_capacitymessage_alert):_.a.createElement("div",{className:"max_capacitymessage_alert__ test_collapse"},this.state.maxReachedMessage&&_.a.createElement("div",{className:"allow-limit-msg test_collapse",style:{color:"red"}},"Maximum allowed value reached. If you want to increase adults, then you have to increase room numbers."))))),_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement("div",{className:"room-nest"},_.a.createElement("div",{className:"col-lg-6 touch-spin"},_.a.createElement(b.a,{className:"label-marging"},"Childeren"),_.a.createElement(D.a,{value:this.state.children_val,min:0,max:100,step:1,disabled:!this.state.selctproperty,className:"touchspinnew",onChange:function(t){e.setState({children_val:t})}})),_.a.createElement(v.a,{className:"the-new-btn",onClick:function(){e.swich_function_for_type_update(e.state.property_uidnew),e.handleNextButtonClickold(),e.get_all_extra_services()},disabled:!this.state.selctproperty||0==this.state.max_capacity,color:"primary"},"Next")))),""==this.state.no_room_aviable_message?"":_.a.createElement("h3",{className:"no_room_data"},this.state.no_room_aviable_message),_.a.createElement("div",{style:{display:""==this.state.no_room_aviable_message?"block":"none"}},this.state.showTable&&!this.state.max_capacitymessage_alert&&_.a.createElement(f.a,{className:"table-tdd test_collapse"},_.a.createElement("thead",{className:"test_collapse"},_.a.createElement("tr",{className:"tabletttt"},_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Room type"),_.a.createElement("th",{scope:"col",className:"borderTopNone"}," Available Room"),_.a.createElement("th",{scope:"col",className:"borderTopNone"}," Max Occupancy"),_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Price"),_.a.createElement("th",{style:{textAlign:"end",marginRight:"18px"},scope:"col",className:"borderTopNone"}))),_.a.createElement("tbody",{className:"test_collapse"},this.state.get_room_booking_array.map((function(t,a){return _.a.createElement("tr",{key:a,className:"data-caps test_collapse "},_.a.createElement("th",{scope:"row",style:{textTransform:"capitalize"}},t.roomType),_.a.createElement("td",{className:"data-caps"},t.availableRooms),_.a.createElement("td",{className:"data-caps"},t.max_guest_occupancy),_.a.createElement("td",{className:"data-caps"},"\u20b9",t.price),_.a.createElement("td",{className:"new_touchhhh"},_.a.createElement("div",{className:"touch-spin plus-minu"},_.a.createElement(D.a,{value:t.quantity,min:0,max:t.availableRooms,step:1,onChange:function(s){e.add_count(t,a,s,t.price,t.availableRooms)},className:"first-touchspin "}))))}))))),!this.state.max_capacitymessage_alert&&this.state.showTable&&_.a.createElement("div",{className:"row test_collapse"},this.state.get_all_extra_array.map((function(t,a){return _.a.createElement("div",{className:"col-lg-3 col-md-2 test_collapse",style:{marginBottom:"30px"},key:a},_.a.createElement("div",{"aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){e.add_extra_service(!t.checked,t,a)}},_.a.createElement("div",{className:"containerIconRoomm icon_room-padding test_collapse  ",style:{border:t.checked?"1px solid #007BFF":"1px solid"}},_.a.createElement(w.a,{className:"the-checkbox",checked:t.checked,type:"checkbox",id:"formCheckbox1"+a,onChange:function(s){e.setState({extra_services_cheked:s.target.checked},(function(){console.log("extra_services_chekeddddddddddddddddddddddddddddddddd",e.state.extra_services_cheked)})),e.add_extra_service(!t.checked,t,a)}}),_.a.createElement("div",{className:"img_iconn img-widthh"},_.a.createElement("img",{className:"img-height img-heighttt",src:t.logo,alt:"img"})),_.a.createElement("div",{className:"name_aminitiess"},t.name),""==t.cost||void 0==t.cost?"":_.a.createElement("div",{className:"costTypeShow_extra the-new-extra"},"\u20b9",t.cost)),"  "),_.a.createElement("div",{"aria-hidden":"true",onClick:function(){e.updateCheckedStatus(!t.checked,t,a)}},_.a.createElement("div",{className:"touch-spin plus-minu "},_.a.createElement(D.a,{value:t.extraquantity,min:0,max:100,step:1,onChange:function(s){e.add_extra_count(t,a,s,t.cost,t.extraquantity)},className:"first-touchspin ony-for-this for extraservice "}))))}))),_.a.createElement("div",{className:"cus-imf"},_.a.createElement("h6",null,"Customer Information"),_.a.createElement("hr",{className:"hr"}),_.a.createElement(w.a,{type:"checkbox",label:"Book as Company",id:"formCheckboxAminities",onChange:function(t){e.setState({book_as_company:t.target.checked})}})),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Name"),_.a.createElement(x.a,{type:"text",value:this.state.user_name,disabled:0==this.state.book_as_company,className:"form-control",placeholder:"Name",onChange:function(t){e.setState({user_name:t.target.value})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Mobile No"),_.a.createElement(x.a,{type:"text",value:this.state.mobile,className:"form-control",disabled:0==this.state.book_as_company,placeholder:"Mobile No",onChange:function(t){e.setState({mobile:t.target.value})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Emial ID"),_.a.createElement(x.a,{type:"text",value:this.state.email_id,disabled:0==this.state.book_as_company,className:"form-control",placeholder:"Email ID",onChange:function(t){e.setState({email_id:t.target.value})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15"},_.a.createElement(b.a,{className:"labelforall marginforlabel"}," Purpose of visit"),_.a.createElement(x.a,{type:"text",value:this.state.Purpose_visit,disabled:0==this.state.book_as_company,className:"form-control",placeholder:"Purpose of visit",onChange:function(t){e.setState({Purpose_visit:t.target.value})}})),_.a.createElement("div",{className:"col-lg-6 col-md-6 mb-15",style:{pointerEvents:""==this.state.newArray?"none":"all"}},_.a.createElement(b.a,{className:"labelforall marginforlabel"},"Coupon code"),_.a.createElement(j.a,{value:this.state.coupan_code,options:M,styles:q,className:"contact_sort the-cont",placeholder:"Select Coupon",onChange:function(t){e.setState({coupan_code:t}),e.update_coupon(t)}}))),this.state.newArray&&this.state.newArray.length>0&&!this.state.max_capacitymessage_alert&&_.a.createElement(f.a,{className:"test_collapse"},_.a.createElement("thead",{className:"test_collapse"},_.a.createElement("tr",{className:"test_collapse"},_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Billing Description"),_.a.createElement("th",{scope:"col",className:"borderTopNone"},"Quantity"),_.a.createElement("th",{scope:"col",className:"borderTopNone alignrightcorner"},"Amount"))),_.a.createElement("tbody",{className:"test_collapse"},this.state.newArray.map((function(e,t){return _.a.createElement("tr",{key:t,className:"data-caps test_collapse"},_.a.createElement("th",{scope:"row"},e.billing_desc),_.a.createElement("td",{className:"data-caps"},e.quantity),_.a.createElement("td",{className:"data-caps alignrightcorner"}," \u20b9",e.price))})))),this.state.newArray&&this.state.newArray.length>0&&!this.state.max_capacitymessage_alert&&_.a.createElement("div",{className:"grand-total test_collapse"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-text"}," Sub Total ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,null!==this.state.sub_total&&"\u20b9"," ",this.state.sub_total))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," SGST  ",this.state.highestSgstIndex," ",null!==this.state.highestSgstIndex&&"%")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(N.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newcgst&&"\u20b9","  ",this.state.newsgst," "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," CGST ",this.state.highestCgstIndex,"  ",null!==this.state.highestCgstIndex&&"%"," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(N.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newcgst&&"\u20b9"," ",this.state.newcgst," "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," IGST ",this.state.highestIgstIndex," ",null!==this.state.highestCgstIndex&&"%"," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(N.a,{style:{marginRight:"12px"},name:"plus"})," ",null!==this.state.newigst&&"\u20b9"," ",this.state.newigst,"  "))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-texttt"}," ",this.state.discount_type," ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null,_.a.createElement(N.a,{style:{marginRight:"12px"},name:"minus"})," ",this.state.discount_amount," "))),_.a.createElement("hr",null),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"col-lg-6 text-collll"},_.a.createElement("span",{className:"span-text"}," Grand Total ")),_.a.createElement("div",{className:"col-lg-6 rupess-colll"},_.a.createElement("span",null," ",null!==this.state.grand_total&&"\u20b9","  ",this.state.grand_total))))),_.a.createElement("div",{className:"last-button"},_.a.createElement("div",{className:"button-book"},_.a.createElement(v.a,{className:"the-new-btnn mar-rig test_collapse",onClick:function(){e.add_remark(!0)},style:{display:!1===this.state.book_as_company?"none":"inline-flex"}},"Block Now"),_.a.createElement(v.a,{color:"primary",className:"the-new-btnn mar-buttonnn",onClick:function(){e.add_remark(!1)}},"Book Now"))))))}}]),a}(d.Component);t.default=Object(u.b)((function(e){return{settings:e.settings}}),{addToast:S.f})(B)},284:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(61);var o=a(77);function n(e){return function(e){if(Array.isArray(e))return Object(s.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},591:function(e,t,a){}}]);
//# sourceMappingURL=103.4081bffb.chunk.js.map